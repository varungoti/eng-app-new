{
  "metadata": {
    "timestamp": "2025-03-02T12:08:57.315Z",
    "projectId": "pxjhsbezqybrksmcpwmx",
    "version": "1.0"
  },
  "tables": {
    "exercise_prompts": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "text",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "media",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "type",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "narration",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "saytext",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "question_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "timezone('utc'::text, now())",
          "nullable": "NO"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "timezone('utc'::text, now())",
          "nullable": "NO"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "order_index",
          "type": "bigint",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "voice_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "metadata",
          "type": "ARRAY",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "lesson_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "exercise_prompts_pkey",
          "definition": "CREATE UNIQUE INDEX exercise_prompts_pkey ON public.exercise_prompts USING btree (id)"
        },
        {
          "name": "idx_exercise_prompts_questionid",
          "definition": "CREATE INDEX idx_exercise_prompts_questionid ON public.exercise_prompts USING btree (question_id)"
        },
        {
          "name": "idx_exercise_prompts_question_id",
          "definition": "CREATE INDEX idx_exercise_prompts_question_id ON public.exercise_prompts USING btree (question_id)"
        },
        {
          "name": "idx_exercise_prompts_order",
          "definition": "CREATE INDEX idx_exercise_prompts_order ON public.exercise_prompts USING btree (order_index)"
        }
      ],
      "policies": [
        {
          "name": "Enable all access to exercise_prompts",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        },
        {
          "name": "Enable read access for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "exercise_prompts_lesson_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "exercise_prompts_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "exercise_prompts_question_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "exercise_prompts_type_check",
          "type": "CHECK"
        },
        {
          "name": "exercise_prompts_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "exercise_prompts_voice_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_55306_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_55306_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_55306_8_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_55306_9_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_55306_11_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "exercise_prompts_lesson_id_fkey",
          "column": "lesson_id",
          "foreign_table": "lessons",
          "foreign_column": "id"
        },
        {
          "name": "exercise_prompts_pkey",
          "column": "id",
          "foreign_table": "exercise_prompts",
          "foreign_column": "id"
        },
        {
          "name": "exercise_prompts_question_id_fkey",
          "column": "question_id",
          "foreign_table": "questions",
          "foreign_column": "id"
        },
        {
          "name": "exercise_prompts_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "exercise_prompts_voice_id_fkey",
          "column": "voice_id",
          "foreign_table": "voices",
          "foreign_column": "id"
        }
      ]
    },
    "students": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "last_name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "roll_number",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "school_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "grade_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "gender",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "date_of_birth",
          "type": "date",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "contact_number",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "email",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "address",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "guardian_name",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "guardian_contact",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "first_name",
          "type": "text",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "students_pkey",
          "definition": "CREATE UNIQUE INDEX students_pkey ON public.students USING btree (id)"
        },
        {
          "name": "students_school_id_roll_number_key",
          "definition": "CREATE UNIQUE INDEX students_school_id_roll_number_key ON public.students USING btree (school_id, roll_number)"
        },
        {
          "name": "idx_students_school_id",
          "definition": "CREATE INDEX idx_students_school_id ON public.students USING btree (school_id)"
        },
        {
          "name": "idx_students_grade_id",
          "definition": "CREATE INDEX idx_students_grade_id ON public.students USING btree (grade_id)"
        },
        {
          "name": "idx_students_roll_number",
          "definition": "CREATE INDEX idx_students_roll_number ON public.students USING btree (roll_number)"
        }
      ],
      "policies": [
        {
          "name": "students_manage_policy_v2",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        },
        {
          "name": "students_manage_policy_v3",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        },
        {
          "name": "students_view_policy_v2",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "students_view_policy_v3",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": [
        {
          "name": "set_timestamp",
          "event": "UPDATE",
          "timing": "BEFORE"
        },
        {
          "name": "update_students_updated_at",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "fk_student_grade",
          "type": "FOREIGN KEY"
        },
        {
          "name": "students_gender_check",
          "type": "CHECK"
        },
        {
          "name": "students_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "students_school_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "students_school_id_roll_number_key",
          "type": "UNIQUE"
        },
        {
          "name": "2200_30925_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30925_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30925_3_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "fk_student_grade",
          "column": "grade_id",
          "foreign_table": "grades",
          "foreign_column": "id"
        },
        {
          "name": "students_pkey",
          "column": "id",
          "foreign_table": "students",
          "foreign_column": "id"
        },
        {
          "name": "students_school_id_fkey",
          "column": "school_id",
          "foreign_table": "schools",
          "foreign_column": "id"
        },
        {
          "name": "students_school_id_roll_number_key",
          "column": "school_id",
          "foreign_table": "students",
          "foreign_column": "school_id"
        },
        {
          "name": "students_school_id_roll_number_key",
          "column": "school_id",
          "foreign_table": "students",
          "foreign_column": "roll_number"
        },
        {
          "name": "students_school_id_roll_number_key",
          "column": "roll_number",
          "foreign_table": "students",
          "foreign_column": "school_id"
        },
        {
          "name": "students_school_id_roll_number_key",
          "column": "roll_number",
          "foreign_table": "students",
          "foreign_column": "roll_number"
        }
      ]
    },
    "sales_leads": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "company_name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "contact_name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "email",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "phone",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "status",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "source",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "assigned_to",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "estimated_value",
          "type": "numeric",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "probability",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "expected_close_date",
          "type": "date",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "notes",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "schoolname",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "location",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "branch",
          "type": "text",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "sales_leads_pkey",
          "definition": "CREATE UNIQUE INDEX sales_leads_pkey ON public.sales_leads USING btree (id)"
        },
        {
          "name": "idx_sales_leads_status",
          "definition": "CREATE INDEX idx_sales_leads_status ON public.sales_leads USING btree (status)"
        },
        {
          "name": "idx_sales_leads_assigned_to",
          "definition": "CREATE INDEX idx_sales_leads_assigned_to ON public.sales_leads USING btree (assigned_to)"
        }
      ],
      "policies": [
        {
          "name": "Enable read for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable write for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "sales_leads_assigned_to_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "sales_leads_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "sales_leads_probability_check",
          "type": "CHECK"
        },
        {
          "name": "sales_leads_status_check",
          "type": "CHECK"
        },
        {
          "name": "2200_29964_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29964_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29964_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29964_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29964_6_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "sales_leads_assigned_to_fkey",
          "column": "assigned_to",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "sales_leads_pkey",
          "column": "id",
          "foreign_table": "sales_leads",
          "foreign_column": "id"
        }
      ]
    },
    "sales_activities": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "lead_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "subject",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "status",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "due_date",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "performed_by",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "sales_activities_pkey",
          "definition": "CREATE UNIQUE INDEX sales_activities_pkey ON public.sales_activities USING btree (id)"
        },
        {
          "name": "idx_sales_activities_lead_id",
          "definition": "CREATE INDEX idx_sales_activities_lead_id ON public.sales_activities USING btree (lead_id)"
        }
      ],
      "policies": [
        {
          "name": "Enable read for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable write for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "sales_activities_lead_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "sales_activities_performed_by_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "sales_activities_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "sales_activities_status_check",
          "type": "CHECK"
        },
        {
          "name": "sales_activities_type_check",
          "type": "CHECK"
        },
        {
          "name": "2200_29981_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29981_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29981_4_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "sales_activities_lead_id_fkey",
          "column": "lead_id",
          "foreign_table": "sales_leads",
          "foreign_column": "id"
        },
        {
          "name": "sales_activities_performed_by_fkey",
          "column": "performed_by",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "sales_activities_pkey",
          "column": "id",
          "foreign_table": "sales_activities",
          "foreign_column": "id"
        }
      ]
    },
    "sales_opportunities": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "lead_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "stage",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "amount",
          "type": "numeric",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "close_date",
          "type": "date",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "probability",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "next_step",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "competition",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "notes",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "sales_opportunities_pkey",
          "definition": "CREATE UNIQUE INDEX sales_opportunities_pkey ON public.sales_opportunities USING btree (id)"
        },
        {
          "name": "idx_sales_opportunities_lead_id",
          "definition": "CREATE INDEX idx_sales_opportunities_lead_id ON public.sales_opportunities USING btree (lead_id)"
        }
      ],
      "policies": [
        {
          "name": "Enable read for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable write for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "sales_opportunities_lead_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "sales_opportunities_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "sales_opportunities_probability_check",
          "type": "CHECK"
        },
        {
          "name": "sales_opportunities_stage_check",
          "type": "CHECK"
        },
        {
          "name": "2200_30002_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30002_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30002_4_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "sales_opportunities_lead_id_fkey",
          "column": "lead_id",
          "foreign_table": "sales_leads",
          "foreign_column": "id"
        },
        {
          "name": "sales_opportunities_pkey",
          "column": "id",
          "foreign_table": "sales_opportunities",
          "foreign_column": "id"
        }
      ]
    },
    "user_preferences": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "preferences",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "preferred_voice_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "user_preferences_pkey",
          "definition": "CREATE UNIQUE INDEX user_preferences_pkey ON public.user_preferences USING btree (id)"
        },
        {
          "name": "user_preferences_user_id_key",
          "definition": "CREATE UNIQUE INDEX user_preferences_user_id_key ON public.user_preferences USING btree (user_id)"
        }
      ],
      "policies": [
        {
          "name": "Users can manage their own preferences",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "user_preferences_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "user_preferences_preferred_voice_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "user_preferences_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "user_preferences_user_id_key",
          "type": "UNIQUE"
        },
        {
          "name": "2200_30151_1_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "user_preferences_pkey",
          "column": "id",
          "foreign_table": "user_preferences",
          "foreign_column": "id"
        },
        {
          "name": "user_preferences_preferred_voice_id_fkey",
          "column": "preferred_voice_id",
          "foreign_table": "voices",
          "foreign_column": "id"
        },
        {
          "name": "user_preferences_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "user_preferences_user_id_key",
          "column": "user_id",
          "foreign_table": "user_preferences",
          "foreign_column": "user_id"
        }
      ]
    },
    "sales_contacts": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "lead_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "title",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "email",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "phone",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "is_primary",
          "type": "boolean",
          "default": "false",
          "nullable": "YES"
        },
        {
          "name": "department",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "notes",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "sales_contacts_pkey",
          "definition": "CREATE UNIQUE INDEX sales_contacts_pkey ON public.sales_contacts USING btree (id)"
        },
        {
          "name": "idx_sales_contacts_lead_id",
          "definition": "CREATE INDEX idx_sales_contacts_lead_id ON public.sales_contacts USING btree (lead_id)"
        }
      ],
      "policies": [
        {
          "name": "Enable read for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable write for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "sales_contacts_lead_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "sales_contacts_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_30019_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30019_3_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "sales_contacts_lead_id_fkey",
          "column": "lead_id",
          "foreign_table": "sales_leads",
          "foreign_column": "id"
        },
        {
          "name": "sales_contacts_pkey",
          "column": "id",
          "foreign_table": "sales_contacts",
          "foreign_column": "id"
        }
      ]
    },
    "user_schools": {
      "columns": [
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "school_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        }
      ],
      "indexes": [
        {
          "name": "user_schools_pkey",
          "definition": "CREATE UNIQUE INDEX user_schools_pkey ON public.user_schools USING btree (user_id, school_id)"
        }
      ],
      "policies": [
        {
          "name": "Enable delete for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "DELETE"
        },
        {
          "name": "Enable insert for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "Enable read access for all authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable update for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "UPDATE"
        },
        {
          "name": "Super admins and admins can manage user school assignments",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        },
        {
          "name": "Users can view their own school assignments",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "user_schools_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "user_schools_school_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "user_schools_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_29173_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29173_2_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "user_schools_pkey",
          "column": "user_id",
          "foreign_table": "user_schools",
          "foreign_column": "school_id"
        },
        {
          "name": "user_schools_pkey",
          "column": "user_id",
          "foreign_table": "user_schools",
          "foreign_column": "user_id"
        },
        {
          "name": "user_schools_pkey",
          "column": "school_id",
          "foreign_table": "user_schools",
          "foreign_column": "school_id"
        },
        {
          "name": "user_schools_pkey",
          "column": "school_id",
          "foreign_table": "user_schools",
          "foreign_column": "user_id"
        },
        {
          "name": "user_schools_school_id_fkey",
          "column": "school_id",
          "foreign_table": "schools",
          "foreign_column": "id"
        },
        {
          "name": "user_schools_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "dashboards": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "layout",
          "type": "jsonb",
          "default": "'[]'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "is_default",
          "type": "boolean",
          "default": "false",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "dashboards_pkey",
          "definition": "CREATE UNIQUE INDEX dashboards_pkey ON public.dashboards USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "dashboard_delete_policy",
          "roles": [
            "authenticated"
          ],
          "command": "DELETE"
        },
        {
          "name": "dashboard_insert_policy",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "dashboard_select_policy",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "dashboard_update_policy",
          "roles": [
            "authenticated"
          ],
          "command": "UPDATE"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "dashboards_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "dashboards_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_30970_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30970_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30970_4_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "dashboards_pkey",
          "column": "id",
          "foreign_table": "dashboards",
          "foreign_column": "id"
        },
        {
          "name": "dashboards_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "schools": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "parent_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "address",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "latitude",
          "type": "double precision",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "longitude",
          "type": "double precision",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "contact_number",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "email",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "status",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "capacity",
          "type": "integer",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "principal_name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "website",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "established_year",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "accreditation_status",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "facilities",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "operating_hours",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "social_media",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "emergency_contact",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "tax_id",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "license_number",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "last_inspection_date",
          "type": "date",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "student_count",
          "type": "integer",
          "default": "0",
          "nullable": "YES"
        },
        {
          "name": "staff_count",
          "type": "integer",
          "default": "0",
          "nullable": "YES"
        },
        {
          "name": "classroom_count",
          "type": "integer",
          "default": "0",
          "nullable": "YES"
        },
        {
          "name": "is_boarding",
          "type": "boolean",
          "default": "false",
          "nullable": "YES"
        },
        {
          "name": "transportation_provided",
          "type": "boolean",
          "default": "false",
          "nullable": "YES"
        },
        {
          "name": "curriculum_type",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "languages_offered",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "extracurricular_activities",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "grades",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "school_type",
          "type": "USER-DEFINED",
          "default": "'public'::school_category",
          "nullable": "NO"
        },
        {
          "name": "school_level",
          "type": "USER-DEFINED",
          "default": "'elementary'::school_level",
          "nullable": "NO"
        },
        {
          "name": "classes",
          "type": "ARRAY",
          "default": "'{}'::jsonb[]",
          "nullable": "YES"
        },
        {
          "name": "academic_year_start",
          "type": "date",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "academic_year_end",
          "type": "date",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "school_timings",
          "type": "jsonb",
          "default": "'{\"friday\": {\"end\": \"12:00\", \"start\": \"08:00\"}, \"regular\": {\"end\": \"15:00\", \"start\": \"08:00\"}}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "academic_calendar",
          "type": "jsonb",
          "default": "'{\"terms\": [], \"events\": [], \"holidays\": []}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "grade_structure",
          "type": "jsonb",
          "default": "'{\"high\": {\"grades\": [], \"sections\": []}, \"middle\": {\"grades\": [], \"sections\": []}, \"elementary\": {\"grades\": [], \"sections\": []}}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "supported_languages",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "academic_programs",
          "type": "jsonb",
          "default": "'{\"gifted\": false, \"regular\": true, \"vocational\": false, \"specialNeeds\": false}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "assessment_system",
          "type": "jsonb",
          "default": "'{\"grading\": \"percentage\", \"passingScore\": 40, \"assessmentTypes\": []}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "teaching_methodologies",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "academic_policies",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "class_size_limits",
          "type": "jsonb",
          "default": "'{\"max\": 30, \"min\": 15}'::jsonb",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "schools_pkey",
          "definition": "CREATE UNIQUE INDEX schools_pkey ON public.schools USING btree (id)"
        },
        {
          "name": "idx_schools_type",
          "definition": "CREATE INDEX idx_schools_type ON public.schools USING btree (type)"
        },
        {
          "name": "idx_schools_status",
          "definition": "CREATE INDEX idx_schools_status ON public.schools USING btree (status)"
        },
        {
          "name": "idx_schools_parent_id",
          "definition": "CREATE INDEX idx_schools_parent_id ON public.schools USING btree (parent_id)"
        },
        {
          "name": "idx_schools_academic_year",
          "definition": "CREATE INDEX idx_schools_academic_year ON public.schools USING btree (academic_year_start, academic_year_end)"
        }
      ],
      "policies": [
        {
          "name": "Enable delete for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "DELETE"
        },
        {
          "name": "Enable insert for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "Enable read access for all authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable update for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "UPDATE"
        }
      ],
      "triggers": [
        {
          "name": "set_timestamp",
          "event": "UPDATE",
          "timing": "BEFORE"
        },
        {
          "name": "update_schools_updated_at",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "check_capacity",
          "type": "CHECK"
        },
        {
          "name": "check_email",
          "type": "CHECK"
        },
        {
          "name": "check_latitude",
          "type": "CHECK"
        },
        {
          "name": "check_longitude",
          "type": "CHECK"
        },
        {
          "name": "schools_parent_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "schools_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "schools_status_check",
          "type": "CHECK"
        },
        {
          "name": "schools_type_check",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_5_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_6_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_7_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_8_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_9_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_10_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_11_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_12_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_34_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29207_35_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "schools_parent_id_fkey",
          "column": "parent_id",
          "foreign_table": "schools",
          "foreign_column": "id"
        },
        {
          "name": "schools_pkey",
          "column": "id",
          "foreign_table": "schools",
          "foreign_column": "id"
        }
      ]
    },
    "school_grades": {
      "columns": [
        {
          "name": "school_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "grade_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "school_grades_pkey",
          "definition": "CREATE UNIQUE INDEX school_grades_pkey ON public.school_grades USING btree (school_id, grade_id)"
        },
        {
          "name": "idx_school_grades_school_id",
          "definition": "CREATE INDEX idx_school_grades_school_id ON public.school_grades USING btree (school_id)"
        },
        {
          "name": "idx_school_grades_grade_id",
          "definition": "CREATE INDEX idx_school_grades_grade_id ON public.school_grades USING btree (grade_id)"
        }
      ],
      "policies": [
        {
          "name": "Enable delete for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "DELETE"
        },
        {
          "name": "Enable insert for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "Enable read access for all authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable update for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "UPDATE"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "school_grades_grade_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "school_grades_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "school_grades_school_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_29235_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29235_2_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "school_grades_grade_id_fkey",
          "column": "grade_id",
          "foreign_table": "grades",
          "foreign_column": "id"
        },
        {
          "name": "school_grades_pkey",
          "column": "school_id",
          "foreign_table": "school_grades",
          "foreign_column": "grade_id"
        },
        {
          "name": "school_grades_pkey",
          "column": "school_id",
          "foreign_table": "school_grades",
          "foreign_column": "school_id"
        },
        {
          "name": "school_grades_pkey",
          "column": "grade_id",
          "foreign_table": "school_grades",
          "foreign_column": "grade_id"
        },
        {
          "name": "school_grades_pkey",
          "column": "grade_id",
          "foreign_table": "school_grades",
          "foreign_column": "school_id"
        },
        {
          "name": "school_grades_school_id_fkey",
          "column": "school_id",
          "foreign_table": "schools",
          "foreign_column": "id"
        }
      ]
    },
    "staff": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "email",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "role",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "school_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "department",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "status",
          "type": "text",
          "default": "'active'::text",
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "staff_pkey",
          "definition": "CREATE UNIQUE INDEX staff_pkey ON public.staff USING btree (id)"
        },
        {
          "name": "staff_email_key",
          "definition": "CREATE UNIQUE INDEX staff_email_key ON public.staff USING btree (email)"
        },
        {
          "name": "idx_staff_school_id",
          "definition": "CREATE INDEX idx_staff_school_id ON public.staff USING btree (school_id)"
        },
        {
          "name": "idx_staff_role",
          "definition": "CREATE INDEX idx_staff_role ON public.staff USING btree (role)"
        },
        {
          "name": "idx_staff_email",
          "definition": "CREATE INDEX idx_staff_email ON public.staff USING btree (email)"
        }
      ],
      "policies": [
        {
          "name": "Users can add staff to their schools",
          "roles": [
            "public"
          ],
          "command": "INSERT"
        },
        {
          "name": "Users can delete staff from their schools",
          "roles": [
            "public"
          ],
          "command": "DELETE"
        },
        {
          "name": "Users can update staff from their schools",
          "roles": [
            "public"
          ],
          "command": "UPDATE"
        },
        {
          "name": "Users can view staff from their schools",
          "roles": [
            "public"
          ],
          "command": "SELECT"
        },
        {
          "name": "staff_manage_policy",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        },
        {
          "name": "staff_view_policy",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": [
        {
          "name": "set_timestamp",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "staff_email_key",
          "type": "UNIQUE"
        },
        {
          "name": "staff_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "staff_school_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "staff_status_check",
          "type": "CHECK"
        },
        {
          "name": "2200_39454_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_39454_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_39454_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_39454_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_39454_7_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "staff_email_key",
          "column": "email",
          "foreign_table": "staff",
          "foreign_column": "email"
        },
        {
          "name": "staff_pkey",
          "column": "id",
          "foreign_table": "staff",
          "foreign_column": "id"
        },
        {
          "name": "staff_school_id_fkey",
          "column": "school_id",
          "foreign_table": "schools",
          "foreign_column": "id"
        }
      ]
    },
    "grades": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "name",
          "type": "character varying",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "level",
          "type": "integer",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "grades_pkey",
          "definition": "CREATE UNIQUE INDEX grades_pkey ON public.grades USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "Enable insert for authenticated users",
          "roles": [
            "public"
          ],
          "command": "INSERT"
        },
        {
          "name": "Enable read access for all users",
          "roles": [
            "public"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "grades_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_48870_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_48870_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_48870_3_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "grades_pkey",
          "column": "id",
          "foreign_table": "grades",
          "foreign_column": "id"
        }
      ]
    },
    "topics": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "title",
          "type": "character varying",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "grade_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "order_index",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "course_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "total_subtopics",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "topics_pkey",
          "definition": "CREATE UNIQUE INDEX topics_pkey ON public.topics USING btree (id)"
        },
        {
          "name": "idx_topics_grade_id",
          "definition": "CREATE INDEX idx_topics_grade_id ON public.topics USING btree (grade_id)"
        }
      ],
      "policies": [
        {
          "name": "Enable insert for authenticated users",
          "roles": [
            "public"
          ],
          "command": "INSERT"
        },
        {
          "name": "Enable read access for all users",
          "roles": [
            "public"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable read access for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "topics_course_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "topics_grade_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "topics_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_48878_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_48878_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_48878_4_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "topics_course_id_fkey",
          "column": "course_id",
          "foreign_table": "courses",
          "foreign_column": "id"
        },
        {
          "name": "topics_grade_id_fkey",
          "column": "grade_id",
          "foreign_table": "grades",
          "foreign_column": "id"
        },
        {
          "name": "topics_pkey",
          "column": "id",
          "foreign_table": "topics",
          "foreign_column": "id"
        }
      ]
    },
    "subtopics": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "title",
          "type": "character varying",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "topic_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "order_index",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "total_lessons",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "subtopics_pkey",
          "definition": "CREATE UNIQUE INDEX subtopics_pkey ON public.subtopics USING btree (id)"
        },
        {
          "name": "idx_subtopics_topic_id",
          "definition": "CREATE INDEX idx_subtopics_topic_id ON public.subtopics USING btree (topic_id)"
        }
      ],
      "policies": [
        {
          "name": "Enable insert for authenticated users",
          "roles": [
            "public"
          ],
          "command": "INSERT"
        },
        {
          "name": "Enable read access for all users",
          "roles": [
            "public"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable read access for authenticated users",
          "roles": [
            "public"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable update for authenticated users",
          "roles": [
            "public"
          ],
          "command": "UPDATE"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "subtopics_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "subtopics_topic_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_48893_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_48893_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_48893_4_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "subtopics_pkey",
          "column": "id",
          "foreign_table": "subtopics",
          "foreign_column": "id"
        },
        {
          "name": "subtopics_topic_id_fkey",
          "column": "topic_id",
          "foreign_table": "topics",
          "foreign_column": "id"
        }
      ]
    },
    "lesson_content": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "lesson_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "content_type",
          "type": "character varying",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "metadata",
          "type": "jsonb",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "order_index",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "content",
          "type": "ARRAY",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "lesson_content_pkey",
          "definition": "CREATE UNIQUE INDEX lesson_content_pkey ON public.lesson_content USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "Allow insert/update for own lesson_content",
          "roles": [
            "public"
          ],
          "command": "ALL"
        },
        {
          "name": "Allow read access to lesson_content",
          "roles": [
            "public"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable insert for authenticated users",
          "roles": [
            "public"
          ],
          "command": "INSERT"
        },
        {
          "name": "Enable read access for all users",
          "roles": [
            "public"
          ],
          "command": "SELECT"
        },
        {
          "name": "Users can manage their own lessons_content",
          "roles": [
            "public"
          ],
          "command": "ALL"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "lesson_content_lesson_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "lesson_content_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "lesson_content_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_48934_1_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "lesson_content_lesson_id_fkey",
          "column": "lesson_id",
          "foreign_table": "lessons",
          "foreign_column": "id"
        },
        {
          "name": "lesson_content_pkey",
          "column": "id",
          "foreign_table": "lesson_content",
          "foreign_column": "id"
        },
        {
          "name": "lesson_content_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "lessons": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "title",
          "type": "character varying",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "content",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "grade_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "topic_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "subtopic_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "order_index",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "status",
          "type": "character varying",
          "default": "'draft'::character varying",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "media_type",
          "type": "USER-DEFINED",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "media_url",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "duration",
          "type": "bigint",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "subjectId",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "contentheading",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "prerequisites",
          "type": "ARRAY",
          "default": "'{}'::uuid[]",
          "nullable": "YES"
        },
        {
          "name": "total_questions",
          "type": "integer",
          "default": "0",
          "nullable": "YES"
        },
        {
          "name": "difficulty",
          "type": "character varying",
          "default": "'beginner'::character varying",
          "nullable": "YES"
        },
        {
          "name": "voice_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "content_type",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "lesson_type",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "role",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "metadata",
          "type": "jsonb",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "lessons_pkey",
          "definition": "CREATE UNIQUE INDEX lessons_pkey ON public.lessons USING btree (id)"
        },
        {
          "name": "idx_lessons_subtopic_id",
          "definition": "CREATE INDEX idx_lessons_subtopic_id ON public.lessons USING btree (subtopic_id)"
        }
      ],
      "policies": [
        {
          "name": "Enable CRUD for authenticated users",
          "roles": [
            "public"
          ],
          "command": "ALL"
        },
        {
          "name": "Enable insert for authenticated users",
          "roles": [
            "public"
          ],
          "command": "INSERT"
        },
        {
          "name": "Enable read access for all users",
          "roles": [
            "public"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable read access for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "Users can manage their own lessons",
          "roles": [
            "public"
          ],
          "command": "ALL"
        },
        {
          "name": "lesson_delete_policy",
          "roles": [
            "public"
          ],
          "command": "DELETE"
        },
        {
          "name": "lesson_insert_policy",
          "roles": [
            "public"
          ],
          "command": "INSERT"
        },
        {
          "name": "lesson_select_policy",
          "roles": [
            "public"
          ],
          "command": "SELECT"
        },
        {
          "name": "lesson_update_policy",
          "roles": [
            "public"
          ],
          "command": "UPDATE"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "lessons_duration_check",
          "type": "CHECK"
        },
        {
          "name": "lessons_grade_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "lessons_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "lessons_subtopic_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "lessons_topic_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "lessons_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "lessons_voice_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_48908_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_48908_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_48908_6_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "lessons_grade_id_fkey",
          "column": "grade_id",
          "foreign_table": "grades",
          "foreign_column": "id"
        },
        {
          "name": "lessons_pkey",
          "column": "id",
          "foreign_table": "lessons",
          "foreign_column": "id"
        },
        {
          "name": "lessons_subtopic_id_fkey",
          "column": "subtopic_id",
          "foreign_table": "subtopics",
          "foreign_column": "id"
        },
        {
          "name": "lessons_topic_id_fkey",
          "column": "topic_id",
          "foreign_table": "topics",
          "foreign_column": "id"
        },
        {
          "name": "lessons_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "lessons_voice_id_fkey",
          "column": "voice_id",
          "foreign_table": "voices",
          "foreign_column": "id"
        }
      ]
    },
    "sections": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "class_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "room_no",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "room_location",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "sections_pkey",
          "definition": "CREATE UNIQUE INDEX sections_pkey ON public.sections USING btree (id)"
        },
        {
          "name": "idx_sections_class_id",
          "definition": "CREATE INDEX idx_sections_class_id ON public.sections USING btree (class_id)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "sections_class_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "sections_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_70884_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_70884_2_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "sections_class_id_fkey",
          "column": "class_id",
          "foreign_table": "classes",
          "foreign_column": "id"
        },
        {
          "name": "sections_pkey",
          "column": "id",
          "foreign_table": "sections",
          "foreign_column": "id"
        }
      ]
    },
    "_health": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "last_check",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "status",
          "type": "text",
          "default": "'healthy'::text",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "_health_pkey",
          "definition": "CREATE UNIQUE INDEX _health_pkey ON public._health USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "health_check_read_policy_v5",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "health_check_update_policy_v5",
          "roles": [
            "authenticated"
          ],
          "command": "UPDATE"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "_health_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_30778_1_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "_health_pkey",
          "column": "id",
          "foreign_table": "_health",
          "foreign_column": "id"
        }
      ]
    },
    "section_students": {
      "columns": [
        {
          "name": "section_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "student_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "section_students_pkey",
          "definition": "CREATE UNIQUE INDEX section_students_pkey ON public.section_students USING btree (section_id, student_id)"
        },
        {
          "name": "idx_section_students_section_id",
          "definition": "CREATE INDEX idx_section_students_section_id ON public.section_students USING btree (section_id)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "section_students_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "section_students_section_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "section_students_student_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_70899_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_70899_2_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "section_students_pkey",
          "column": "section_id",
          "foreign_table": "section_students",
          "foreign_column": "student_id"
        },
        {
          "name": "section_students_pkey",
          "column": "section_id",
          "foreign_table": "section_students",
          "foreign_column": "section_id"
        },
        {
          "name": "section_students_pkey",
          "column": "student_id",
          "foreign_table": "section_students",
          "foreign_column": "student_id"
        },
        {
          "name": "section_students_pkey",
          "column": "student_id",
          "foreign_table": "section_students",
          "foreign_column": "section_id"
        },
        {
          "name": "section_students_section_id_fkey",
          "column": "section_id",
          "foreign_table": "sections",
          "foreign_column": "id"
        },
        {
          "name": "section_students_student_id_fkey",
          "column": "student_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "voices": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "language",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "gender",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "sample_url",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "is_default",
          "type": "boolean",
          "default": "false",
          "nullable": "YES"
        },
        {
          "name": "school_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "voices_pkey",
          "definition": "CREATE UNIQUE INDEX voices_pkey ON public.voices USING btree (id)"
        },
        {
          "name": "idx_voices_school_default",
          "definition": "CREATE UNIQUE INDEX idx_voices_school_default ON public.voices USING btree (school_id) WHERE (is_default = true)"
        },
        {
          "name": "idx_voices_school_id",
          "definition": "CREATE INDEX idx_voices_school_id ON public.voices USING btree (school_id)"
        },
        {
          "name": "idx_voices_is_default",
          "definition": "CREATE INDEX idx_voices_is_default ON public.voices USING btree (is_default)"
        }
      ],
      "policies": null,
      "triggers": [
        {
          "name": "ensure_single_default_voice_trigger",
          "event": "INSERT",
          "timing": "BEFORE"
        },
        {
          "name": "ensure_single_default_voice_trigger",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "voices_gender_check",
          "type": "CHECK"
        },
        {
          "name": "voices_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "voices_school_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_91184_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_91184_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_91184_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_91184_5_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_91184_6_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_91184_8_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "voices_pkey",
          "column": "id",
          "foreign_table": "voices",
          "foreign_column": "id"
        },
        {
          "name": "voices_school_id_fkey",
          "column": "school_id",
          "foreign_table": "schools",
          "foreign_column": "id"
        }
      ]
    },
    "voice_settings": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "voice_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "pitch_adjustment",
          "type": "double precision",
          "default": "1.0",
          "nullable": "YES"
        },
        {
          "name": "speed_adjustment",
          "type": "double precision",
          "default": "1.0",
          "nullable": "YES"
        },
        {
          "name": "volume_adjustment",
          "type": "double precision",
          "default": "1.0",
          "nullable": "YES"
        },
        {
          "name": "effects",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "voice_settings_pkey",
          "definition": "CREATE UNIQUE INDEX voice_settings_pkey ON public.voice_settings USING btree (id)"
        },
        {
          "name": "voice_settings_voice_id_key",
          "definition": "CREATE UNIQUE INDEX voice_settings_voice_id_key ON public.voice_settings USING btree (voice_id)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "voice_settings_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "voice_settings_voice_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "voice_settings_voice_id_key",
          "type": "UNIQUE"
        },
        {
          "name": "2200_91226_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_91226_2_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "voice_settings_pkey",
          "column": "id",
          "foreign_table": "voice_settings",
          "foreign_column": "id"
        },
        {
          "name": "voice_settings_voice_id_fkey",
          "column": "voice_id",
          "foreign_table": "voices",
          "foreign_column": "id"
        },
        {
          "name": "voice_settings_voice_id_key",
          "column": "voice_id",
          "foreign_table": "voice_settings",
          "foreign_column": "voice_id"
        }
      ]
    },
    "voice_usage_logs": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "voice_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "content_type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "content_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "duration",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "characters_processed",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "performance_metrics",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "voice_usage_logs_pkey",
          "definition": "CREATE UNIQUE INDEX voice_usage_logs_pkey ON public.voice_usage_logs USING btree (id)"
        },
        {
          "name": "idx_voice_usage_logs_voice_id",
          "definition": "CREATE INDEX idx_voice_usage_logs_voice_id ON public.voice_usage_logs USING btree (voice_id)"
        },
        {
          "name": "idx_voice_usage_logs_user_id",
          "definition": "CREATE INDEX idx_voice_usage_logs_user_id ON public.voice_usage_logs USING btree (user_id)"
        },
        {
          "name": "idx_voice_usage_logs_created_at",
          "definition": "CREATE INDEX idx_voice_usage_logs_created_at ON public.voice_usage_logs USING btree (created_at)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "voice_usage_logs_content_type_check",
          "type": "CHECK"
        },
        {
          "name": "voice_usage_logs_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "voice_usage_logs_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "voice_usage_logs_voice_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_91247_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_91247_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_91247_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_91247_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_91247_5_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "voice_usage_logs_pkey",
          "column": "id",
          "foreign_table": "voice_usage_logs",
          "foreign_column": "id"
        },
        {
          "name": "voice_usage_logs_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "voice_usage_logs_voice_id_fkey",
          "column": "voice_id",
          "foreign_table": "voices",
          "foreign_column": "id"
        }
      ]
    },
    "questions": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "title",
          "type": "character varying",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "content",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "type",
          "type": "USER-DEFINED",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "lesson_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "points",
          "type": "integer",
          "default": "0",
          "nullable": "YES"
        },
        {
          "name": "metadata",
          "type": "jsonb",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "order_index",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "data",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "correct_answer",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "exercise_prompts",
          "type": "ARRAY",
          "default": "ARRAY[]::jsonb[]",
          "nullable": "YES"
        },
        {
          "name": "voice_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "duration",
          "type": "integer",
          "default": "30",
          "nullable": "NO"
        },
        {
          "name": "sub_type",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "original_id",
          "type": "text",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "questions_pkey",
          "definition": "CREATE UNIQUE INDEX questions_pkey ON public.questions USING btree (id)"
        },
        {
          "name": "idx_questions_lesson_id",
          "definition": "CREATE INDEX idx_questions_lesson_id ON public.questions USING btree (lesson_id)"
        },
        {
          "name": "idx_questions_type",
          "definition": "CREATE INDEX idx_questions_type ON public.questions USING btree (type)"
        },
        {
          "name": "idx_questions_original_id",
          "definition": "CREATE INDEX idx_questions_original_id ON public.questions USING btree (original_id)"
        }
      ],
      "policies": [
        {
          "name": "Enable all access to questions",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        },
        {
          "name": "Enable read access for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "questions_duration_check",
          "type": "CHECK"
        },
        {
          "name": "questions_lesson_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "questions_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "questions_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "questions_voice_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_50362_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50362_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50362_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50362_5_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50362_11_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50362_17_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "questions_lesson_id_fkey",
          "column": "lesson_id",
          "foreign_table": "lessons",
          "foreign_column": "id"
        },
        {
          "name": "questions_pkey",
          "column": "id",
          "foreign_table": "questions",
          "foreign_column": "id"
        },
        {
          "name": "questions_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "questions_voice_id_fkey",
          "column": "voice_id",
          "foreign_table": "voices",
          "foreign_column": "id"
        }
      ]
    },
    "loading_states": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "component",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "status",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "timezone('utc'::text, now())",
          "nullable": "NO"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "timezone('utc'::text, now())",
          "nullable": "NO"
        }
      ],
      "indexes": [
        {
          "name": "loading_states_pkey",
          "definition": "CREATE UNIQUE INDEX loading_states_pkey ON public.loading_states USING btree (id)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "loading_states_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_45554_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_45554_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_45554_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_45554_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_45554_5_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "loading_states_pkey",
          "column": "id",
          "foreign_table": "loading_states",
          "foreign_column": "id"
        }
      ]
    },
    "role_settings": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "role_key",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "settings",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "role_settings_pkey",
          "definition": "CREATE UNIQUE INDEX role_settings_pkey ON public.role_settings USING btree (id)"
        },
        {
          "name": "role_settings_role_key_key",
          "definition": "CREATE UNIQUE INDEX role_settings_role_key_key ON public.role_settings USING btree (role_key)"
        }
      ],
      "policies": [
        {
          "name": "Enable read access for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "Enable write access for admins",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        },
        {
          "name": "Enable write access for admins on insert",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "Enable write access for admins on update",
          "roles": [
            "authenticated"
          ],
          "command": "UPDATE"
        }
      ],
      "triggers": [
        {
          "name": "validate_role_settings",
          "event": "INSERT",
          "timing": "BEFORE"
        },
        {
          "name": "validate_role_settings",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "role_settings_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "role_settings_role_key_key",
          "type": "UNIQUE"
        },
        {
          "name": "2200_30286_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30286_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30286_3_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "role_settings_pkey",
          "column": "id",
          "foreign_table": "role_settings",
          "foreign_column": "id"
        },
        {
          "name": "role_settings_role_key_key",
          "column": "role_key",
          "foreign_table": "role_settings",
          "foreign_column": "role_key"
        }
      ]
    },
    "courses": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "document_id",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "title",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "image_url",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "level",
          "type": "numeric",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "progress",
          "type": "integer",
          "default": "0",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "Grades",
          "type": "jsonb",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "MappedGrades",
          "type": "ARRAY",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "courses_pkey",
          "definition": "CREATE UNIQUE INDEX courses_pkey ON public.courses USING btree (id)"
        },
        {
          "name": "courses_document_id_key",
          "definition": "CREATE UNIQUE INDEX courses_document_id_key ON public.courses USING btree (document_id)"
        },
        {
          "name": "idx_courses_document_id",
          "definition": "CREATE INDEX idx_courses_document_id ON public.courses USING btree (document_id)"
        },
        {
          "name": "courses_level_key",
          "definition": "CREATE UNIQUE INDEX courses_level_key ON public.courses USING btree (level)"
        }
      ],
      "policies": [
        {
          "name": "Courses are viewable by authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "Users can create courses",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "Users can update courses",
          "roles": [
            "authenticated"
          ],
          "command": "UPDATE"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "courses_document_id_key",
          "type": "UNIQUE"
        },
        {
          "name": "courses_level_key",
          "type": "UNIQUE"
        },
        {
          "name": "courses_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_72334_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_72334_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_72334_3_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "courses_document_id_key",
          "column": "document_id",
          "foreign_table": "courses",
          "foreign_column": "document_id"
        },
        {
          "name": "courses_level_key",
          "column": "level",
          "foreign_table": "courses",
          "foreign_column": "level"
        },
        {
          "name": "courses_pkey",
          "column": "id",
          "foreign_table": "courses",
          "foreign_column": "id"
        }
      ]
    },
    "events": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "title",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "start_date",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "end_date",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "location",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "attendees",
          "type": "integer",
          "default": "0",
          "nullable": "YES"
        },
        {
          "name": "type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "status",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "created_by",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "school_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "department",
          "type": "text",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "events_pkey",
          "definition": "CREATE UNIQUE INDEX events_pkey ON public.events USING btree (id)"
        },
        {
          "name": "idx_events_created_by",
          "definition": "CREATE INDEX idx_events_created_by ON public.events USING btree (created_by)"
        },
        {
          "name": "idx_events_department",
          "definition": "CREATE INDEX idx_events_department ON public.events USING btree (department)"
        },
        {
          "name": "idx_events_school_id",
          "definition": "CREATE INDEX idx_events_school_id ON public.events USING btree (school_id)"
        },
        {
          "name": "idx_events_type",
          "definition": "CREATE INDEX idx_events_type ON public.events USING btree (type)"
        },
        {
          "name": "idx_events_status",
          "definition": "CREATE INDEX idx_events_status ON public.events USING btree (status)"
        },
        {
          "name": "idx_events_start_date",
          "definition": "CREATE INDEX idx_events_start_date ON public.events USING btree (start_date)"
        }
      ],
      "policies": [
        {
          "name": "Users with delete permission can delete their events",
          "roles": [
            "authenticated"
          ],
          "command": "DELETE"
        },
        {
          "name": "events_create_policy",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "events_delete_policy",
          "roles": [
            "authenticated"
          ],
          "command": "DELETE"
        },
        {
          "name": "events_update_policy",
          "roles": [
            "authenticated"
          ],
          "command": "UPDATE"
        },
        {
          "name": "events_view_policy",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": [
        {
          "name": "event_notification_trigger",
          "event": "INSERT",
          "timing": "AFTER"
        },
        {
          "name": "event_notification_trigger",
          "event": "UPDATE",
          "timing": "AFTER"
        },
        {
          "name": "set_timestamp",
          "event": "UPDATE",
          "timing": "BEFORE"
        },
        {
          "name": "update_events_updated_at",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "events_created_by_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "events_department_check",
          "type": "CHECK"
        },
        {
          "name": "events_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "events_school_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "events_status_check",
          "type": "CHECK"
        },
        {
          "name": "events_type_check",
          "type": "CHECK"
        },
        {
          "name": "2200_30303_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30303_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30303_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30303_5_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30303_6_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30303_8_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30303_9_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "events_created_by_fkey",
          "column": "created_by",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "events_pkey",
          "column": "id",
          "foreign_table": "events",
          "foreign_column": "id"
        },
        {
          "name": "events_school_id_fkey",
          "column": "school_id",
          "foreign_table": "schools",
          "foreign_column": "id"
        }
      ]
    },
    "onboarding_tasks": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "title",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "category",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "required",
          "type": "boolean",
          "default": "true",
          "nullable": "YES"
        },
        {
          "name": "order_index",
          "type": "integer",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "onboarding_tasks_pkey",
          "definition": "CREATE UNIQUE INDEX onboarding_tasks_pkey ON public.onboarding_tasks USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "Admins can manage tasks",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        },
        {
          "name": "Authenticated users can view tasks",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": [
        {
          "name": "set_timestamp_onboarding_tasks",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "onboarding_tasks_category_check",
          "type": "CHECK"
        },
        {
          "name": "onboarding_tasks_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_29588_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29588_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29588_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29588_6_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "onboarding_tasks_pkey",
          "column": "id",
          "foreign_table": "onboarding_tasks",
          "foreign_column": "id"
        }
      ]
    },
    "onboarding_progress": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "school_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "task_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "status",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "notes",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "completed_by",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "onboarding_progress_pkey",
          "definition": "CREATE UNIQUE INDEX onboarding_progress_pkey ON public.onboarding_progress USING btree (id)"
        },
        {
          "name": "onboarding_progress_school_id_task_id_key",
          "definition": "CREATE UNIQUE INDEX onboarding_progress_school_id_task_id_key ON public.onboarding_progress USING btree (school_id, task_id)"
        }
      ],
      "policies": [
        {
          "name": "School staff can update their progress",
          "roles": [
            "authenticated"
          ],
          "command": "UPDATE"
        },
        {
          "name": "School staff can view their progress",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": [
        {
          "name": "set_timestamp_onboarding_progress",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "onboarding_progress_completed_by_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "onboarding_progress_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "onboarding_progress_school_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "onboarding_progress_school_id_task_id_key",
          "type": "UNIQUE"
        },
        {
          "name": "onboarding_progress_status_check",
          "type": "CHECK"
        },
        {
          "name": "onboarding_progress_task_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_29600_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29600_4_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "onboarding_progress_completed_by_fkey",
          "column": "completed_by",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "onboarding_progress_pkey",
          "column": "id",
          "foreign_table": "onboarding_progress",
          "foreign_column": "id"
        },
        {
          "name": "onboarding_progress_school_id_fkey",
          "column": "school_id",
          "foreign_table": "schools",
          "foreign_column": "id"
        },
        {
          "name": "onboarding_progress_school_id_task_id_key",
          "column": "school_id",
          "foreign_table": "onboarding_progress",
          "foreign_column": "task_id"
        },
        {
          "name": "onboarding_progress_school_id_task_id_key",
          "column": "school_id",
          "foreign_table": "onboarding_progress",
          "foreign_column": "school_id"
        },
        {
          "name": "onboarding_progress_school_id_task_id_key",
          "column": "task_id",
          "foreign_table": "onboarding_progress",
          "foreign_column": "task_id"
        },
        {
          "name": "onboarding_progress_school_id_task_id_key",
          "column": "task_id",
          "foreign_table": "onboarding_progress",
          "foreign_column": "school_id"
        },
        {
          "name": "onboarding_progress_task_id_fkey",
          "column": "task_id",
          "foreign_table": "onboarding_tasks",
          "foreign_column": "id"
        }
      ]
    },
    "school_documents": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "school_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "url",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "status",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "notes",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "uploaded_by",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "reviewed_by",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "school_documents_pkey",
          "definition": "CREATE UNIQUE INDEX school_documents_pkey ON public.school_documents USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "School staff can upload documents",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "School staff can view their documents",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": [
        {
          "name": "set_timestamp_school_documents",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "school_documents_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "school_documents_reviewed_by_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "school_documents_school_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "school_documents_status_check",
          "type": "CHECK"
        },
        {
          "name": "school_documents_type_check",
          "type": "CHECK"
        },
        {
          "name": "school_documents_uploaded_by_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_29628_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29628_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29628_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29628_5_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_29628_6_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "school_documents_pkey",
          "column": "id",
          "foreign_table": "school_documents",
          "foreign_column": "id"
        },
        {
          "name": "school_documents_reviewed_by_fkey",
          "column": "reviewed_by",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "school_documents_school_id_fkey",
          "column": "school_id",
          "foreign_table": "schools",
          "foreign_column": "id"
        },
        {
          "name": "school_documents_uploaded_by_fkey",
          "column": "uploaded_by",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "class_teachers": {
      "columns": [
        {
          "name": "class_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "teacher_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "assigned_by",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "class_teachers_pkey",
          "definition": "CREATE UNIQUE INDEX class_teachers_pkey ON public.class_teachers USING btree (class_id, teacher_id)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "class_teachers_assigned_by_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "class_teachers_class_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "class_teachers_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "class_teachers_teacher_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_50609_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50609_2_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "class_teachers_assigned_by_fkey",
          "column": "assigned_by",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "class_teachers_class_id_fkey",
          "column": "class_id",
          "foreign_table": "classes",
          "foreign_column": "id"
        },
        {
          "name": "class_teachers_pkey",
          "column": "class_id",
          "foreign_table": "class_teachers",
          "foreign_column": "teacher_id"
        },
        {
          "name": "class_teachers_pkey",
          "column": "class_id",
          "foreign_table": "class_teachers",
          "foreign_column": "class_id"
        },
        {
          "name": "class_teachers_pkey",
          "column": "teacher_id",
          "foreign_table": "class_teachers",
          "foreign_column": "teacher_id"
        },
        {
          "name": "class_teachers_pkey",
          "column": "teacher_id",
          "foreign_table": "class_teachers",
          "foreign_column": "class_id"
        },
        {
          "name": "class_teachers_teacher_id_fkey",
          "column": "teacher_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "class_students": {
      "columns": [
        {
          "name": "class_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "student_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "assigned_by",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "class_students_pkey",
          "definition": "CREATE UNIQUE INDEX class_students_pkey ON public.class_students USING btree (class_id, student_id)"
        },
        {
          "name": "idx_class_students_class_id",
          "definition": "CREATE INDEX idx_class_students_class_id ON public.class_students USING btree (class_id)"
        },
        {
          "name": "idx_class_students_student_id",
          "definition": "CREATE INDEX idx_class_students_student_id ON public.class_students USING btree (student_id)"
        }
      ],
      "policies": [
        {
          "name": "Enable read access for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "class_students_assigned_by_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "class_students_class_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "class_students_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "class_students_student_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "fk_class_students_student_id",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_50630_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50630_2_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "class_students_assigned_by_fkey",
          "column": "assigned_by",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "class_students_class_id_fkey",
          "column": "class_id",
          "foreign_table": "classes",
          "foreign_column": "id"
        },
        {
          "name": "class_students_pkey",
          "column": "class_id",
          "foreign_table": "class_students",
          "foreign_column": "student_id"
        },
        {
          "name": "class_students_pkey",
          "column": "class_id",
          "foreign_table": "class_students",
          "foreign_column": "class_id"
        },
        {
          "name": "class_students_pkey",
          "column": "student_id",
          "foreign_table": "class_students",
          "foreign_column": "student_id"
        },
        {
          "name": "class_students_pkey",
          "column": "student_id",
          "foreign_table": "class_students",
          "foreign_column": "class_id"
        },
        {
          "name": "class_students_student_id_fkey",
          "column": "student_id",
          "foreign_table": "students",
          "foreign_column": "id"
        },
        {
          "name": "fk_class_students_student_id",
          "column": "student_id",
          "foreign_table": "students",
          "foreign_column": "id"
        }
      ]
    },
    "assigned_content": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "class_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "content_type",
          "type": "character varying",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "content_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "default": "(CURRENT_TIMESTAMP + '7 days'::interval)",
          "nullable": "YES"
        },
        {
          "name": "assigned_by",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "assigned_content_pkey",
          "definition": "CREATE UNIQUE INDEX assigned_content_pkey ON public.assigned_content USING btree (id)"
        },
        {
          "name": "idx_assigned_content_class_id",
          "definition": "CREATE INDEX idx_assigned_content_class_id ON public.assigned_content USING btree (class_id)"
        },
        {
          "name": "idx_assigned_content_content_id",
          "definition": "CREATE INDEX idx_assigned_content_content_id ON public.assigned_content USING btree (content_id)"
        },
        {
          "name": "idx_assigned_content_validity",
          "definition": "CREATE INDEX idx_assigned_content_validity ON public.assigned_content USING btree (valid_from, valid_until)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "assigned_content_assigned_by_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "assigned_content_class_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "assigned_content_content_type_check",
          "type": "CHECK"
        },
        {
          "name": "assigned_content_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_50651_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50651_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50651_4_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "assigned_content_assigned_by_fkey",
          "column": "assigned_by",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "assigned_content_class_id_fkey",
          "column": "class_id",
          "foreign_table": "classes",
          "foreign_column": "id"
        },
        {
          "name": "assigned_content_pkey",
          "column": "id",
          "foreign_table": "assigned_content",
          "foreign_column": "id"
        }
      ]
    },
    "lesson_prerequisites": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "lesson_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "prerequisite_lesson_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        }
      ],
      "indexes": [
        {
          "name": "lesson_prerequisites_pkey",
          "definition": "CREATE UNIQUE INDEX lesson_prerequisites_pkey ON public.lesson_prerequisites USING btree (id)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "lesson_prerequisites_lesson_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "lesson_prerequisites_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "lesson_prerequisites_prerequisite_lesson_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_86159_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_86159_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_86159_3_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "lesson_prerequisites_lesson_id_fkey",
          "column": "lesson_id",
          "foreign_table": "lessons",
          "foreign_column": "id"
        },
        {
          "name": "lesson_prerequisites_pkey",
          "column": "id",
          "foreign_table": "lesson_prerequisites",
          "foreign_column": "id"
        },
        {
          "name": "lesson_prerequisites_prerequisite_lesson_id_fkey",
          "column": "prerequisite_lesson_id",
          "foreign_table": "lessons",
          "foreign_column": "id"
        }
      ]
    },
    "users": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "email",
          "type": "character varying",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "name",
          "type": "character varying",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "role",
          "type": "character varying",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "school_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "idx_users_email",
          "definition": "CREATE INDEX idx_users_email ON public.users USING btree (email)"
        },
        {
          "name": "idx_users_role",
          "definition": "CREATE INDEX idx_users_role ON public.users USING btree (role)"
        },
        {
          "name": "users_pkey",
          "definition": "CREATE UNIQUE INDEX users_pkey ON public.users USING btree (id)"
        },
        {
          "name": "users_email_key",
          "definition": "CREATE UNIQUE INDEX users_email_key ON public.users USING btree (email)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "users_email_key",
          "type": "UNIQUE"
        },
        {
          "name": "users_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "users_role_check",
          "type": "CHECK"
        },
        {
          "name": "users_school_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_50576_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50576_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50576_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50576_4_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "users_email_key",
          "column": "email",
          "foreign_table": "users",
          "foreign_column": "email"
        },
        {
          "name": "users_pkey",
          "column": "id",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "users_pkey",
          "column": "id",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "users_school_id_fkey",
          "column": "school_id",
          "foreign_table": "schools",
          "foreign_column": "id"
        }
      ]
    },
    "classes": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "name",
          "type": "character varying",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "grade_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_by",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "section",
          "type": "text",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "classes_pkey",
          "definition": "CREATE UNIQUE INDEX classes_pkey ON public.classes USING btree (id)"
        },
        {
          "name": "idx_classes_grade_id",
          "definition": "CREATE INDEX idx_classes_grade_id ON public.classes USING btree (grade_id)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "classes_created_by_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "classes_grade_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "classes_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_50589_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_50589_2_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "classes_created_by_fkey",
          "column": "created_by",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "classes_grade_id_fkey",
          "column": "grade_id",
          "foreign_table": "grades",
          "foreign_column": "id"
        },
        {
          "name": "classes_pkey",
          "column": "id",
          "foreign_table": "classes",
          "foreign_column": "id"
        }
      ]
    },
    "user_permissions": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "permissions",
          "type": "jsonb",
          "default": "'{\"content_editor\": false, \"content_management\": false}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "user_permissions_pkey",
          "definition": "CREATE UNIQUE INDEX user_permissions_pkey ON public.user_permissions USING btree (id)"
        },
        {
          "name": "user_permissions_user_id_key",
          "definition": "CREATE UNIQUE INDEX user_permissions_user_id_key ON public.user_permissions USING btree (user_id)"
        },
        {
          "name": "idx_user_permissions_user_id",
          "definition": "CREATE INDEX idx_user_permissions_user_id ON public.user_permissions USING btree (user_id)"
        }
      ],
      "policies": null,
      "triggers": [
        {
          "name": "update_user_permissions_updated_at",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "user_permissions_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "user_permissions_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "user_permissions_user_id_key",
          "type": "UNIQUE"
        },
        {
          "name": "2200_46742_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_46742_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_46742_3_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "user_permissions_pkey",
          "column": "id",
          "foreign_table": "user_permissions",
          "foreign_column": "id"
        },
        {
          "name": "user_permissions_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "user_permissions_user_id_key",
          "column": "user_id",
          "foreign_table": "user_permissions",
          "foreign_column": "user_id"
        }
      ]
    },
    "event_notifications": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "event_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "message",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "read",
          "type": "boolean",
          "default": "false",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "event_notifications_pkey",
          "definition": "CREATE UNIQUE INDEX event_notifications_pkey ON public.event_notifications USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "Event creators can create notifications",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "Users can view their own notifications",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "event_notifications_event_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "event_notifications_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "event_notifications_type_check",
          "type": "CHECK"
        },
        {
          "name": "event_notifications_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_30338_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30338_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30338_5_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "event_notifications_event_id_fkey",
          "column": "event_id",
          "foreign_table": "events",
          "foreign_column": "id"
        },
        {
          "name": "event_notifications_pkey",
          "column": "id",
          "foreign_table": "event_notifications",
          "foreign_column": "id"
        },
        {
          "name": "event_notifications_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "user_preference": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "preferences",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "user_preference_pkey",
          "definition": "CREATE UNIQUE INDEX user_preference_pkey ON public.user_preference USING btree (id)"
        },
        {
          "name": "user_preference_user_id_key",
          "definition": "CREATE UNIQUE INDEX user_preference_user_id_key ON public.user_preference USING btree (user_id)"
        }
      ],
      "policies": [
        {
          "name": "Users can insert own preferences",
          "roles": [
            "public"
          ],
          "command": "INSERT"
        },
        {
          "name": "Users can update own preferences",
          "roles": [
            "public"
          ],
          "command": "UPDATE"
        },
        {
          "name": "Users can view own preferences",
          "roles": [
            "public"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": [
        {
          "name": "update_user_preference_updated_at",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "user_preference_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "user_preference_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "user_preference_user_id_key",
          "type": "UNIQUE"
        },
        {
          "name": "2200_46960_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_46960_3_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "user_preference_pkey",
          "column": "id",
          "foreign_table": "user_preference",
          "foreign_column": "id"
        },
        {
          "name": "user_preference_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "user_preference_user_id_key",
          "column": "user_id",
          "foreign_table": "user_preference",
          "foreign_column": "user_id"
        }
      ]
    },
    "activities": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "timezone('utc'::text, now())",
          "nullable": "NO"
        },
        {
          "name": "lesson_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "title",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "content",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "timezone('utc'::text, now())",
          "nullable": "YES"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "instructions",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "data",
          "type": "jsonb",
          "default": "jsonb_build_object('prompt', '', 'teacherScript', '', 'media', ARRAY[]::text[])",
          "nullable": "YES"
        },
        {
          "name": "media",
          "type": "ARRAY",
          "default": "ARRAY[]::jsonb[]",
          "nullable": "YES"
        },
        {
          "name": "order_index",
          "type": "bigint",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "voice_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "duration",
          "type": "integer",
          "default": "30",
          "nullable": "NO"
        },
        {
          "name": "type",
          "type": "USER-DEFINED",
          "default": null,
          "nullable": "NO"
        }
      ],
      "indexes": [
        {
          "name": "activities_pkey",
          "definition": "CREATE UNIQUE INDEX activities_pkey ON public.activities USING btree (id)"
        },
        {
          "name": "idx_activities_lesson_id",
          "definition": "CREATE INDEX idx_activities_lesson_id ON public.activities USING btree (lesson_id)"
        }
      ],
      "policies": [
        {
          "name": "Enable all access for authenticated users",
          "roles": [
            "public"
          ],
          "command": "ALL"
        },
        {
          "name": "Enable read access for authenticated users",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "activities_duration_check",
          "type": "CHECK"
        },
        {
          "name": "activities_lesson_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "activities_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "activities_type_check",
          "type": "CHECK"
        },
        {
          "name": "activities_voice_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_52772_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_52772_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_52772_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_52772_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_52772_9_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_52772_13_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_52772_16_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_52772_17_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "activities_lesson_id_fkey",
          "column": "lesson_id",
          "foreign_table": "lessons",
          "foreign_column": "id"
        },
        {
          "name": "activities_pkey",
          "column": "id",
          "foreign_table": "activities",
          "foreign_column": "id"
        },
        {
          "name": "activities_voice_id_fkey",
          "column": "voice_id",
          "foreign_table": "voices",
          "foreign_column": "id"
        }
      ]
    },
    "event_attendees": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "event_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "status",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "event_attendees_pkey",
          "definition": "CREATE UNIQUE INDEX event_attendees_pkey ON public.event_attendees USING btree (id)"
        },
        {
          "name": "event_attendees_event_id_user_id_key",
          "definition": "CREATE UNIQUE INDEX event_attendees_event_id_user_id_key ON public.event_attendees USING btree (event_id, user_id)"
        }
      ],
      "policies": [
        {
          "name": "attendees_manage_policy",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        },
        {
          "name": "attendees_view_policy",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": [
        {
          "name": "update_event_attendees_updated_at",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "event_attendees_event_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "event_attendees_event_id_user_id_key",
          "type": "UNIQUE"
        },
        {
          "name": "event_attendees_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "event_attendees_status_check",
          "type": "CHECK"
        },
        {
          "name": "event_attendees_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_30406_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30406_4_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "event_attendees_event_id_fkey",
          "column": "event_id",
          "foreign_table": "events",
          "foreign_column": "id"
        },
        {
          "name": "event_attendees_event_id_user_id_key",
          "column": "event_id",
          "foreign_table": "event_attendees",
          "foreign_column": "user_id"
        },
        {
          "name": "event_attendees_event_id_user_id_key",
          "column": "event_id",
          "foreign_table": "event_attendees",
          "foreign_column": "event_id"
        },
        {
          "name": "event_attendees_event_id_user_id_key",
          "column": "user_id",
          "foreign_table": "event_attendees",
          "foreign_column": "user_id"
        },
        {
          "name": "event_attendees_event_id_user_id_key",
          "column": "user_id",
          "foreign_table": "event_attendees",
          "foreign_column": "event_id"
        },
        {
          "name": "event_attendees_pkey",
          "column": "id",
          "foreign_table": "event_attendees",
          "foreign_column": "id"
        },
        {
          "name": "event_attendees_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "lesson_progress": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "lesson_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "student_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "status",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "last_activity_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "progress_data",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "progress",
          "type": "integer",
          "default": "0",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "completed_questions",
          "type": "ARRAY",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "lesson_progress_pkey",
          "definition": "CREATE UNIQUE INDEX lesson_progress_pkey ON public.lesson_progress USING btree (id)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "lesson_progress_lesson_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "lesson_progress_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "lesson_progress_student_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "status_check",
          "type": "CHECK"
        },
        {
          "name": "2200_86140_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_86140_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_86140_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_86140_4_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "lesson_progress_lesson_id_fkey",
          "column": "lesson_id",
          "foreign_table": "lessons",
          "foreign_column": "id"
        },
        {
          "name": "lesson_progress_pkey",
          "column": "id",
          "foreign_table": "lesson_progress",
          "foreign_column": "id"
        },
        {
          "name": "lesson_progress_student_id_fkey",
          "column": "student_id",
          "foreign_table": "students",
          "foreign_column": "id"
        }
      ]
    },
    "event_reminders": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "event_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "remind_at",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "sent",
          "type": "boolean",
          "default": "false",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "event_reminders_pkey",
          "definition": "CREATE UNIQUE INDEX event_reminders_pkey ON public.event_reminders USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "reminders_manage_policy",
          "roles": [
            "authenticated"
          ],
          "command": "ALL"
        },
        {
          "name": "reminders_view_policy",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": [
        {
          "name": "update_event_reminders_updated_at",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "event_reminders_event_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "event_reminders_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "event_reminders_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_30429_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30429_4_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "event_reminders_event_id_fkey",
          "column": "event_id",
          "foreign_table": "events",
          "foreign_column": "id"
        },
        {
          "name": "event_reminders_pkey",
          "column": "id",
          "foreign_table": "event_reminders",
          "foreign_column": "id"
        },
        {
          "name": "event_reminders_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "ai_generated_content": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "teacher_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "content_type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "title",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "content",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "metadata",
          "type": "jsonb",
          "default": "'{\"targetAge\": [5, 12], \"difficulty\": \"beginner\", \"languageSkills\": [], \"estimatedDuration\": 0}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "usage_stats",
          "type": "jsonb",
          "default": "'{\"timesUsed\": 0, \"averageScore\": 0, \"studentFeedback\": {\"rating\": 0, \"comments\": []}}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "status",
          "type": "text",
          "default": "'draft'::text",
          "nullable": "NO"
        },
        {
          "name": "tags",
          "type": "ARRAY",
          "default": "ARRAY[]::text[]",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "ai_generated_content_pkey",
          "definition": "CREATE UNIQUE INDEX ai_generated_content_pkey ON public.ai_generated_content USING btree (id)"
        },
        {
          "name": "idx_ai_generated_content_teacher_id",
          "definition": "CREATE INDEX idx_ai_generated_content_teacher_id ON public.ai_generated_content USING btree (teacher_id)"
        },
        {
          "name": "idx_ai_generated_content_status",
          "definition": "CREATE INDEX idx_ai_generated_content_status ON public.ai_generated_content USING btree (status)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "ai_generated_content_content_type_check",
          "type": "CHECK"
        },
        {
          "name": "ai_generated_content_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "ai_generated_content_status_check",
          "type": "CHECK"
        },
        {
          "name": "ai_generated_content_teacher_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_87621_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87621_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87621_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87621_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87621_6_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87621_7_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87621_8_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87621_9_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "ai_generated_content_pkey",
          "column": "id",
          "foreign_table": "ai_generated_content",
          "foreign_column": "id"
        },
        {
          "name": "ai_generated_content_teacher_id_fkey",
          "column": "teacher_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "student_ai_progress": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "student_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "content_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "progress",
          "type": "jsonb",
          "default": "'{\"score\": 0, \"status\": \"not_started\", \"attempts\": 0, \"timeSpent\": 0}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "performance",
          "type": "jsonb",
          "default": "'{\"speed\": 0, \"accuracy\": 0, \"strengths\": [], \"weaknesses\": [], \"consistency\": 0}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "feedback",
          "type": "jsonb",
          "default": "'{\"teacherNotes\": [], \"aiSuggestions\": []}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "student_ai_progress_pkey",
          "definition": "CREATE UNIQUE INDEX student_ai_progress_pkey ON public.student_ai_progress USING btree (id)"
        },
        {
          "name": "idx_student_ai_progress_student_id",
          "definition": "CREATE INDEX idx_student_ai_progress_student_id ON public.student_ai_progress USING btree (student_id)"
        },
        {
          "name": "idx_student_ai_progress_content_id",
          "definition": "CREATE INDEX idx_student_ai_progress_content_id ON public.student_ai_progress USING btree (content_id)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "student_ai_progress_content_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "student_ai_progress_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "student_ai_progress_student_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_87643_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87643_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87643_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87643_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87643_5_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87643_6_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "student_ai_progress_content_id_fkey",
          "column": "content_id",
          "foreign_table": "ai_generated_content",
          "foreign_column": "id"
        },
        {
          "name": "student_ai_progress_pkey",
          "column": "id",
          "foreign_table": "student_ai_progress",
          "foreign_column": "id"
        },
        {
          "name": "student_ai_progress_student_id_fkey",
          "column": "student_id",
          "foreign_table": "students",
          "foreign_column": "id"
        }
      ]
    },
    "documents": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "url",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "size",
          "type": "integer",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "mime_type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "tags",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "created_by",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "documents_pkey",
          "definition": "CREATE UNIQUE INDEX documents_pkey ON public.documents USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "Users can upload documents",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "Users can view documents",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "documents_created_by_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "documents_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_30568_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30568_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30568_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30568_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30568_5_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30568_6_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "documents_created_by_fkey",
          "column": "created_by",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "documents_pkey",
          "column": "id",
          "foreign_table": "documents",
          "foreign_column": "id"
        }
      ]
    },
    "notifications": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "title",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "message",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "read",
          "type": "boolean",
          "default": "false",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "notifications_pkey",
          "definition": "CREATE UNIQUE INDEX notifications_pkey ON public.notifications USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "Users can view their own notifications",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "notifications_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "notifications_type_check",
          "type": "CHECK"
        },
        {
          "name": "notifications_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_30469_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30469_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30469_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30469_5_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "notifications_pkey",
          "column": "id",
          "foreign_table": "notifications",
          "foreign_column": "id"
        },
        {
          "name": "notifications_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "reports": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "status",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "config",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "url",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "error",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_by",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "reports_pkey",
          "definition": "CREATE UNIQUE INDEX reports_pkey ON public.reports USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "Users can create reports",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "Users can view reports they created",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "reports_created_by_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "reports_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "reports_status_check",
          "type": "CHECK"
        },
        {
          "name": "2200_30486_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30486_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30486_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30486_4_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "reports_created_by_fkey",
          "column": "created_by",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "reports_pkey",
          "column": "id",
          "foreign_table": "reports",
          "foreign_column": "id"
        }
      ]
    },
    "tasks": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "title",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "assigned_to",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "due_date",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "priority",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "status",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "tags",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "created_by",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "tasks_pkey",
          "definition": "CREATE UNIQUE INDEX tasks_pkey ON public.tasks USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "Users can create tasks",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "Users can view assigned tasks",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "tasks_assigned_to_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "tasks_created_by_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "tasks_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "tasks_priority_check",
          "type": "CHECK"
        },
        {
          "name": "tasks_status_check",
          "type": "CHECK"
        },
        {
          "name": "2200_30503_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30503_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30503_5_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30503_6_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30503_7_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "tasks_assigned_to_fkey",
          "column": "assigned_to",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "tasks_created_by_fkey",
          "column": "created_by",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "tasks_pkey",
          "column": "id",
          "foreign_table": "tasks",
          "foreign_column": "id"
        }
      ]
    },
    "analytics_metrics": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "value",
          "type": "numeric",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "unit",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "category",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "tags",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "analytics_metrics_pkey",
          "definition": "CREATE UNIQUE INDEX analytics_metrics_pkey ON public.analytics_metrics USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "Users can view analytics",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "analytics_metrics_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_30526_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30526_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30526_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30526_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30526_5_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "analytics_metrics_pkey",
          "column": "id",
          "foreign_table": "analytics_metrics",
          "foreign_column": "id"
        }
      ]
    },
    "messages": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "sender_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "recipient_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "subject",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "content",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "read",
          "type": "boolean",
          "default": "false",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "messages_pkey",
          "definition": "CREATE UNIQUE INDEX messages_pkey ON public.messages USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "Users can send messages",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "Users can view their messages",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "messages_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "messages_recipient_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "messages_sender_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_30536_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30536_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30536_5_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "messages_pkey",
          "column": "id",
          "foreign_table": "messages",
          "foreign_column": "id"
        },
        {
          "name": "messages_pkey",
          "column": "id",
          "foreign_table": "messages",
          "foreign_column": "inserted_at"
        },
        {
          "name": "messages_pkey",
          "column": "id",
          "foreign_table": "messages",
          "foreign_column": "id"
        },
        {
          "name": "messages_recipient_id_fkey",
          "column": "recipient_id",
          "foreign_table": "users",
          "foreign_column": "id"
        },
        {
          "name": "messages_sender_id_fkey",
          "column": "sender_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "message_threads": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "participants",
          "type": "ARRAY",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "subject",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "last_message_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "message_threads_pkey",
          "definition": "CREATE UNIQUE INDEX message_threads_pkey ON public.message_threads USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "Users can view their threads",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "message_threads_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_30557_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30557_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_30557_3_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "message_threads_pkey",
          "column": "id",
          "foreign_table": "message_threads",
          "foreign_column": "id"
        }
      ]
    },
    "ai_content_analytics": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "content_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "metrics",
          "type": "jsonb",
          "default": "'{\"averageScore\": 0, \"totalAttempts\": 0, \"completionRate\": 0, \"averageTimeSpent\": 0, \"difficultyRating\": 0}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "demographics",
          "type": "jsonb",
          "default": "'{\"ageGroups\": {}, \"skillLevels\": {}, \"successRates\": {}}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "feedback",
          "type": "jsonb",
          "default": "'{\"comments\": [], \"studentRatings\": [], \"teacherRatings\": []}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "ai_content_analytics_pkey",
          "definition": "CREATE UNIQUE INDEX ai_content_analytics_pkey ON public.ai_content_analytics USING btree (id)"
        },
        {
          "name": "idx_ai_content_analytics_content_id",
          "definition": "CREATE INDEX idx_ai_content_analytics_content_id ON public.ai_content_analytics USING btree (content_id)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "ai_content_analytics_content_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "ai_content_analytics_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_87666_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87666_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87666_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87666_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87666_5_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "ai_content_analytics_content_id_fkey",
          "column": "content_id",
          "foreign_table": "ai_generated_content",
          "foreign_column": "id"
        },
        {
          "name": "ai_content_analytics_pkey",
          "column": "id",
          "foreign_table": "ai_content_analytics",
          "foreign_column": "id"
        }
      ]
    },
    "ai_conversations": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "student_id",
          "type": "uuid",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "teacher_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "class_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "conversation_type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "messages",
          "type": "jsonb",
          "default": "'[]'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "metadata",
          "type": "jsonb",
          "default": "'{\"skillLevel\": \"beginner\", \"languageArea\": \"grammar\"}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "feedback",
          "type": "jsonb",
          "default": "'{\"score\": 0, \"strengths\": [], \"areasToImprove\": [], \"recommendations\": []}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "archived",
          "type": "boolean",
          "default": "false",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "ai_conversations_pkey",
          "definition": "CREATE UNIQUE INDEX ai_conversations_pkey ON public.ai_conversations USING btree (id)"
        },
        {
          "name": "idx_ai_conversations_student_id",
          "definition": "CREATE INDEX idx_ai_conversations_student_id ON public.ai_conversations USING btree (student_id)"
        },
        {
          "name": "idx_ai_conversations_class_id",
          "definition": "CREATE INDEX idx_ai_conversations_class_id ON public.ai_conversations USING btree (class_id)"
        },
        {
          "name": "idx_ai_conversations_archived",
          "definition": "CREATE INDEX idx_ai_conversations_archived ON public.ai_conversations USING btree (archived)"
        }
      ],
      "policies": null,
      "triggers": null,
      "constraints": [
        {
          "name": "ai_conversations_class_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "ai_conversations_conversation_type_check",
          "type": "CHECK"
        },
        {
          "name": "ai_conversations_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "ai_conversations_student_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "ai_conversations_teacher_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_87592_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87592_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87592_5_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87592_6_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87592_7_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_87592_8_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "ai_conversations_class_id_fkey",
          "column": "class_id",
          "foreign_table": "classes",
          "foreign_column": "id"
        },
        {
          "name": "ai_conversations_pkey",
          "column": "id",
          "foreign_table": "ai_conversations",
          "foreign_column": "id"
        },
        {
          "name": "ai_conversations_student_id_fkey",
          "column": "student_id",
          "foreign_table": "students",
          "foreign_column": "id"
        },
        {
          "name": "ai_conversations_teacher_id_fkey",
          "column": "teacher_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    },
    "audit_logs": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "action",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "details",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "audit_logs_pkey",
          "definition": "CREATE UNIQUE INDEX audit_logs_pkey ON public.audit_logs USING btree (id)"
        }
      ],
      "policies": [
        {
          "name": "enable_audit_logs_insert",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "enable_audit_logs_select",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        }
      ],
      "triggers": null,
      "constraints": [
        {
          "name": "audit_logs_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "2200_40518_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_40518_3_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "audit_logs_pkey",
          "column": "id",
          "foreign_table": "audit_logs",
          "foreign_column": "id"
        }
      ]
    },
    "branches": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "uuid_generate_v4()",
          "nullable": "NO"
        },
        {
          "name": "name",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "school_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "location",
          "type": "jsonb",
          "default": "'{\"city\": \"\", \"state\": \"\", \"address\": \"\", \"country\": \"\", \"postalCode\": \"\", \"coordinates\": {\"latitude\": 0, \"longitude\": 0}}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "latitude",
          "type": "double precision",
          "default": "0",
          "nullable": "NO"
        },
        {
          "name": "longitude",
          "type": "double precision",
          "default": "0",
          "nullable": "NO"
        },
        {
          "name": "contact_number",
          "type": "text",
          "default": "''::text",
          "nullable": "NO"
        },
        {
          "name": "email",
          "type": "text",
          "default": "''::text",
          "nullable": "NO"
        },
        {
          "name": "status",
          "type": "USER-DEFINED",
          "default": "'active'::school_status",
          "nullable": "NO"
        },
        {
          "name": "capacity",
          "type": "jsonb",
          "default": "'{\"total\": 0, \"current\": 0}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "administration",
          "type": "jsonb",
          "default": "'{\"principalName\": \"\", \"principalEmail\": \"\", \"principalPhone\": \"\", \"administrativeStaff\": []}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "website",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "established_year",
          "type": "integer",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "accreditation_status",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "facilities",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "operating_hours",
          "type": "jsonb",
          "default": "'{\"friday\": {\"open\": \"8:00 AM\", \"close\": \"3:00 PM\"}, \"monday\": {\"open\": \"8:00 AM\", \"close\": \"3:00 PM\"}, \"sunday\": {\"open\": \"Closed\", \"close\": \"Closed\", \"isHoliday\": true}, \"tuesday\": {\"open\": \"8:00 AM\", \"close\": \"3:00 PM\"}, \"saturday\": {\"open\": \"8:00 AM\", \"close\": \"12:00 PM\"}, \"thursday\": {\"open\": \"8:00 AM\", \"close\": \"3:00 PM\"}, \"wednesday\": {\"open\": \"8:00 AM\", \"close\": \"3:00 PM\"}}'::jsonb",
          "nullable": "NO"
        },
        {
          "name": "social_media",
          "type": "jsonb",
          "default": "'{\"twitter\": null, \"facebook\": null, \"linkedin\": null, \"instagram\": null}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "emergency_contact",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "tax_id",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "license_number",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "last_inspection_date",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "student_count",
          "type": "integer",
          "default": "0",
          "nullable": "YES"
        },
        {
          "name": "staff_count",
          "type": "integer",
          "default": "0",
          "nullable": "YES"
        },
        {
          "name": "classroom_count",
          "type": "integer",
          "default": "0",
          "nullable": "YES"
        },
        {
          "name": "is_boarding",
          "type": "boolean",
          "default": "false",
          "nullable": "YES"
        },
        {
          "name": "transportation_provided",
          "type": "boolean",
          "default": "false",
          "nullable": "YES"
        },
        {
          "name": "curriculum_type",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "languages_offered",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "extracurricular_activities",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "grades",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "CURRENT_TIMESTAMP",
          "nullable": "YES"
        },
        {
          "name": "academic_year_start",
          "type": "date",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "academic_year_end",
          "type": "date",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "school_timings",
          "type": "jsonb",
          "default": "'{\"friday\": {\"end\": \"12:00\", \"start\": \"08:00\"}, \"regular\": {\"end\": \"15:00\", \"start\": \"08:00\"}}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "academic_calendar",
          "type": "jsonb",
          "default": "'{\"terms\": [], \"events\": [], \"holidays\": []}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "grade_structure",
          "type": "jsonb",
          "default": "'{\"high\": {\"grades\": [], \"sections\": []}, \"middle\": {\"grades\": [], \"sections\": []}, \"elementary\": {\"grades\": [], \"sections\": []}}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "supported_languages",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "academic_programs",
          "type": "jsonb",
          "default": "'{\"gifted\": false, \"regular\": true, \"vocational\": false, \"specialNeeds\": false}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "assessment_system",
          "type": "jsonb",
          "default": "'{\"grading\": \"percentage\", \"passingScore\": 40, \"assessmentTypes\": []}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "teaching_methodologies",
          "type": "ARRAY",
          "default": "'{}'::text[]",
          "nullable": "YES"
        },
        {
          "name": "academic_policies",
          "type": "jsonb",
          "default": "'{}'::jsonb",
          "nullable": "YES"
        },
        {
          "name": "class_size_limits",
          "type": "jsonb",
          "default": "'{\"max\": 30, \"min\": 15}'::jsonb",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "branches_pkey",
          "definition": "CREATE UNIQUE INDEX branches_pkey ON public.branches USING btree (id)"
        },
        {
          "name": "idx_branches_academic_year",
          "definition": "CREATE INDEX idx_branches_academic_year ON public.branches USING btree (academic_year_start, academic_year_end)"
        }
      ],
      "policies": null,
      "triggers": [
        {
          "name": "update_branches_updated_at",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "branches_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "branches_school_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_76138_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_76138_2_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_76138_4_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_76138_5_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_76138_6_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_76138_7_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_76138_8_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_76138_9_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_76138_10_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_76138_11_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_76138_16_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "branches_pkey",
          "column": "id",
          "foreign_table": "branches",
          "foreign_column": "id"
        },
        {
          "name": "branches_school_id_fkey",
          "column": "school_id",
          "foreign_table": "schools",
          "foreign_column": "id"
        }
      ]
    },
    "calendar_events": {
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "default": "gen_random_uuid()",
          "nullable": "NO"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "title",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "description",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "start_time",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "end_time",
          "type": "timestamp with time zone",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "location",
          "type": "text",
          "default": null,
          "nullable": "YES"
        },
        {
          "name": "type",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "status",
          "type": "text",
          "default": null,
          "nullable": "NO"
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "default": "now()",
          "nullable": "YES"
        }
      ],
      "indexes": [
        {
          "name": "calendar_events_pkey",
          "definition": "CREATE UNIQUE INDEX calendar_events_pkey ON public.calendar_events USING btree (id)"
        },
        {
          "name": "idx_calendar_events_user_id",
          "definition": "CREATE INDEX idx_calendar_events_user_id ON public.calendar_events USING btree (user_id)"
        },
        {
          "name": "idx_calendar_events_start_time",
          "definition": "CREATE INDEX idx_calendar_events_start_time ON public.calendar_events USING btree (start_time)"
        }
      ],
      "policies": [
        {
          "name": "calendar_events_delete",
          "roles": [
            "authenticated"
          ],
          "command": "DELETE"
        },
        {
          "name": "calendar_events_insert",
          "roles": [
            "authenticated"
          ],
          "command": "INSERT"
        },
        {
          "name": "calendar_events_read",
          "roles": [
            "authenticated"
          ],
          "command": "SELECT"
        },
        {
          "name": "calendar_events_update",
          "roles": [
            "authenticated"
          ],
          "command": "UPDATE"
        }
      ],
      "triggers": [
        {
          "name": "update_calendar_events_updated_at",
          "event": "UPDATE",
          "timing": "BEFORE"
        }
      ],
      "constraints": [
        {
          "name": "calendar_events_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "calendar_events_status_check",
          "type": "CHECK"
        },
        {
          "name": "calendar_events_type_check",
          "type": "CHECK"
        },
        {
          "name": "calendar_events_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "2200_36877_1_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_36877_3_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_36877_5_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_36877_6_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_36877_8_not_null",
          "type": "CHECK"
        },
        {
          "name": "2200_36877_9_not_null",
          "type": "CHECK"
        }
      ],
      "foreign_keys": [
        {
          "name": "calendar_events_pkey",
          "column": "id",
          "foreign_table": "calendar_events",
          "foreign_column": "id"
        },
        {
          "name": "calendar_events_user_id_fkey",
          "column": "user_id",
          "foreign_table": "users",
          "foreign_column": "id"
        }
      ]
    }
  }
}