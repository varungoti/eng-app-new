{
    "sourceFile": "src/features/content-management/components/activities/ActivityForm.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1740087812442,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740090811180,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,198 @@\n- \n\\ No newline at end of file\n+import { useState } from 'react';\r\n+import { Card, CardContent } from '@/components/ui/card';\r\n+import { Label } from '@/components/ui/label';\r\n+import { Input } from '@/components/ui/input';\r\n+import { Textarea } from '@/components/ui/textarea';\r\n+import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\n+import { Button } from '@/components/ui/button';\r\n+import { Plus, Trash2 } from 'lucide-react';\r\n+import { Activity, MediaItem } from '../../api/types';\r\n+import { MediaPreview } from '@/components/ui/media-preview';\r\n+import { cn } from '@/lib/utils';\r\n+\r\n+interface ActivityFormProps {\r\n+  activity: Activity;\r\n+  index: number;\r\n+  onUpdate: (updatedActivity: Activity) => void;\r\n+  className?: string;\r\n+}\r\n+\r\n+export const ActivityForm = ({\r\n+  activity,\r\n+  index,\r\n+  onUpdate,\r\n+  className\r\n+}: ActivityFormProps) => {\r\n+  const [localActivity, setLocalActivity] = useState(activity);\r\n+\r\n+  const handleChange = (field: keyof Activity | keyof Activity['data'], value: any) => {\r\n+    const updatedActivity = {\r\n+      ...localActivity,\r\n+      [field]: value\r\n+    };\r\n+\r\n+    // If the field is part of the data object\r\n+    if (field in (localActivity.data || {})) {\r\n+      updatedActivity.data = {\r\n+        ...localActivity.data,\r\n+        [field]: value\r\n+      };\r\n+    }\r\n+\r\n+    setLocalActivity(updatedActivity);\r\n+    onUpdate(updatedActivity);\r\n+  };\r\n+\r\n+  const handleAddMedia = () => {\r\n+    const newMedia: MediaItem = {\r\n+      type: 'image',\r\n+      url: ''\r\n+    };\r\n+\r\n+    handleChange('media', [...localActivity.media, newMedia]);\r\n+  };\r\n+\r\n+  const handleRemoveMedia = (index: number) => {\r\n+    const newMedia = localActivity.media.filter((_, i) => i !== index);\r\n+    handleChange('media', newMedia);\r\n+  };\r\n+\r\n+  const handleUpdateMedia = (index: number, field: keyof MediaItem, value: string) => {\r\n+    const newMedia = [...localActivity.media];\r\n+    newMedia[index] = {\r\n+      ...newMedia[index],\r\n+      [field]: value\r\n+    };\r\n+    handleChange('media', newMedia);\r\n+  };\r\n+\r\n+  return (\r\n+    <div className={cn(\"space-y-6\", className)}>\r\n+      {/* Basic Info */}\r\n+      <div className=\"space-y-4\">\r\n+        <div className=\"space-y-2\">\r\n+          <Label>Activity Title</Label>\r\n+          <Input\r\n+            value={localActivity.title}\r\n+            onChange={(e) => handleChange('title', e.target.value)}\r\n+            placeholder=\"Enter activity title\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <div className=\"space-y-2\">\r\n+          <Label>Activity Type</Label>\r\n+          <Select\r\n+            value={localActivity.type}\r\n+            onValueChange={(value) => handleChange('type', value)}\r\n+          >\r\n+            <SelectTrigger>\r\n+              <SelectValue placeholder=\"Select activity type\" />\r\n+            </SelectTrigger>\r\n+            <SelectContent>\r\n+              <SelectItem value=\"practice\">Practice</SelectItem>\r\n+              <SelectItem value=\"exercise\">Exercise</SelectItem>\r\n+              <SelectItem value=\"game\">Game</SelectItem>\r\n+            </SelectContent>\r\n+          </Select>\r\n+        </div>\r\n+\r\n+        <div className=\"space-y-2\">\r\n+          <Label>Instructions</Label>\r\n+          <Textarea\r\n+            value={localActivity.instructions}\r\n+            onChange={(e) => handleChange('instructions', e.target.value)}\r\n+            placeholder=\"Enter activity instructions\"\r\n+            className=\"min-h-[100px]\"\r\n+          />\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Media Section */}\r\n+      <Card>\r\n+        <CardContent className=\"space-y-4 pt-4\">\r\n+          <div className=\"flex items-center justify-between\">\r\n+            <Label>Media</Label>\r\n+            <Button\r\n+              variant=\"outline\"\r\n+              size=\"sm\"\r\n+              onClick={handleAddMedia}\r\n+            >\r\n+              <Plus className=\"h-4 w-4 mr-2\" />\r\n+              Add Media\r\n+            </Button>\r\n+          </div>\r\n+\r\n+          <div className=\"space-y-4\">\r\n+            {localActivity.media.map((media, mediaIndex) => (\r\n+              <div key={mediaIndex} className=\"space-y-2\">\r\n+                <div className=\"flex items-center gap-2\">\r\n+                  <Select\r\n+                    value={media.type}\r\n+                    onValueChange={(value: 'image' | 'gif' | 'video') => \r\n+                      handleUpdateMedia(mediaIndex, 'type', value)\r\n+                    }\r\n+                  >\r\n+                    <SelectTrigger className=\"w-[150px]\">\r\n+                      <SelectValue placeholder=\"Media type\" />\r\n+                    </SelectTrigger>\r\n+                    <SelectContent>\r\n+                      <SelectItem value=\"image\">Image</SelectItem>\r\n+                      <SelectItem value=\"gif\">GIF</SelectItem>\r\n+                      <SelectItem value=\"video\">Video</SelectItem>\r\n+                    </SelectContent>\r\n+                  </Select>\r\n+\r\n+                  <Input\r\n+                    value={media.url}\r\n+                    onChange={(e) => handleUpdateMedia(mediaIndex, 'url', e.target.value)}\r\n+                    placeholder={`Enter ${media.type} URL`}\r\n+                  />\r\n+\r\n+                  <Button\r\n+                    variant=\"ghost\"\r\n+                    size=\"sm\"\r\n+                    onClick={() => handleRemoveMedia(mediaIndex)}\r\n+                  >\r\n+                    <Trash2 className=\"h-4 w-4 text-destructive\" />\r\n+                  </Button>\r\n+                </div>\r\n+\r\n+                {media.url && (\r\n+                  <div className=\"mt-2\">\r\n+                    <MediaPreview\r\n+                      type={media.type}\r\n+                      url={media.url}\r\n+                    />\r\n+                  </div>\r\n+                )}\r\n+              </div>\r\n+            ))}\r\n+          </div>\r\n+        </CardContent>\r\n+      </Card>\r\n+\r\n+      {/* Additional Data */}\r\n+      <div className=\"space-y-4\">\r\n+        <div className=\"space-y-2\">\r\n+          <Label>Prompt</Label>\r\n+          <Textarea\r\n+            value={localActivity.data.prompt}\r\n+            onChange={(e) => handleChange('prompt', e.target.value)}\r\n+            placeholder=\"Enter activity prompt\"\r\n+            className=\"min-h-[100px]\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <div className=\"space-y-2\">\r\n+          <Label>Teacher Script</Label>\r\n+          <Textarea\r\n+            value={localActivity.data.teacher_script}\r\n+            onChange={(e) => handleChange('teacher_script', e.target.value)}\r\n+            placeholder=\"Enter instructions for the teacher\"\r\n+            className=\"min-h-[100px]\"\r\n+          />\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\n\\ No newline at end of file\n"
                },
                {
                    "date": 1740091374321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,9 @@\n import { Plus, Trash2 } from 'lucide-react';\r\n import { Activity, MediaItem } from '../../api/types';\r\n import { MediaPreview } from '@/components/ui/media-preview';\r\n import { cn } from '@/lib/utils';\r\n+import { ScrollArea } from '@/components/ui/scroll-area';\r\n \r\n interface ActivityFormProps {\r\n   activity: Activity;\r\n   index: number;\r\n@@ -66,133 +67,149 @@\n     handleChange('media', newMedia);\r\n   };\r\n \r\n   return (\r\n-    <div className={cn(\"space-y-6\", className)}>\r\n-      {/* Basic Info */}\r\n-      <div className=\"space-y-4\">\r\n-        <div className=\"space-y-2\">\r\n-          <Label>Activity Title</Label>\r\n-          <Input\r\n-            value={localActivity.title}\r\n-            onChange={(e) => handleChange('title', e.target.value)}\r\n-            placeholder=\"Enter activity title\"\r\n-          />\r\n-        </div>\r\n+    <ScrollArea className={cn(\"max-h-[70vh] pr-4\", className)}>\r\n+      <div className=\"space-y-6 animate-fade-in-up\">\r\n+        {/* Basic Info */}\r\n+        <div className=\"space-y-4\">\r\n+          <div className=\"grid gap-4 sm:grid-cols-2\">\r\n+            <div className=\"space-y-2 animate-fade-in-up\" style={{ animationDelay: '100ms' }}>\r\n+              <Label>Activity Title</Label>\r\n+              <Input\r\n+                value={localActivity.title}\r\n+                onChange={(e) => handleChange('title', e.target.value)}\r\n+                placeholder=\"Enter activity title\"\r\n+                className=\"transition-all duration-200 focus:scale-[1.01]\"\r\n+              />\r\n+            </div>\r\n+            <div className=\"space-y-2 animate-fade-in-up\" style={{ animationDelay: '200ms' }}>\r\n+              <Label>Activity Type</Label>\r\n+              <Select\r\n+                value={localActivity.type}\r\n+                onValueChange={(value) => handleChange('type', value)}\r\n+              >\r\n+                <SelectTrigger className=\"transition-all duration-200 focus:scale-[1.01]\">\r\n+                  <SelectValue placeholder=\"Select activity type\" />\r\n+                </SelectTrigger>\r\n+                <SelectContent>\r\n+                  <SelectItem value=\"practice\">Practice</SelectItem>\r\n+                  <SelectItem value=\"exercise\">Exercise</SelectItem>\r\n+                  <SelectItem value=\"game\">Game</SelectItem>\r\n+                </SelectContent>\r\n+              </Select>\r\n+            </div>\r\n+          </div>\r\n \r\n-        <div className=\"space-y-2\">\r\n-          <Label>Activity Type</Label>\r\n-          <Select\r\n-            value={localActivity.type}\r\n-            onValueChange={(value) => handleChange('type', value)}\r\n-          >\r\n-            <SelectTrigger>\r\n-              <SelectValue placeholder=\"Select activity type\" />\r\n-            </SelectTrigger>\r\n-            <SelectContent>\r\n-              <SelectItem value=\"practice\">Practice</SelectItem>\r\n-              <SelectItem value=\"exercise\">Exercise</SelectItem>\r\n-              <SelectItem value=\"game\">Game</SelectItem>\r\n-            </SelectContent>\r\n-          </Select>\r\n+          <div className=\"space-y-2 animate-fade-in-up\" style={{ animationDelay: '300ms' }}>\r\n+            <Label>Instructions</Label>\r\n+            <Textarea\r\n+              value={localActivity.instructions}\r\n+              onChange={(e) => handleChange('instructions', e.target.value)}\r\n+              placeholder=\"Enter activity instructions\"\r\n+              className=\"min-h-[100px] transition-all duration-200 focus:scale-[1.01]\"\r\n+            />\r\n+          </div>\r\n         </div>\r\n \r\n-        <div className=\"space-y-2\">\r\n-          <Label>Instructions</Label>\r\n-          <Textarea\r\n-            value={localActivity.instructions}\r\n-            onChange={(e) => handleChange('instructions', e.target.value)}\r\n-            placeholder=\"Enter activity instructions\"\r\n-            className=\"min-h-[100px]\"\r\n-          />\r\n-        </div>\r\n-      </div>\r\n+        {/* Media Section */}\r\n+        <Card className=\"animate-fade-in-up\" style={{ animationDelay: '400ms' }}>\r\n+          <CardContent className=\"space-y-4 pt-4\">\r\n+            <div className=\"flex items-center justify-between\">\r\n+              <Label>Media</Label>\r\n+              <Button\r\n+                variant=\"outline\"\r\n+                size=\"sm\"\r\n+                onClick={handleAddMedia}\r\n+                className=\"transition-all duration-200 hover:scale-105 hover:shadow-md\"\r\n+              >\r\n+                <Plus className=\"h-4 w-4 mr-2\" />\r\n+                Add Media\r\n+              </Button>\r\n+            </div>\r\n \r\n-      {/* Media Section */}\r\n-      <Card>\r\n-        <CardContent className=\"space-y-4 pt-4\">\r\n-          <div className=\"flex items-center justify-between\">\r\n-            <Label>Media</Label>\r\n-            <Button\r\n-              variant=\"outline\"\r\n-              size=\"sm\"\r\n-              onClick={handleAddMedia}\r\n-            >\r\n-              <Plus className=\"h-4 w-4 mr-2\" />\r\n-              Add Media\r\n-            </Button>\r\n-          </div>\r\n+            <div className=\"grid gap-4 sm:grid-cols-2\">\r\n+              {localActivity.media.map((media, mediaIndex) => (\r\n+                <div \r\n+                  key={mediaIndex} \r\n+                  className={cn(\r\n+                    \"space-y-2 animate-fade-in-up\",\r\n+                    \"p-4 rounded-lg border bg-card/50\",\r\n+                    \"transition-all duration-200 hover:shadow-md\",\r\n+                    \"group\"\r\n+                  )}\r\n+                  style={{ animationDelay: `${500 + (mediaIndex * 100)}ms` }}\r\n+                >\r\n+                  <div className=\"flex items-center gap-2\">\r\n+                    <Select\r\n+                      value={media.type}\r\n+                      onValueChange={(value: 'image' | 'gif' | 'video') => \r\n+                        handleUpdateMedia(mediaIndex, 'type', value)\r\n+                      }\r\n+                    >\r\n+                      <SelectTrigger className=\"w-[150px] transition-all duration-200 focus:scale-[1.01]\">\r\n+                        <SelectValue placeholder=\"Media type\" />\r\n+                      </SelectTrigger>\r\n+                      <SelectContent>\r\n+                        <SelectItem value=\"image\">Image</SelectItem>\r\n+                        <SelectItem value=\"gif\">GIF</SelectItem>\r\n+                        <SelectItem value=\"video\">Video</SelectItem>\r\n+                      </SelectContent>\r\n+                    </Select>\r\n \r\n-          <div className=\"space-y-4\">\r\n-            {localActivity.media.map((media, mediaIndex) => (\r\n-              <div key={mediaIndex} className=\"space-y-2\">\r\n-                <div className=\"flex items-center gap-2\">\r\n-                  <Select\r\n-                    value={media.type}\r\n-                    onValueChange={(value: 'image' | 'gif' | 'video') => \r\n-                      handleUpdateMedia(mediaIndex, 'type', value)\r\n-                    }\r\n-                  >\r\n-                    <SelectTrigger className=\"w-[150px]\">\r\n-                      <SelectValue placeholder=\"Media type\" />\r\n-                    </SelectTrigger>\r\n-                    <SelectContent>\r\n-                      <SelectItem value=\"image\">Image</SelectItem>\r\n-                      <SelectItem value=\"gif\">GIF</SelectItem>\r\n-                      <SelectItem value=\"video\">Video</SelectItem>\r\n-                    </SelectContent>\r\n-                  </Select>\r\n+                    <Input\r\n+                      value={media.url}\r\n+                      onChange={(e) => handleUpdateMedia(mediaIndex, 'url', e.target.value)}\r\n+                      placeholder={`Enter ${media.type} URL`}\r\n+                      className=\"flex-1 transition-all duration-200 focus:scale-[1.01]\"\r\n+                    />\r\n \r\n-                  <Input\r\n-                    value={media.url}\r\n-                    onChange={(e) => handleUpdateMedia(mediaIndex, 'url', e.target.value)}\r\n-                    placeholder={`Enter ${media.type} URL`}\r\n-                  />\r\n+                    <Button\r\n+                      variant=\"ghost\"\r\n+                      size=\"sm\"\r\n+                      onClick={() => handleRemoveMedia(mediaIndex)}\r\n+                      className=\"opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-destructive/10\"\r\n+                    >\r\n+                      <Trash2 className=\"h-4 w-4 text-destructive\" />\r\n+                    </Button>\r\n+                  </div>\r\n \r\n-                  <Button\r\n-                    variant=\"ghost\"\r\n-                    size=\"sm\"\r\n-                    onClick={() => handleRemoveMedia(mediaIndex)}\r\n-                  >\r\n-                    <Trash2 className=\"h-4 w-4 text-destructive\" />\r\n-                  </Button>\r\n+                  {media.url && (\r\n+                    <div className=\"mt-2 rounded-lg overflow-hidden transition-transform duration-200 hover:scale-[1.02]\">\r\n+                      <MediaPreview\r\n+                        type={media.type}\r\n+                        url={media.url}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n                 </div>\r\n+              ))}\r\n+            </div>\r\n+          </CardContent>\r\n+        </Card>\r\n \r\n-                {media.url && (\r\n-                  <div className=\"mt-2\">\r\n-                    <MediaPreview\r\n-                      type={media.type}\r\n-                      url={media.url}\r\n-                    />\r\n-                  </div>\r\n-                )}\r\n-              </div>\r\n-            ))}\r\n+        {/* Additional Data */}\r\n+        <div className=\"space-y-4 animate-fade-in-up\" style={{ animationDelay: '600ms' }}>\r\n+          <div className=\"space-y-2\">\r\n+            <Label>Prompt</Label>\r\n+            <Textarea\r\n+              value={localActivity.data.prompt}\r\n+              onChange={(e) => handleChange('prompt', e.target.value)}\r\n+              placeholder=\"Enter activity prompt\"\r\n+              className=\"min-h-[100px] transition-all duration-200 focus:scale-[1.01]\"\r\n+            />\r\n           </div>\r\n-        </CardContent>\r\n-      </Card>\r\n \r\n-      {/* Additional Data */}\r\n-      <div className=\"space-y-4\">\r\n-        <div className=\"space-y-2\">\r\n-          <Label>Prompt</Label>\r\n-          <Textarea\r\n-            value={localActivity.data.prompt}\r\n-            onChange={(e) => handleChange('prompt', e.target.value)}\r\n-            placeholder=\"Enter activity prompt\"\r\n-            className=\"min-h-[100px]\"\r\n-          />\r\n+          <div className=\"space-y-2\">\r\n+            <Label>Teacher Script</Label>\r\n+            <Textarea\r\n+              value={localActivity.data.teacher_script}\r\n+              onChange={(e) => handleChange('teacher_script', e.target.value)}\r\n+              placeholder=\"Enter instructions for the teacher\"\r\n+              className=\"min-h-[100px] transition-all duration-200 focus:scale-[1.01]\"\r\n+            />\r\n+          </div>\r\n         </div>\r\n-\r\n-        <div className=\"space-y-2\">\r\n-          <Label>Teacher Script</Label>\r\n-          <Textarea\r\n-            value={localActivity.data.teacher_script}\r\n-            onChange={(e) => handleChange('teacher_script', e.target.value)}\r\n-            placeholder=\"Enter instructions for the teacher\"\r\n-            className=\"min-h-[100px]\"\r\n-          />\r\n-        </div>\r\n       </div>\r\n-    </div>\r\n+    </ScrollArea>\r\n   );\r\n };\n\\ No newline at end of file\n"
                }
            ],
            "date": 1740087812442,
            "name": "Commit-0",
            "content": " "
        }
    ]
}