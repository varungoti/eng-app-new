{
    "sourceFile": "src/features/content-management/components/shared/AddItemModal.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1740087449557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1740087449557,
            "name": "Commit-0",
            "content": "import { useState } from 'react';\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface AddItemModalProps {\r\n  title: string;\r\n  description: string;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSubmit: (data: { title: string; description?: string }) => Promise<void>;\r\n  submitLabel?: string;\r\n  showDescription?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport const AddItemModal = ({\r\n  title,\r\n  description,\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  submitLabel = 'Create',\r\n  showDescription = false,\r\n  className\r\n}: AddItemModalProps) => {\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: ''\r\n  });\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleSubmit = async () => {\r\n    if (!formData.title.trim()) return;\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      await onSubmit({\r\n        title: formData.title.trim(),\r\n        description: formData.description.trim() || undefined\r\n      });\r\n      handleClose();\r\n    } catch (error) {\r\n      console.error('Error submitting form:', error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setFormData({ title: '', description: '' });\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={handleClose}>\r\n      <DialogContent \r\n        className={cn(\"sm:max-w-[425px]\", className)}\r\n        onEscapeKeyDown={handleClose}\r\n        onPointerDownOutside={handleClose}\r\n      >\r\n        <DialogHeader>\r\n          <DialogTitle>{title}</DialogTitle>\r\n          <DialogDescription>{description}</DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4 py-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"item-title\">Title</Label>\r\n            <Input\r\n              id=\"item-title\"\r\n              value={formData.title}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\r\n              placeholder=\"Enter title\"\r\n              autoFocus\r\n            />\r\n          </div>\r\n\r\n          {showDescription && (\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"item-description\">Description</Label>\r\n              <Textarea\r\n                id=\"item-description\"\r\n                value={formData.description}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                placeholder=\"Enter description (optional)\"\r\n                className=\"min-h-[100px]\"\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <DialogFooter>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={handleClose}\r\n            disabled={isSubmitting}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleSubmit}\r\n            disabled={!formData.title.trim() || isSubmitting}\r\n          >\r\n            {isSubmitting ? (\r\n              <>\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\" />\r\n                Creating...\r\n              </>\r\n            ) : (\r\n              submitLabel\r\n            )}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}; "
        }
    ]
}