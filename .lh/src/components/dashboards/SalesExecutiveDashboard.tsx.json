{
    "sourceFile": "src/components/dashboards/SalesExecutiveDashboard.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 28,
            "patches": [
                {
                    "date": 1740772856718,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740772872940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n   settings: RoleSettings;\r\n }\r\n \r\n const SalesExecutiveDashboard: React.FC<SalesExecutiveDashboardProps> = ({ settings }) => {\r\n-  const { leads, activities, stats, loading, error } = useSales();\r\n+  const { leads, activities, stats, loading } = useSales();\r\n \r\n   if (loading) {\r\n     return (\r\n       <div className=\"flex items-center justify-center h-[calc(100vh-4rem)]\">\r\n@@ -20,17 +20,8 @@\n       </div>\r\n     );\r\n   }\r\n \r\n-  if (error) {\r\n-    return (\r\n-      <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n-        <h3 className=\"text-lg font-medium text-red-800\">Error</h3>\r\n-        <p className=\"mt-2 text-sm text-red-600\">{error}</p>\r\n-      </div>\r\n-    );\r\n-  }\r\n-\r\n   return (\r\n     <div className=\"space-y-6\">\r\n       {/* Quick Stats */}\r\n       <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n"
                },
                {
                    "date": 1740772931589,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,8 +20,17 @@\n       </div>\r\n     );\r\n   }\r\n \r\n+  if (!leads || !activities || !stats) {\r\n+    return (\r\n+      <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n+        <h3 className=\"text-lg font-medium text-red-800\">Error</h3>\r\n+        <p className=\"mt-2 text-sm text-red-600\">Failed to load sales data</p>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n   return (\r\n     <div className=\"space-y-6\">\r\n       {/* Quick Stats */}\r\n       <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n"
                },
                {
                    "date": 1740772954488,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           <div className=\"flex items-center justify-between\">\r\n             <div>\r\n               <p className=\"text-sm font-medium text-gray-600\">Deals Won</p>\r\n               <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                {stats?.closedDeals}\r\n+                {stats?.closedDealsCount}\r\n               </p>\r\n             </div>\r\n             <Target className=\"h-8 w-8 text-indigo-500\" />\r\n           </div>\r\n"
                },
                {
                    "date": 1740772969891,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           <div className=\"flex items-center justify-between\">\r\n             <div>\r\n               <p className=\"text-sm font-medium text-gray-600\">Deals Won</p>\r\n               <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                {stats?.closedDealsCount}\r\n+                {stats?.dealsWon}\r\n               </p>\r\n             </div>\r\n             <Target className=\"h-8 w-8 text-indigo-500\" />\r\n           </div>\r\n"
                },
                {
                    "date": 1740772989532,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           <div className=\"flex items-center justify-between\">\r\n             <div>\r\n               <p className=\"text-sm font-medium text-gray-600\">Deals Won</p>\r\n               <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                {stats?.dealsWon}\r\n+                {stats?.closedDeals}\r\n               </p>\r\n             </div>\r\n             <Target className=\"h-8 w-8 text-indigo-500\" />\r\n           </div>\r\n"
                },
                {
                    "date": 1740773026778,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           <div className=\"flex items-center justify-between\">\r\n             <div>\r\n               <p className=\"text-sm font-medium text-gray-600\">Deals Won</p>\r\n               <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                {stats?.closedDeals}\r\n+                {stats.closedDealsCount || 0}\r\n               </p>\r\n             </div>\r\n             <Target className=\"h-8 w-8 text-indigo-500\" />\r\n           </div>\r\n"
                },
                {
                    "date": 1740773042031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           <div className=\"flex items-center justify-between\">\r\n             <div>\r\n               <p className=\"text-sm font-medium text-gray-600\">Deals Won</p>\r\n               <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                {stats.closedDealsCount || 0}\r\n+                {stats.completedDeals || 0}\r\n               </p>\r\n             </div>\r\n             <Target className=\"h-8 w-8 text-indigo-500\" />\r\n           </div>\r\n"
                },
                {
                    "date": 1740773089582,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           <div className=\"flex items-center justify-between\">\r\n             <div>\r\n               <p className=\"text-sm font-medium text-gray-600\">Deals Won</p>\r\n               <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                {stats.completedDeals || 0}\r\n+                {stats?.closedDeals}\r\n               </p>\r\n             </div>\r\n             <Target className=\"h-8 w-8 text-indigo-500\" />\r\n           </div>\r\n"
                },
                {
                    "date": 1740773152379,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           <div className=\"flex items-center justify-between\">\r\n             <div>\r\n               <p className=\"text-sm font-medium text-gray-600\">Deals Won</p>\r\n               <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                {stats?.closedDeals}\r\n+                {stats?.closed}\r\n               </p>\r\n             </div>\r\n             <Target className=\"h-8 w-8 text-indigo-500\" />\r\n           </div>\r\n"
                },
                {
                    "date": 1740773158618,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           <div className=\"flex items-center justify-between\">\r\n             <div>\r\n               <p className=\"text-sm font-medium text-gray-600\">Deals Won</p>\r\n               <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                {stats?.closed}\r\n+                {stats?.ClosedLeads}\r\n               </p>\r\n             </div>\r\n             <Target className=\"h-8 w-8 text-indigo-500\" />\r\n           </div>\r\n"
                },
                {
                    "date": 1740773175026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           <div className=\"flex items-center justify-between\">\r\n             <div>\r\n               <p className=\"text-sm font-medium text-gray-600\">Deals Won</p>\r\n               <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                {stats?.ClosedLeads}\r\n+                {stats?.closedLeads}\r\n               </p>\r\n             </div>\r\n             <Target className=\"h-8 w-8 text-indigo-500\" />\r\n           </div>\r\n"
                },
                {
                    "date": 1740773371961,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n           <div className=\"flex items-center justify-between\">\r\n             <div>\r\n               <p className=\"text-sm font-medium text-gray-600\">Deals Won</p>\r\n               <p className=\"text-2xl font-semibold text-gray-900\">\r\n-                {stats?.closedLeads}\r\n+                {stats?.dealsWon}\r\n               </p>\r\n             </div>\r\n             <Target className=\"h-8 w-8 text-indigo-500\" />\r\n           </div>\r\n"
                },
                {
                    "date": 1740773377523,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n                   {activity.type === 'call' && <Phone className=\"h-5 w-5 text-blue-500 mr-3\" />}\r\n                   {activity.type === 'email' && <Mail className=\"h-5 w-5 text-green-500 mr-3\" />}\r\n                   {activity.type === 'meeting' && <Calendar className=\"h-5 w-5 text-purple-500 mr-3\" />}\r\n                   <div>\r\n-                    <p className=\"text-sm font-medium text-gray-900\">{activity.subject}</p>\r\n+                    <p className=\"text-sm font-medium text-gray-900\">{activity.description}</p>\r\n                     <p className=\"text-xs text-gray-500\">\r\n                       {new Date(activity.createdAt).toLocaleTimeString()}\r\n                     </p>\r\n                   </div>\r\n"
                },
                {
                    "date": 1740773386548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,14 +122,14 @@\n         <div className=\"space-y-4\">\r\n           {leads.map((lead) => (\r\n             <div key={lead.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n               <div>\r\n-                <p className=\"font-medium text-gray-900\">{lead.companyName}</p>\r\n-                <p className=\"text-sm text-gray-500\">{lead.contactName}</p>\r\n+                <p className=\"font-medium text-gray-900\">{lead.company}</p>\r\n+                <p className=\"text-sm text-gray-500\">{lead.name}</p>\r\n               </div>\r\n               <div className=\"text-right\">\r\n                 <p className=\"text-sm font-medium text-gray-900\">\r\n-                  ${lead.estimatedValue?.toLocaleString()}\r\n+                  ${lead.value?.toLocaleString()}\r\n                 </p>\r\n                 <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n                   lead.status === 'won' ? 'bg-green-100 text-green-800' :\r\n                   lead.status === 'lost' ? 'bg-red-100 text-red-800' :\r\n"
                },
                {
                    "date": 1740773410694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,9 +130,9 @@\n                 <p className=\"text-sm font-medium text-gray-900\">\r\n                   ${lead.value?.toLocaleString()}\r\n                 </p>\r\n                 <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n-                  lead.status === 'won' ? 'bg-green-100 text-green-800' :\r\n+                  lead.status === 'closed' ? 'bg-green-100 text-green-800' :\r\n                   lead.status === 'lost' ? 'bg-red-100 text-red-800' :\r\n                   'bg-blue-100 text-blue-800'\r\n                 }`}>\r\n                   {lead.status}\r\n"
                },
                {
                    "date": 1740773417184,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,10 +131,11 @@\n                   ${lead.value?.toLocaleString()}\r\n                 </p>\r\n                 <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n                   lead.status === 'closed' ? 'bg-green-100 text-green-800' :\r\n-                  lead.status === 'lost' ? 'bg-red-100 text-red-800' :\r\n-                  'bg-blue-100 text-blue-800'\r\n+                  lead.status === 'proposal' ? 'bg-blue-100 text-blue-800' :\r\n+                  lead.status === 'contacted' ? 'bg-yellow-100 text-yellow-800' :\r\n+                  'bg-gray-100 text-gray-800'\r\n                 }`}>\r\n                   {lead.status}\r\n                 </span>\r\n               </div>\r\n"
                },
                {
                    "date": 1740773440070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,8 +133,9 @@\n                 <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n                   lead.status === 'closed' ? 'bg-green-100 text-green-800' :\r\n                   lead.status === 'proposal' ? 'bg-blue-100 text-blue-800' :\r\n                   lead.status === 'contacted' ? 'bg-yellow-100 text-yellow-800' :\r\n+                  \r\n                   'bg-gray-100 text-gray-800'\r\n                 }`}>\r\n                   {lead.status}\r\n                 </span>\r\n"
                },
                {
                    "date": 1740773449092,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,8 +133,10 @@\n                 <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n                   lead.status === 'closed' ? 'bg-green-100 text-green-800' :\r\n                   lead.status === 'proposal' ? 'bg-blue-100 text-blue-800' :\r\n                   lead.status === 'contacted' ? 'bg-yellow-100 text-yellow-800' :\r\n+                  lead.status === 'qualified' ? 'bg-purple-100 text-purple-800' :\r\n+                  lead.status === 'new' ? 'bg-red-100 text-red-800' :\r\n                   \r\n                   'bg-gray-100 text-gray-800'\r\n                 }`}>\r\n                   {lead.status}\r\n"
                },
                {
                    "date": 1740773455631,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,22 +122,22 @@\n         <div className=\"space-y-4\">\r\n           {leads.map((lead) => (\r\n             <div key={lead.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n               <div>\r\n-                <p className=\"font-medium text-gray-900\">{lead.company}</p>\r\n-                <p className=\"text-sm text-gray-500\">{lead.name}</p>\r\n+                <p className=\"font-medium text-gray-900\">{lead.companyName}</p>\r\n+                <p className=\"text-sm text-gray-500\">{lead.contactName}</p>\r\n               </div>\r\n               <div className=\"text-right\">\r\n                 <p className=\"text-sm font-medium text-gray-900\">\r\n-                  ${lead.value?.toLocaleString()}\r\n+                  ${lead.estimatedValue?.toLocaleString()}\r\n                 </p>\r\n                 <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n                   lead.status === 'closed' ? 'bg-green-100 text-green-800' :\r\n                   lead.status === 'proposal' ? 'bg-blue-100 text-blue-800' :\r\n                   lead.status === 'contacted' ? 'bg-yellow-100 text-yellow-800' :\r\n                   lead.status === 'qualified' ? 'bg-purple-100 text-purple-800' :\r\n                   lead.status === 'new' ? 'bg-red-100 text-red-800' :\r\n-                  \r\n+                  lead.status === 'lost' ? 'bg-red-100 text-red-800' :\r\n                   'bg-gray-100 text-gray-800'\r\n                 }`}>\r\n                   {lead.status}\r\n                 </span>\r\n"
                },
                {
                    "date": 1740773474201,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,9 +122,9 @@\n         <div className=\"space-y-4\">\r\n           {leads.map((lead) => (\r\n             <div key={lead.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n               <div>\r\n-                <p className=\"font-medium text-gray-900\">{lead.companyName}</p>\r\n+                <p className=\"font-medium text-gray-900\">{lead.company}</p>\r\n                 <p className=\"text-sm text-gray-500\">{lead.contactName}</p>\r\n               </div>\r\n               <div className=\"text-right\">\r\n                 <p className=\"text-sm font-medium text-gray-900\">\r\n"
                },
                {
                    "date": 1740773497360,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,13 +123,13 @@\n           {leads.map((lead) => (\r\n             <div key={lead.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n               <div>\r\n                 <p className=\"font-medium text-gray-900\">{lead.company}</p>\r\n-                <p className=\"text-sm text-gray-500\">{lead.contactName}</p>\r\n+                <p className=\"text-sm text-gray-500\">{lead.name}</p>\r\n               </div>\r\n               <div className=\"text-right\">\r\n                 <p className=\"text-sm font-medium text-gray-900\">\r\n-                  ${lead.estimatedValue?.toLocaleString()}\r\n+                  ${opportunities.find(opp => opp.leadId === lead.id)?.value.toLocaleString() || '0'}\r\n                 </p>\r\n                 <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n                   lead.status === 'closed' ? 'bg-green-100 text-green-800' :\r\n                   lead.status === 'proposal' ? 'bg-blue-100 text-blue-800' :\r\n"
                },
                {
                    "date": 1740773533488,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n   settings: RoleSettings;\r\n }\r\n \r\n const SalesExecutiveDashboard: React.FC<SalesExecutiveDashboardProps> = ({ settings }) => {\r\n-  const { leads, activities, stats, loading } = useSales();\r\n+  const { leads, activities, opportunities, stats, loading } = useSales();\r\n \r\n   if (loading) {\r\n     return (\r\n       <div className=\"flex items-center justify-center h-[calc(100vh-4rem)]\">\r\n"
                },
                {
                    "date": 1740773557969,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,32 +119,32 @@\n       {/* My Pipeline */}\r\n       <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n         <h3 className=\"text-lg font-medium text-gray-900 mb-4\">My Pipeline</h3>\r\n         <div className=\"space-y-4\">\r\n-          {leads.map((lead) => (\r\n-            <div key={lead.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n-              <div>\r\n-                <p className=\"font-medium text-gray-900\">{lead.company}</p>\r\n-                <p className=\"text-sm text-gray-500\">{lead.name}</p>\r\n+          {leads.map((lead) => {\r\n+            const leadOpportunity = opportunities.find(opp => opp.leadId === lead.id);\r\n+            return (\r\n+              <div key={lead.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n+                <div>\r\n+                  <p className=\"font-medium text-gray-900\">{lead.company}</p>\r\n+                  <p className=\"text-sm text-gray-500\">{lead.name}</p>\r\n+                </div>\r\n+                <div className=\"text-right\">\r\n+                  <p className=\"text-sm font-medium text-gray-900\">\r\n+                    ${leadOpportunity?.value.toLocaleString() || '0'}\r\n+                  </p>\r\n+                  <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n+                    lead.status === 'closed' ? 'bg-green-100 text-green-800' :\r\n+                    lead.status === 'proposal' ? 'bg-blue-100 text-blue-800' :\r\n+                    lead.status === 'contacted' ? 'bg-yellow-100 text-yellow-800' :\r\n+                    'bg-gray-100 text-gray-800'\r\n+                  }`}>\r\n+                    {lead.status}\r\n+                  </span>\r\n+                </div>\r\n               </div>\r\n-              <div className=\"text-right\">\r\n-                <p className=\"text-sm font-medium text-gray-900\">\r\n-                  ${opportunities.find(opp => opp.leadId === lead.id)?.value.toLocaleString() || '0'}\r\n-                </p>\r\n-                <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n-                  lead.status === 'closed' ? 'bg-green-100 text-green-800' :\r\n-                  lead.status === 'proposal' ? 'bg-blue-100 text-blue-800' :\r\n-                  lead.status === 'contacted' ? 'bg-yellow-100 text-yellow-800' :\r\n-                  lead.status === 'qualified' ? 'bg-purple-100 text-purple-800' :\r\n-                  lead.status === 'new' ? 'bg-red-100 text-red-800' :\r\n-                  lead.status === 'lost' ? 'bg-red-100 text-red-800' :\r\n-                  'bg-gray-100 text-gray-800'\r\n-                }`}>\r\n-                  {lead.status}\r\n-                </span>\r\n-              </div>\r\n-            </div>\r\n-          ))}\r\n+            );\r\n+          })}\r\n         </div>\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1740773564403,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -135,8 +135,9 @@\n                   <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n                     lead.status === 'closed' ? 'bg-green-100 text-green-800' :\r\n                     lead.status === 'proposal' ? 'bg-blue-100 text-blue-800' :\r\n                     lead.status === 'contacted' ? 'bg-yellow-100 text-yellow-800' :\r\n+                    \r\n                     'bg-gray-100 text-gray-800'\r\n                   }`}>\r\n                     {lead.status}\r\n                   </span>\r\n"
                },
                {
                    "date": 1740773573162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -135,9 +135,12 @@\n                   <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n                     lead.status === 'closed' ? 'bg-green-100 text-green-800' :\r\n                     lead.status === 'proposal' ? 'bg-blue-100 text-blue-800' :\r\n                     lead.status === 'contacted' ? 'bg-yellow-100 text-yellow-800' :\r\n-                    \r\n+                    lead.status === 'qualified' ? 'bg-purple-100 text-purple-800' :\r\n+                    lead.status === 'new' ? 'bg-red-100 text-red-800' :\r\n+                    lead.status === 'lost' ? 'bg-red-100 text-red-800' :\r\n+                    lead.status === 'in_progress' ? 'bg-yellow-100 text-yellow-800' :\r\n                     'bg-gray-100 text-gray-800'\r\n                   }`}>\r\n                     {lead.status}\r\n                   </span>\r\n"
                },
                {
                    "date": 1740773582258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -138,9 +138,9 @@\n                     lead.status === 'contacted' ? 'bg-yellow-100 text-yellow-800' :\r\n                     lead.status === 'qualified' ? 'bg-purple-100 text-purple-800' :\r\n                     lead.status === 'new' ? 'bg-red-100 text-red-800' :\r\n                     lead.status === 'lost' ? 'bg-red-100 text-red-800' :\r\n-                    lead.status === 'in_progress' ? 'bg-yellow-100 text-yellow-800' :\r\n+                    lead.status === 'in_progress' ? 'bg--100 text-yellow-800' :\r\n                     'bg-gray-100 text-gray-800'\r\n                   }`}>\r\n                     {lead.status}\r\n                   </span>\r\n"
                },
                {
                    "date": 1740773588582,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -138,9 +138,9 @@\n                     lead.status === 'contacted' ? 'bg-yellow-100 text-yellow-800' :\r\n                     lead.status === 'qualified' ? 'bg-purple-100 text-purple-800' :\r\n                     lead.status === 'new' ? 'bg-red-100 text-red-800' :\r\n                     lead.status === 'lost' ? 'bg-red-100 text-red-800' :\r\n-                    lead.status === 'in_progress' ? 'bg--100 text-yellow-800' :\r\n+                    lead.status === 'in_progress' ? 'bg-vio-100 text-yellow-800' :\r\n                     'bg-gray-100 text-gray-800'\r\n                   }`}>\r\n                     {lead.status}\r\n                   </span>\r\n"
                },
                {
                    "date": 1740773606837,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -138,9 +138,9 @@\n                     lead.status === 'contacted' ? 'bg-yellow-100 text-yellow-800' :\r\n                     lead.status === 'qualified' ? 'bg-purple-100 text-purple-800' :\r\n                     lead.status === 'new' ? 'bg-red-100 text-red-800' :\r\n                     lead.status === 'lost' ? 'bg-red-100 text-red-800' :\r\n-                    lead.status === 'in_progress' ? 'bg-vio-100 text-yellow-800' :\r\n+                    lead.status === 'in_progress' ? 'bg-violet-100 text-violet-800' :\r\n                     'bg-gray-100 text-gray-800'\r\n                   }`}>\r\n                     {lead.status}\r\n                   </span>\r\n"
                }
            ],
            "date": 1740772856718,
            "name": "Commit-0",
            "content": "import React from 'react';\r\nimport { List, Phone, Mail, Calendar, Target, Activity } from 'lucide-react';\r\nimport type { RoleSettings } from '../../hooks/useRoleSettings';\r\nimport { useSales } from '../../hooks/useSales';\r\n\r\ninterface SalesExecutiveDashboardProps {\r\n  settings: RoleSettings;\r\n}\r\n\r\nconst SalesExecutiveDashboard: React.FC<SalesExecutiveDashboardProps> = ({ settings }) => {\r\n  const { leads, activities, stats, loading, error } = useSales();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-[calc(100vh-4rem)]\">\r\n        <div className=\"text-center space-y-2\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\r\n          <p className=\"text-gray-600\">Loading dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n        <h3 className=\"text-lg font-medium text-red-800\">Error</h3>\r\n        <p className=\"mt-2 text-sm text-red-600\">{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Quick Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">My Leads</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {leads.length}\r\n              </p>\r\n            </div>\r\n            <List className=\"h-8 w-8 text-blue-500\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Activities Today</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {activities.filter(a => \r\n                  new Date(a.createdAt).toDateString() === new Date().toDateString()\r\n                ).length}\r\n              </p>\r\n            </div>\r\n            <Activity className=\"h-8 w-8 text-green-500\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Conversion Rate</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {stats?.conversionRate.toFixed(1)}%\r\n              </p>\r\n            </div>\r\n            <Target className=\"h-8 w-8 text-purple-500\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Deals Won</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {stats?.closedDeals}\r\n              </p>\r\n            </div>\r\n            <Target className=\"h-8 w-8 text-indigo-500\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Today's Tasks */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Today's Tasks</h3>\r\n        <div className=\"space-y-4\">\r\n          {activities\r\n            .filter(a => new Date(a.createdAt).toDateString() === new Date().toDateString())\r\n            .map((activity) => (\r\n              <div key={activity.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded\">\r\n                <div className=\"flex items-center\">\r\n                  {activity.type === 'call' && <Phone className=\"h-5 w-5 text-blue-500 mr-3\" />}\r\n                  {activity.type === 'email' && <Mail className=\"h-5 w-5 text-green-500 mr-3\" />}\r\n                  {activity.type === 'meeting' && <Calendar className=\"h-5 w-5 text-purple-500 mr-3\" />}\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-900\">{activity.subject}</p>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      {new Date(activity.createdAt).toLocaleTimeString()}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n                  activity.type === 'call' ? 'bg-blue-100 text-blue-800' :\r\n                  activity.type === 'email' ? 'bg-green-100 text-green-800' :\r\n                  'bg-purple-100 text-purple-800'\r\n                }`}>\r\n                  {activity.type}\r\n                </span>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* My Pipeline */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">My Pipeline</h3>\r\n        <div className=\"space-y-4\">\r\n          {leads.map((lead) => (\r\n            <div key={lead.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n              <div>\r\n                <p className=\"font-medium text-gray-900\">{lead.companyName}</p>\r\n                <p className=\"text-sm text-gray-500\">{lead.contactName}</p>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <p className=\"text-sm font-medium text-gray-900\">\r\n                  ${lead.estimatedValue?.toLocaleString()}\r\n                </p>\r\n                <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n                  lead.status === 'won' ? 'bg-green-100 text-green-800' :\r\n                  lead.status === 'lost' ? 'bg-red-100 text-red-800' :\r\n                  'bg-blue-100 text-blue-800'\r\n                }`}>\r\n                  {lead.status}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SalesExecutiveDashboard;"
        }
    ]
}