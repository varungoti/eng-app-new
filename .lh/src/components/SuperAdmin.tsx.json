{
    "sourceFile": "src/components/SuperAdmin.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1739306051557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1739306051557,
            "name": "Commit-0",
            "content": "\"use client\";\r\n\r\nimport React from 'react';\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { School, Users, Settings, Activity, BarChart } from 'lucide-react';\r\nimport { useSchools } from '@/hooks/useSchools';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\nconst SuperAdmin = () => {\r\n  const { schools, loading, error } = useSchools();\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner message=\"Loading dashboard...\" />;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n        <h3 className=\"text-lg font-medium text-red-800\">Error</h3>\r\n        <p className=\"mt-2 text-sm text-red-600\">{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const totalStudents = schools.reduce((sum, school) => sum + (school.capacity?.current || 0), 0);\r\n  const totalStaff = schools.reduce((sum, school) => sum + (school.staffCount || 0), 0);\r\n  const activeSchools = schools.filter(school => school.status === 'active').length;\r\n\r\n  return (\r\n    <div className=\"space-y-8 p-8\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className=\"text-3xl font-bold\">Super Admin Dashboard</h1>\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Settings className=\"h-6 w-6 text-gray-400\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"p-3 bg-blue-100 rounded-full\">\r\n              <School className=\"h-6 w-6 text-blue-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-500\">Total Schools</p>\r\n              <h3 className=\"text-2xl font-bold\">{schools.length}</h3>\r\n              <p className=\"text-sm text-green-600\">{activeSchools} Active</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"p-3 bg-green-100 rounded-full\">\r\n              <Users className=\"h-6 w-6 text-green-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-500\">Total Students</p>\r\n              <h3 className=\"text-2xl font-bold\">{totalStudents}</h3>\r\n              <p className=\"text-sm text-green-600\">Across all schools</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"p-3 bg-purple-100 rounded-full\">\r\n              <Users className=\"h-6 w-6 text-purple-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-500\">Total Staff</p>\r\n              <h3 className=\"text-2xl font-bold\">{totalStaff}</h3>\r\n              <p className=\"text-sm text-purple-600\">Teaching & Non-teaching</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"p-3 bg-orange-100 rounded-full\">\r\n              <Activity className=\"h-6 w-6 text-orange-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-500\">System Health</p>\r\n              <h3 className=\"text-2xl font-bold\">98%</h3>\r\n              <p className=\"text-sm text-orange-600\">All systems operational</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      <Tabs defaultValue=\"overview\" className=\"space-y-6\">\r\n        <TabsList>\r\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\r\n          <TabsTrigger value=\"schools\">Schools</TabsTrigger>\r\n          <TabsTrigger value=\"users\">Users</TabsTrigger>\r\n          <TabsTrigger value=\"reports\">Reports</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"overview\" className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            <Card className=\"p-6\">\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h3 className=\"text-lg font-medium\">School Performance</h3>\r\n                <BarChart className=\"h-5 w-5 text-gray-400\" />\r\n              </div>\r\n              <div className=\"space-y-4\">\r\n                {schools.slice(0, 5).map((school) => (\r\n                  <div key={school.id} className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <p className=\"font-medium\">{school.name}</p>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        {school.capacity?.current} Students\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <div className=\"w-24 h-2 bg-gray-200 rounded-full\">\r\n                        <div\r\n                          className=\"h-full bg-green-500 rounded-full\"\r\n                          style={{\r\n                            width: `${Math.min(\r\n                              100,\r\n                              ((school.capacity?.current || 0) /\r\n                                (school.capacity?.total || 1)) *\r\n                                100\r\n                            )}%`,\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <span className=\"text-sm text-gray-600\">\r\n                        {Math.round(\r\n                          ((school.capacity?.current || 0) /\r\n                            (school.capacity?.total || 1)) *\r\n                            100\r\n                        )}\r\n                        %\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </Card>\r\n\r\n            <Card className=\"p-6\">\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h3 className=\"text-lg font-medium\">Recent Activities</h3>\r\n                <Activity className=\"h-5 w-5 text-gray-400\" />\r\n              </div>\r\n              <div className=\"space-y-4\">\r\n                {schools.slice(0, 5).map((school) => (\r\n                  <div\r\n                    key={school.id}\r\n                    className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\r\n                  >\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <Activity className=\"h-4 w-4 text-gray-400\" />\r\n                      <div>\r\n                        <p className=\"text-sm font-medium\">\r\n                          {school.name} updated their profile\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-500\">2 hours ago</p>\r\n                      </div>\r\n                    </div>\r\n                    <span className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full\">\r\n                      Update\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </Card>\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"schools\">\r\n          <Card className=\"p-6\">\r\n            <div className=\"space-y-4\">\r\n              {schools.map((school) => (\r\n                <div\r\n                  key={school.id}\r\n                  className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\"\r\n                >\r\n                  <div>\r\n                    <h4 className=\"font-medium\">{school.name}</h4>\r\n                    <p className=\"text-sm text-gray-500\">{school.address}</p>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <span\r\n                      className={`px-2 py-1 text-xs rounded-full ${\r\n                        school.status === 'active'\r\n                          ? 'bg-green-100 text-green-800'\r\n                          : 'bg-red-100 text-red-800'\r\n                      }`}\r\n                    >\r\n                      {school.status}\r\n                    </span>\r\n                    <button \r\n                      aria-label=\"Settings\"\r\n                      className=\"text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                      <Settings className=\"h-4 w-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"users\">\r\n          <Card className=\"p-6\">\r\n            <div className=\"text-center py-8\">\r\n              <Users className=\"h-12 w-12 mx-auto text-gray-400 mb-4\" />\r\n              <h3 className=\"text-lg font-medium\">User Management</h3>\r\n              <p className=\"text-gray-500\">\r\n                Manage system users, roles, and permissions\r\n              </p>\r\n            </div>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"reports\">\r\n          <Card className=\"p-6\">\r\n            <div className=\"text-center py-8\">\r\n              <BarChart className=\"h-12 w-12 mx-auto text-gray-400 mb-4\" />\r\n              <h3 className=\"text-lg font-medium\">System Reports</h3>\r\n              <p className=\"text-gray-500\">\r\n                View and generate system-wide reports\r\n              </p>\r\n            </div>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuperAdmin; "
        }
    ]
}