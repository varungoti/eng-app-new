{
    "sourceFile": "src/hooks/useContent/mappers.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 9,
            "patches": [
                {
                    "date": 1740917624770,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740917693988,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,17 @@\n   name: grade.name,\r\n   level: grade.level || 0,\r\n   description: grade.description || '',\r\n   created_at: grade.created_at || new Date().toISOString(),\r\n-  updated_at: grade.updated_at || new Date().toISOString()\r\n+  updated_at: grade.updated_at || new Date().toISOString(),\r\n+  students: grade.students || 0,\r\n+  schedule: grade.schedule || 'Not scheduled',\r\n+  progress: grade.progress || 0,\r\n+  nextLesson: grade.nextLesson || undefined,\r\n+  studentIds: grade.studentIds || [],\r\n+  maxStudents: grade.maxStudents || 30,\r\n+  lessonIds: grade.lessonIds || [],\r\n+  assignments: grade.assignments || []\r\n });\r\n \r\n export const mapTopic = (topic: any): Topic => ({\r\n   id: topic.id,\r\n@@ -19,34 +27,49 @@\n   grade_id: topic.grade_id || topic.gradeId || '',\r\n   order_index: topic.order_index || topic.order || 0,\r\n   created_at: topic.created_at || new Date().toISOString(),\r\n   updated_at: topic.updated_at || new Date().toISOString(),\r\n-  course_id: topic.course_id || null\r\n+  course_id: topic.course_id || null,\r\n+  subtopics: topic.subtopics ? topic.subtopics.map(mapSubTopic) : undefined\r\n });\r\n \r\n-export const mapSubTopic = (subTopic: Tables['sub_topics']['Row']): SubTopic => ({\r\n+export const mapSubTopic = (subTopic: any): SubTopic => ({\r\n   id: subTopic.id,\r\n-  topicId: subTopic.topic_id,\r\n-  title: subTopic.title,\r\n-  description: subTopic.description || '',\r\n-  order: subTopic.order\r\n+  name: subTopic.name || subTopic.title || '',\r\n+  topic_id: subTopic.topic_id || '',\r\n+  title: subTopic.title || subTopic.name || '',\r\n+  topicId: subTopic.topic_id || subTopic.topicId || '',\r\n+  description: subTopic.description || null,\r\n+  order: subTopic.order || null,\r\n+  order_index: subTopic.order_index || subTopic.order || null,\r\n+  created_at: subTopic.created_at || new Date(),\r\n+  updated_at: subTopic.updated_at || new Date()\r\n });\r\n \r\n-export const mapExercise = (exercise: Tables['exercises']['Row']): Exercise => ({\r\n+export const mapExercise = (exercise: any): Exercise => ({\r\n   id: exercise.id,\r\n   prompt: exercise.prompt,\r\n   mediaUrl: exercise.media_url || '',\r\n   mediaType: exercise.media_type || 'image',\r\n-  sayText: exercise.say_text\r\n+  sayText: exercise.say_text || ''\r\n });\r\n \r\n-export const mapLesson = (lesson: Tables['lessons']['Row'] & { exercises?: Tables['exercises']['Row'][] }): Lesson => ({\r\n+export const mapLesson = (lesson: any): Lesson => ({\r\n   id: lesson.id,\r\n-  subTopicId: lesson.sub_topic_id,\r\n-  title: lesson.title,\r\n-  description: lesson.description || '',\r\n-  order: lesson.order,\r\n-  teacherScript: lesson.teacher_script || '',\r\n-  teacherPrompt: lesson.teacher_prompt || '',\r\n-  sampleAnswer: lesson.sample_answer || '',\r\n+  title: lesson.title || '',\r\n+  content: lesson.content || null,\r\n+  grade_id: lesson.grade_id || null,\r\n+  topic_id: lesson.topic_id || null,\r\n+  subtopic_id: lesson.sub_topic_id || lesson.subtopic_id || '',\r\n+  order_index: lesson.order_index || lesson.order || null,\r\n+  duration: lesson.duration || null,\r\n+  subjectId: lesson.subjectId || null,\r\n+  status: lesson.status || 'draft',\r\n+  created_at: lesson.created_at || undefined,\r\n+  updated_at: lesson.updated_at || undefined,\r\n+  description: lesson.description || null,\r\n+  prerequisites: lesson.prerequisites || [],\r\n+  media_type: lesson.media_type || undefined,\r\n+  questions: lesson.questions || [],\r\n+  activities: lesson.activities || [],\r\n   exercises: (lesson.exercises || []).map(mapExercise)\r\n });\n\\ No newline at end of file\n"
                },
                {
                    "date": 1740917794604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import type { Database } from '../../lib/database.types';\r\n-import type { Grade, Topic, SubTopic, Lesson, Exercise } from '../../types';\r\n+import type { Grade, Topic, SubTopic, Lesson, Exercise, QuestionExtended, ActivityExtended } from '../../types';\r\n \r\n export type Tables = Database['public']['Tables'];\r\n \r\n export const mapGrade = (grade: any): Grade => ({\r\n@@ -46,12 +46,13 @@\n });\r\n \r\n export const mapExercise = (exercise: any): Exercise => ({\r\n   id: exercise.id,\r\n-  prompt: exercise.prompt,\r\n-  mediaUrl: exercise.media_url || '',\r\n-  mediaType: exercise.media_type || 'image',\r\n-  sayText: exercise.say_text || ''\r\n+  prompt: exercise.prompt || '',\r\n+  mediaUrl: exercise.media_url || exercise.mediaUrl || '',\r\n+  mediaType: exercise.media_type || exercise.mediaType || 'image',\r\n+  sayText: exercise.say_text || exercise.sayText || '',\r\n+  questions: exercise.questions || []\r\n });\r\n \r\n export const mapLesson = (lesson: any): Lesson => ({\r\n   id: lesson.id,\r\n@@ -68,8 +69,23 @@\n   updated_at: lesson.updated_at || undefined,\r\n   description: lesson.description || null,\r\n   prerequisites: lesson.prerequisites || [],\r\n   media_type: lesson.media_type || undefined,\r\n+  media_url: lesson.media_url || null,\r\n   questions: lesson.questions || [],\r\n   activities: lesson.activities || [],\r\n-  exercises: (lesson.exercises || []).map(mapExercise)\r\n+  contentheading: lesson.contentheading || null,\r\n+  user_id: lesson.user_id || null,\r\n+  student_id: lesson.student_id || '',\r\n+  lesson_status: lesson.lesson_status || 'not_started',\r\n+  progress_data: lesson.progress_data || {\r\n+    lastQuestionIndex: 0,\r\n+    answers: {},\r\n+    totalSteps: 0,\r\n+    completedSteps: 0,\r\n+    activities: {}\r\n+  },\r\n+  completed_at: lesson.completed_at,\r\n+  difficulty: lesson.difficulty || 'beginner',\r\n+  voice_id: lesson.voice_id,\r\n+  total_questions: lesson.total_questions || 0\r\n });\n\\ No newline at end of file\n"
                },
                {
                    "date": 1740918348276,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import type { Database } from '../../lib/database.types';\r\n-import type { Grade, Topic, SubTopic, Lesson, Exercise, QuestionExtended, ActivityExtended } from '../../types';\r\n+import type { Grade, Topic, SubTopic, Lesson, Exercise, Question, ActivityExtended } from '../../types';\r\n \r\n export type Tables = Database['public']['Tables'];\r\n \r\n export const mapGrade = (grade: any): Grade => ({\r\n"
                },
                {
                    "date": 1740918389593,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import type { Database } from '../../lib/database.types';\r\n-import type { Grade, Topic, SubTopic, Lesson, Exercise, Question, ActivityExtended } from '../../types';\r\n+import type { Grade, Topic, SubTopic, Lesson, Exerciseprompt, Question, Activity } from '../../types';\r\n \r\n export type Tables = Database['public']['Tables'];\r\n \r\n export const mapGrade = (grade: any): Grade => ({\r\n"
                },
                {
                    "date": 1740918398908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import type { Database } from '../../lib/database.types';\r\n-import type { Grade, Topic, SubTopic, Lesson, Exerciseprompt, Question, Activity } from '../../types';\r\n+import type { Grade, Topic, SubTopic, Lesson, ExercisePrompt, Question, Activity, Exercise } from '../../types';\r\n \r\n export type Tables = Database['public']['Tables'];\r\n \r\n export const mapGrade = (grade: any): Grade => ({\r\n"
                },
                {
                    "date": 1740918415893,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n   created_at: subTopic.created_at || new Date(),\r\n   updated_at: subTopic.updated_at || new Date()\r\n });\r\n \r\n-export const mapExercise = (exercise: any): Exercise => ({\r\n+export const mapExerciseP = (exercise: any): Exercise => ({\r\n   id: exercise.id,\r\n   prompt: exercise.prompt || '',\r\n   mediaUrl: exercise.media_url || exercise.mediaUrl || '',\r\n   mediaType: exercise.media_type || exercise.mediaType || 'image',\r\n"
                },
                {
                    "date": 1740918439259,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,11 @@\n   created_at: subTopic.created_at || new Date(),\r\n   updated_at: subTopic.updated_at || new Date()\r\n });\r\n \r\n-export const mapExerciseP = (exercise: any): Exercise => ({\r\n+\r\n+\r\n+export const mapExercisePrompt = (exercise: any): ExercisePrompt => ({\r\n   id: exercise.id,\r\n   prompt: exercise.prompt || '',\r\n   mediaUrl: exercise.media_url || exercise.mediaUrl || '',\r\n   mediaType: exercise.media_type || exercise.mediaType || 'image',\r\n"
                },
                {
                    "date": 1740918455701,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,10 +50,16 @@\n   title: question.title || '',\r\n   content: question.content || null,\r\n   type: question.type || 'text',\r\n   lesson_id: question.lesson_id || question.lessonId || '',\r\n+  points: question.points || 0,\r\n+  metadata: question.metadata || {},\r\n+  order_index: question.order_index || question.order || null,\r\n+  created_at: question.created_at || new Date(),\r\n+  updated_at: question.updated_at || new Date()\r\n \r\n \r\n+\r\n export const mapExercisePrompt = (exercise: any): ExercisePrompt => ({\r\n   id: exercise.id,\r\n   prompt: exercise.prompt || '',\r\n   mediaUrl: exercise.media_url || exercise.mediaUrl || '',\r\n"
                },
                {
                    "date": 1740918478243,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,15 @@\n export const mapExercise = (exercise: any): Exercise => ({\r\n   id: exercise.id,\r\n   title: exercise.title || '',\r\n   content: exercise.content || null,\r\n-  \r\n+  type: exercise.type || 'text',\r\n+  lesson_id: exercise.lesson_id || exercise.lessonId || '',\r\n+  points: exercise.points || 0,\r\n+  metadata: exercise.metadata || {},\r\n+  order_index: exercise.order_index || exercise.order || null,\r\n+  created_at: exercise.created_at || new Date(),\r\n+  updated_at: exercise.updated_at || new Date()\r\n \r\n \r\n \r\n export const mapExercisePrompt = (exercise: any): ExercisePrompt => ({\r\n"
                }
            ],
            "date": 1740917624770,
            "name": "Commit-0",
            "content": "import type { Database } from '../../lib/database.types';\r\nimport type { Grade, Topic, SubTopic, Lesson, Exercise } from '../../types';\r\n\r\nexport type Tables = Database['public']['Tables'];\r\n\r\nexport const mapGrade = (grade: any): Grade => ({\r\n  id: grade.id,\r\n  name: grade.name,\r\n  level: grade.level || 0,\r\n  description: grade.description || '',\r\n  created_at: grade.created_at || new Date().toISOString(),\r\n  updated_at: grade.updated_at || new Date().toISOString()\r\n});\r\n\r\nexport const mapTopic = (topic: any): Topic => ({\r\n  id: topic.id,\r\n  title: topic.title || topic.name || '',\r\n  description: topic.description || '',\r\n  grade_id: topic.grade_id || topic.gradeId || '',\r\n  order_index: topic.order_index || topic.order || 0,\r\n  created_at: topic.created_at || new Date().toISOString(),\r\n  updated_at: topic.updated_at || new Date().toISOString(),\r\n  course_id: topic.course_id || null\r\n});\r\n\r\nexport const mapSubTopic = (subTopic: Tables['sub_topics']['Row']): SubTopic => ({\r\n  id: subTopic.id,\r\n  topicId: subTopic.topic_id,\r\n  title: subTopic.title,\r\n  description: subTopic.description || '',\r\n  order: subTopic.order\r\n});\r\n\r\nexport const mapExercise = (exercise: Tables['exercises']['Row']): Exercise => ({\r\n  id: exercise.id,\r\n  prompt: exercise.prompt,\r\n  mediaUrl: exercise.media_url || '',\r\n  mediaType: exercise.media_type || 'image',\r\n  sayText: exercise.say_text\r\n});\r\n\r\nexport const mapLesson = (lesson: Tables['lessons']['Row'] & { exercises?: Tables['exercises']['Row'][] }): Lesson => ({\r\n  id: lesson.id,\r\n  subTopicId: lesson.sub_topic_id,\r\n  title: lesson.title,\r\n  description: lesson.description || '',\r\n  order: lesson.order,\r\n  teacherScript: lesson.teacher_script || '',\r\n  teacherPrompt: lesson.teacher_prompt || '',\r\n  sampleAnswer: lesson.sample_answer || '',\r\n  exercises: (lesson.exercises || []).map(mapExercise)\r\n});"
        }
    ]
}