{
    "sourceFile": "src/app/content-management/components/CreateSubtopicDialog.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1739016695969,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1739016721892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n       queryClient.invalidateQueries({ queryKey: ['subtopics', topicId] });\r\n       toast({\r\n         title: 'Subtopic created successfully',\r\n         description: 'The subtopic has been created and is now available in the content hierarchy.',\r\n-        variant: 'default'\r\n+        type: 'success'\r\n       });\r\n       onOpenChange(false);\r\n       setTitle('');\r\n     },\r\n"
                },
                {
                    "date": 1739016734303,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n       queryClient.invalidateQueries({ queryKey: ['subtopics', topicId] });\r\n       toast({\r\n         title: 'Subtopic created successfully',\r\n         description: 'The subtopic has been created and is now available in the content hierarchy.',\r\n-        type: 'success'\r\n+        variant: 'default'\r\n       });\r\n       onOpenChange(false);\r\n       setTitle('');\r\n     },\r\n"
                },
                {
                    "date": 1739016879770,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,32 +31,32 @@\n       queryClient.invalidateQueries({ queryKey: ['subtopics', topicId] });\r\n       toast({\r\n         title: 'Subtopic created successfully',\r\n         description: 'The subtopic has been created and is now available in the content hierarchy.',\r\n-        variant: 'default'\r\n       });\r\n       onOpenChange(false);\r\n       setTitle('');\r\n+\r\n     },\r\n     onError: (error) => {\r\n       toast({\r\n         title: 'Failed to create subtopic',\r\n         description: error instanceof Error ? error.message : 'Failed to create subtopic',\r\n-        variant: 'destructive'\r\n       });\r\n     },\r\n   });\r\n \r\n+\r\n   const handleSubmit = (e: React.FormEvent) => {\r\n     e.preventDefault();\r\n     if (!title.trim()) {\r\n       toast({\r\n         title: 'Title is required',\r\n         description: 'Please enter a title for the subtopic.',\r\n-        variant: 'destructive'\r\n       });\r\n       return;\r\n     }\r\n+\r\n     createSubtopic();\r\n   };\r\n \r\n   return (\r\n"
                }
            ],
            "date": 1739016695969,
            "name": "Commit-0",
            "content": "\"use client\";\r\n\r\nimport React from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Icon } from '@/components/ui/icons';\r\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { contentService } from '@/lib/content/ContentService';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\ninterface CreateSubtopicDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  topicId: string;\r\n}\r\n\r\nexport function CreateSubtopicDialog({ open, onOpenChange, topicId }: CreateSubtopicDialogProps) {\r\n  const [title, setTitle] = React.useState('');\r\n  const queryClient = useQueryClient();\r\n  const { toast } = useToast();\r\n\r\n  const { mutate: createSubtopic, isPending: isLoading } = useMutation({\r\n    mutationFn: async () => {\r\n      return contentService.createSubtopic({\r\n        title,\r\n        topicId\r\n      });\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['subtopics', topicId] });\r\n      toast({\r\n        title: 'Subtopic created successfully',\r\n        description: 'The subtopic has been created and is now available in the content hierarchy.',\r\n        variant: 'default'\r\n      });\r\n      onOpenChange(false);\r\n      setTitle('');\r\n    },\r\n    onError: (error) => {\r\n      toast({\r\n        title: 'Failed to create subtopic',\r\n        description: error instanceof Error ? error.message : 'Failed to create subtopic',\r\n        variant: 'destructive'\r\n      });\r\n    },\r\n  });\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!title.trim()) {\r\n      toast({\r\n        title: 'Title is required',\r\n        description: 'Please enter a title for the subtopic.',\r\n        variant: 'destructive'\r\n      });\r\n      return;\r\n    }\r\n    createSubtopic();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"bg-white dark:bg-gray-800 sm:max-w-[425px]\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <Icon type=\"phosphor\" name=\"FOLDERS_PLUS\" className=\"h-5 w-5\" />\r\n            Create New Subtopic\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label htmlFor=\"title\" className=\"text-sm font-medium mb-2 block\">\r\n              Title\r\n            </label>\r\n            <Input\r\n              id=\"title\"\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              placeholder=\"Enter subtopic title\"\r\n            />\r\n          </div>\r\n          <div className=\"flex justify-end gap-2\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={() => onOpenChange(false)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" disabled={isLoading}>\r\n              {isLoading ? 'Creating...' : 'Create Subtopic'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n} "
        }
    ]
}