{
    "sourceFile": "src/utils/errorResolver.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1739379477775,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1739379592469,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,65 @@\n+export class ErrorResolver {\r\n+  private static errorPatterns = new Map([\r\n+    ['TypeError: Cannot read property', {\r\n+      diagnosis: 'Null or undefined object access',\r\n+      solution: (error: string) => {\r\n+        const match = error.match(/property '(.+)' of/);\r\n+        if (match) {\r\n+          return `Add null check for ${match[1]}`;\r\n+        }\r\n+        return 'Add null checks';\r\n+      }\r\n+    }],\r\n+    ['ReferenceError: (\\\\w+) is not defined', {\r\n+      diagnosis: 'Undefined variable',\r\n+      solution: (error: string) => {\r\n+        const match = error.match(/ReferenceError: (\\w+) is not defined/);\r\n+        if (match) {\r\n+          return `Define variable ${match[1]} before use`;\r\n+        }\r\n+        return 'Define missing variable';\r\n+      }\r\n+    }]\r\n+  ]);\r\n+\r\n+  static async handleError(log: any) {\r\n+    const diagnosis = this.diagnoseError(log.message);\r\n+    if (diagnosis) {\r\n+      await this.applyFix(diagnosis, log);\r\n+    }\r\n+  }\r\n+\r\n+  private static diagnoseError(error: string): any {\r\n+    for (const [pattern, handler] of this.errorPatterns) {\r\n+      if (new RegExp(pattern).test(error)) {\r\n+        return {\r\n+          pattern,\r\n+          ...handler,\r\n+          error\r\n+        };\r\n+      }\r\n+    }\r\n+    return null;\r\n+  }\r\n+\r\n+  private static async applyFix(diagnosis: any, log: any) {\r\n+    const fix = diagnosis.solution(diagnosis.error);\r\n+    console.log(`🔧 Attempting to fix: ${diagnosis.diagnosis}`);\r\n+    console.log(`📝 Suggested fix: ${fix}`);\r\n+\r\n+    // Send fix suggestion to server\r\n+    try {\r\n+      await fetch('/api/auto-fix', {\r\n+        method: 'POST',\r\n+        headers: { 'Content-Type': 'application/json' },\r\n+        body: JSON.stringify({\r\n+          error: log,\r\n+          diagnosis,\r\n+          suggestedFix: fix\r\n+        })\r\n+      });\r\n+    } catch (err) {\r\n+      console.error('Failed to send fix suggestion:', err);\r\n+    }\r\n+  }\r\n+} \n\\ No newline at end of file\n"
                },
                {
                    "date": 1740746309941,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,70 +1,20 @@\n export class ErrorResolver {\r\n-  private static errorPatterns = new Map([\r\n-    ['TypeError: Cannot read property', {\r\n-      diagnosis: 'Null or undefined object access',\r\n-      solution: (error: string) => {\r\n-        const match = error.match(/property '(.+)' of/);\r\n-        if (match) {\r\n-          return `Add null check for ${match[1]}`;\r\n-        }\r\n-        return 'Add null checks';\r\n-      }\r\n-    }],\r\n-    ['ReferenceError: (\\\\w+) is not defined', {\r\n-      diagnosis: 'Undefined variable',\r\n-      solution: (error: string) => {\r\n-        const match = error.match(/ReferenceError: (\\w+) is not defined/);\r\n-        if (match) {\r\n-          return `Define variable ${match[1]} before use`;\r\n-        }\r\n-        return 'Define missing variable';\r\n-      }\r\n-    }]\r\n-  ]);\r\n-\r\n-  static async handleError(log: any) {\r\n-    const diagnosis = this.diagnoseError(log.message);\r\n-    if (diagnosis) {\r\n-      await this.applyFix(diagnosis, log);\r\n-    }\r\n+  // Define interfaces for better type safety\r\n+  interface ErrorLog {\r\n+    message: string;\r\n+    stack?: string;\r\n+    source?: string;\r\n+    timestamp?: number;\r\n   }\r\n \r\n-  private static diagnoseError(error: string): any {\r\n-    for (const [pattern, handler] of this.errorPatterns) {\r\n-      if (new RegExp(pattern).test(error)) {\r\n-        return {\r\n-          pattern,\r\n-          ...handler,\r\n-          error\r\n-        };\r\n-      }\r\n-    }\r\n-    return null;\r\n+  interface ErrorDiagnosis {\r\n+    pattern: string;\r\n+    diagnosis: string;\r\n+    solution: (error: string) => string;\r\n+    error: string;\r\n   }\r\n \r\n-  private static async applyFix(diagnosis: any, log: any) {\r\n-    const fix = diagnosis.solution(diagnosis.error);\r\n-    console.log(`🔧 Attempting to fix: ${diagnosis.diagnosis}`);\r\n-    console.log(`📝 Suggested fix: ${fix}`);\r\n-\r\n-    // Send fix suggestion to server\r\n-    try {\r\n-      await fetch('/api/auto-fix', {\r\n-        method: 'POST',\r\n-        headers: { 'Content-Type': 'application/json' },\r\n-        body: JSON.stringify({\r\n-          error: log,\r\n-          diagnosis,\r\n-          suggestedFix: fix\r\n-        })\r\n-      });\r\n-    } catch (err) {\r\n-      console.error('Failed to send fix suggestion:', err);\r\n-    }\r\n-  }\r\n-} \n-class ErrorResolver {\r\n   private static errorPatterns = new Map([\r\n     ['TypeError: Cannot read property', {\r\n       diagnosis: 'Null or undefined object access',\r\n       solution: (error: string) => {\r\n@@ -86,16 +36,16 @@\n       }\r\n     }]\r\n   ]);\r\n \r\n-  static async handleError(log: any) {\r\n+  static async handleError(log: ErrorLog) {\r\n     const diagnosis = this.diagnoseError(log.message);\r\n     if (diagnosis) {\r\n       await this.applyFix(diagnosis, log);\r\n     }\r\n   }\r\n \r\n-  private static diagnoseError(error: string): any {\r\n+  private static diagnoseError(error: string): ErrorDiagnosis | null {\r\n     for (const [pattern, handler] of this.errorPatterns) {\r\n       if (new RegExp(pattern).test(error)) {\r\n         return {\r\n           pattern,\r\n@@ -106,9 +56,9 @@\n     }\r\n     return null;\r\n   }\r\n \r\n-  private static async applyFix(diagnosis: any, log: any) {\r\n+  private static async applyFix(diagnosis: ErrorDiagnosis, log: ErrorLog) {\r\n     const fix = diagnosis.solution(diagnosis.error);\r\n     console.log(`🔧 Attempting to fix: ${diagnosis.diagnosis}`);\r\n     console.log(`📝 Suggested fix: ${fix}`);\r\n \r\n"
                },
                {
                    "date": 1740746360581,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,20 +1,20 @@\n-export class ErrorResolver {\r\n-  // Define interfaces for better type safety\r\n-  interface ErrorLog {\r\n-    message: string;\r\n-    stack?: string;\r\n-    source?: string;\r\n-    timestamp?: number;\r\n-  }\r\n+// Define interfaces for better type safety\r\n+interface ErrorLog {\r\n+  message: string;\r\n+  stack?: string;\r\n+  source?: string;\r\n+  timestamp?: number;\r\n+}\r\n \r\n-  interface ErrorDiagnosis {\r\n-    pattern: string;\r\n-    diagnosis: string;\r\n-    solution: (error: string) => string;\r\n-    error: string;\r\n-  }\r\n+interface ErrorDiagnosis {\r\n+  pattern: string;\r\n+  diagnosis: string;\r\n+  solution: (error: string) => string;\r\n+  error: string;\r\n+}\r\n \r\n+export class ErrorResolver {\r\n   private static errorPatterns = new Map([\r\n     ['TypeError: Cannot read property', {\r\n       diagnosis: 'Null or undefined object access',\r\n       solution: (error: string) => {\r\n"
                },
                {
                    "date": 1740746368318,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,10 +58,10 @@\n   }\r\n \r\n   private static async applyFix(diagnosis: ErrorDiagnosis, log: ErrorLog) {\r\n     const fix = diagnosis.solution(diagnosis.error);\r\n-    console.log(`🔧 Attempting to fix: ${diagnosis.diagnosis}`);\r\n-    console.log(`📝 Suggested fix: ${fix}`);\r\n+    logger.info(`🔧 Attempting to fix: ${diagnosis.diagnosis}`);\r\n+    logger.info(`📝 Suggested fix: ${fix}`);\r\n \r\n     // Send fix suggestion to server\r\n     try {\r\n       await fetch('/api/auto-fix', {\r\n@@ -73,8 +73,8 @@\n           suggestedFix: fix\r\n         })\r\n       });\r\n     } catch (err) {\r\n-      console.error('Failed to send fix suggestion:', err);\r\n+      logger.error('Failed to send fix suggestion:', err);\r\n     }\r\n   }\r\n } \n\\ No newline at end of file\n"
                },
                {
                    "date": 1740746374258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,6 @@\n+import { logger } from \"@/lib/logger\";\r\n+\r\n // Define interfaces for better type safety\r\n interface ErrorLog {\r\n   message: string;\r\n   stack?: string;\r\n@@ -73,8 +75,8 @@\n           suggestedFix: fix\r\n         })\r\n       });\r\n     } catch (err) {\r\n-      logger.error('Failed to send fix suggestion:', err);\r\n+      logger.error('Failed to send fix suggestion:', { context: { error: err } });\r\n     }\r\n   }\r\n } \n\\ No newline at end of file\n"
                }
            ],
            "date": 1739379477775,
            "name": "Commit-0",
            "content": "class ErrorResolver {\r\n  private static errorPatterns = new Map([\r\n    ['TypeError: Cannot read property', {\r\n      diagnosis: 'Null or undefined object access',\r\n      solution: (error: string) => {\r\n        const match = error.match(/property '(.+)' of/);\r\n        if (match) {\r\n          return `Add null check for ${match[1]}`;\r\n        }\r\n        return 'Add null checks';\r\n      }\r\n    }],\r\n    ['ReferenceError: (\\\\w+) is not defined', {\r\n      diagnosis: 'Undefined variable',\r\n      solution: (error: string) => {\r\n        const match = error.match(/ReferenceError: (\\w+) is not defined/);\r\n        if (match) {\r\n          return `Define variable ${match[1]} before use`;\r\n        }\r\n        return 'Define missing variable';\r\n      }\r\n    }]\r\n  ]);\r\n\r\n  static async handleError(log: any) {\r\n    const diagnosis = this.diagnoseError(log.message);\r\n    if (diagnosis) {\r\n      await this.applyFix(diagnosis, log);\r\n    }\r\n  }\r\n\r\n  private static diagnoseError(error: string): any {\r\n    for (const [pattern, handler] of this.errorPatterns) {\r\n      if (new RegExp(pattern).test(error)) {\r\n        return {\r\n          pattern,\r\n          ...handler,\r\n          error\r\n        };\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private static async applyFix(diagnosis: any, log: any) {\r\n    const fix = diagnosis.solution(diagnosis.error);\r\n    console.log(`🔧 Attempting to fix: ${diagnosis.diagnosis}`);\r\n    console.log(`📝 Suggested fix: ${fix}`);\r\n\r\n    // Send fix suggestion to server\r\n    try {\r\n      await fetch('/api/auto-fix', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          error: log,\r\n          diagnosis,\r\n          suggestedFix: fix\r\n        })\r\n      });\r\n    } catch (err) {\r\n      console.error('Failed to send fix suggestion:', err);\r\n    }\r\n  }\r\n} "
        }
    ]
}