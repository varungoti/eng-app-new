{
    "sourceFile": "src/pages/Finance/Payments.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 22,
            "patches": [
                {
                    "date": 1740927548105,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740927571788,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import React from 'react';\r\n+//import React from 'react';\r\n import { usePermissions } from '../../hooks/usePermissions';\r\n import { formatCurrency } from '../../lib/utils/format';\r\n import { Plus, FileText, Filter, CreditCard } from 'lucide-react';\r\n \r\n@@ -28,9 +28,10 @@\n     <div className=\"space-y-6\">\r\n       <div className=\"flex justify-between items-center\">\r\n         <h1 className=\"text-2xl font-semibold text-gray-900\">Payment Records</h1>\r\n         <div className=\"flex space-x-4\">\r\n-          <button className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\">\r\n+          <button\r\n+           className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\">\r\n             <Filter className=\"h-4 w-4 mr-2\" />\r\n             Filter\r\n           </button>\r\n           <button className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\">\r\n"
                },
                {
                    "date": 1740927580305,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,10 +28,11 @@\n     <div className=\"space-y-6\">\r\n       <div className=\"flex justify-between items-center\">\r\n         <h1 className=\"text-2xl font-semibold text-gray-900\">Payment Records</h1>\r\n         <div className=\"flex space-x-4\">\r\n-          <button\r\n-           className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\">\r\n+          <button \r\n+            title=\"Filter\"\r\n+            className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\">\r\n             <Filter className=\"h-4 w-4 mr-2\" />\r\n             Filter\r\n           </button>\r\n           <button className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\">\r\n"
                },
                {
                    "date": 1740927589668,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,11 @@\n             className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\">\r\n             <Filter className=\"h-4 w-4 mr-2\" />\r\n             Filter\r\n           </button>\r\n-          <button className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\">\r\n+          <button \r\n+            title=\"Record Payment\"\r\n+            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\">\r\n             <Plus className=\"h-4 w-4 mr-2\" />\r\n             Record Payment\r\n           </button>\r\n         </div>\r\n"
                },
                {
                    "date": 1740927599742,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,11 +34,9 @@\n             className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\">\r\n             <Filter className=\"h-4 w-4 mr-2\" />\r\n             Filter\r\n           </button>\r\n-          <button \r\n-            title=\"Record Payment\"\r\n-            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\">\r\n+          <button className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\r\n             <Plus className=\"h-4 w-4 mr-2\" />\r\n             Record Payment\r\n           </button>\r\n         </div>\r\n@@ -109,5 +107,7 @@\n     </div>\r\n   );\r\n };\r\n \r\n+export default Payments;\r\n+\r\n export default Payments;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1740927612580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,10 @@\n             className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\">\r\n             <Filter className=\"h-4 w-4 mr-2\" />\r\n             Filter\r\n           </button>\r\n-          <button className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\r\n+          <button \r\n+          className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\r\n             <Plus className=\"h-4 w-4 mr-2\" />\r\n             Record Payment\r\n           </button>\r\n         </div>\r\n"
                },
                {
                    "date": 1740927620378,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,11 @@\n             <Filter className=\"h-4 w-4 mr-2\" />\r\n             Filter\r\n           </button>\r\n           <button \r\n-          className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\r\n+            title=\"Record Payment\"\r\n+            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\r\n+          >\r\n             <Plus className=\"h-4 w-4 mr-2\" />\r\n             Record Payment\r\n           </button>\r\n         </div>\r\n"
                },
                {
                    "date": 1740927627564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,14 +30,16 @@\n         <h1 className=\"text-2xl font-semibold text-gray-900\">Payment Records</h1>\r\n         <div className=\"flex space-x-4\">\r\n           <button \r\n             title=\"Filter\"\r\n+            type=\"button\"\r\n             className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\">\r\n             <Filter className=\"h-4 w-4 mr-2\" />\r\n             Filter\r\n           </button>\r\n           <button \r\n             title=\"Record Payment\"\r\n+            type=\"button\"\r\n             className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\r\n           >\r\n             <Plus className=\"h-4 w-4 mr-2\" />\r\n             Record Payment\r\n"
                },
                {
                    "date": 1740927639340,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,9 +99,12 @@\n                     {payment.status.charAt(0).toUpperCase() + payment.status.slice(1)}\r\n                   </span>\r\n                 </td>\r\n                 <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                  <button className=\"text-indigo-600 hover:text-indigo-900\">\r\n+                  <button \r\n+                    title=\"View Invoice\"\r\n+                    className=\"text-indigo-600 hover:text-indigo-900\"\r\n+                  >\r\n                     <FileText className=\"h-4 w-4\" />\r\n                   </button>\r\n                 </td>\r\n               </tr>\r\n"
                },
                {
                    "date": 1740927647923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,8 +101,9 @@\n                 </td>\r\n                 <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                   <button \r\n                     title=\"View Invoice\"\r\n+                    type=\"button\"\r\n                     className=\"text-indigo-600 hover:text-indigo-900\"\r\n                   >\r\n                     <FileText className=\"h-4 w-4\" />\r\n                   </button>\r\n@@ -117,5 +118,4 @@\n };\r\n \r\n export default Payments;\r\n \r\n-export default Payments;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1740927681201,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,13 +17,13 @@\n     );\r\n   }\r\n \r\n   // Mock payment data\r\n-  const payments = [\r\n-    { id: 1, school: 'Global International School', amount: 250000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\r\n-    { id: 2, school: 'New Age Academy', amount: 180000, date: '2024-01-14', status: 'pending', method: 'check' },\r\n-    { id: 3, school: 'Future Kids School', amount: 320000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\r\n-  ];\r\n+  // const payments = [\r\n+  //   { id: 1, school: 'Global International School', amount: 250000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\r\n+  //   { id: 2, school: 'New Age Academy', amount: 180000, date: '2024-01-14', status: 'pending', method: 'check' },\r\n+  //   { id: 3, school: 'Future Kids School', amount: 320000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\r\n+  // ];\r\n \r\n   return (\r\n     <div className=\"space-y-6\">\r\n       <div className=\"flex justify-between items-center\">\r\n"
                },
                {
                    "date": 1740927701226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,9 +72,9 @@\n               </th>\r\n             </tr>\r\n           </thead>\r\n           <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {payments.map((payment) => (\r\n+            {Payments.map((payment) => (\r\n               <tr key={payment.id}>\r\n                 <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                   {payment.school}\r\n                 </td>\r\n"
                },
                {
                    "date": 1740927751038,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,13 +17,13 @@\n     );\r\n   }\r\n \r\n   // Mock payment data\r\n-  // const payments = [\r\n-  //   { id: 1, school: 'Global International School', amount: 250000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\r\n-  //   { id: 2, school: 'New Age Academy', amount: 180000, date: '2024-01-14', status: 'pending', method: 'check' },\r\n-  //   { id: 3, school: 'Future Kids School', amount: 320000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\r\n-  // ];\r\n+  const payments = [\r\n+    { id: 1, school: 'Global International School', amount: 250_000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\r\n+    { id: 2, school: 'New Age Academy', amount: 180_000, date: '2024-01-14', status: 'pending', method: 'check' },\r\n+    { id: 3, school: 'Future Kids School', amount: 320_000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\r\n+  ];\r\n \r\n   return (\r\n     <div className=\"space-y-6\">\r\n       <div className=\"flex justify-between items-center\">\r\n@@ -72,9 +72,9 @@\n               </th>\r\n             </tr>\r\n           </thead>\r\n           <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {Payments.map((payment) => (\r\n+            {payments.map((payment) => (\r\n               <tr key={payment.id}>\r\n                 <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                   {payment.school}\r\n                 </td>\r\n"
                },
                {
                    "date": 1740927816903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,13 +17,13 @@\n     );\r\n   }\r\n \r\n   // Mock payment data\r\n-  const payments = [\r\n-    { id: 1, school: 'Global International School', amount: 250_000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\r\n-    { id: 2, school: 'New Age Academy', amount: 180_000, date: '2024-01-14', status: 'pending', method: 'check' },\r\n-    { id: 3, school: 'Future Kids School', amount: 320_000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\r\n-  ];\r\n+  // const payments = [\r\n+  //   { id: 1, school: 'Global International School', amount: 250000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\r\n+  //   { id: 2, school: 'New Age Academy', amount: 180000, date: '2024-01-14', status: 'pending', method: 'check' },\r\n+  //   { id: 3, school: 'Future Kids School', amount: 320000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\r\n+  // ];\r\n \r\n   return (\r\n     <div className=\"space-y-6\">\r\n       <div className=\"flex justify-between items-center\">\r\n"
                },
                {
                    "date": 1740927872667,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,9 @@\n //import React from 'react';\r\n import { usePermissions } from '../../hooks/usePermissions';\r\n import { formatCurrency } from '../../lib/utils/format';\r\n import { Plus, FileText, Filter, CreditCard } from 'lucide-react';\r\n+import { useState, useEffect } from 'react';\r\n \r\n const Payments = () => {\r\n   const { can } = usePermissions();\r\n \r\n@@ -16,14 +17,36 @@\n       </div>\r\n     );\r\n   }\r\n \r\n-  // Mock payment data\r\n-  // const payments = [\r\n-  //   { id: 1, school: 'Global International School', amount: 250000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\r\n-  //   { id: 2, school: 'New Age Academy', amount: 180000, date: '2024-01-14', status: 'pending', method: 'check' },\r\n-  //   { id: 3, school: 'Future Kids School', amount: 320000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\r\n-  // ];\r\n+  // Fetch payments from the database\r\n+  const [payments, setPayments] = useState([\r\n+    { id: 1, school: 'Global International School', amount: 250_000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\r\n+    { id: 2, school: 'New Age Academy', amount: 180_000, date: '2024-01-14', status: 'pending', method: 'check' },\r\n+    { id: 3, school: 'Future Kids School', amount: 320_000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\r\n+  ]);\r\n+  \r\n+  const [loading, setLoading] = useState(false);\r\n+  \r\n+  useEffect(() => {\r\n+    // Example function to fetch payments from database\r\n+    const fetchPayments = async () => {\r\n+      setLoading(true);\r\n+      try {\r\n+        // Replace with actual API call\r\n+        // const response = await fetch('/api/payments');\r\n+        // const data = await response.json();\r\n+        // setPayments(data);\r\n+      } catch (error) {\r\n+        console.error('Error fetching payments:', error);\r\n+      } finally {\r\n+        setLoading(false);\r\n+      }\r\n+    };\r\n+    \r\n+    // Uncomment to enable actual API fetching\r\n+    // fetchPayments();\r\n+  }, []);\r\n \r\n   return (\r\n     <div className=\"space-y-6\">\r\n       <div className=\"flex justify-between items-center\">\r\n"
                },
                {
                    "date": 1740927890839,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,20 +5,9 @@\n import { useState, useEffect } from 'react';\r\n \r\n const Payments = () => {\r\n   const { can } = usePermissions();\r\n-\r\n-  if (!can('staff')) {\r\n-    return (\r\n-      <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n-        <h3 className=\"text-lg font-medium text-red-800\">Access Denied</h3>\r\n-        <p className=\"mt-2 text-sm text-red-600\">\r\n-          You do not have permission to access payment records.\r\n-        </p>\r\n-      </div>\r\n-    );\r\n-  }\r\n-\r\n+  \r\n   // Fetch payments from the database\r\n   const [payments, setPayments] = useState([\r\n     { id: 1, school: 'Global International School', amount: 250_000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\r\n     { id: 2, school: 'New Age Academy', amount: 180_000, date: '2024-01-14', status: 'pending', method: 'check' },\r\n@@ -46,8 +35,19 @@\n     // Uncomment to enable actual API fetching\r\n     // fetchPayments();\r\n   }, []);\r\n \r\n+  if (!can('staff')) {\r\n+    return (\r\n+      <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n+        <h3 className=\"text-lg font-medium text-red-800\">Access Denied</h3>\r\n+        <p className=\"mt-2 text-sm text-red-600\">\r\n+          You do not have permission to access payment records.\r\n+        </p>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n   return (\r\n     <div className=\"space-y-6\">\r\n       <div className=\"flex justify-between items-center\">\r\n         <h1 className=\"text-2xl font-semibold text-gray-900\">Payment Records</h1>\r\n"
                },
                {
                    "date": 1740927955626,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,144 +1,121 @@\n-//import React from 'react';\r\n-import { usePermissions } from '../../hooks/usePermissions';\r\n-import { formatCurrency } from '../../lib/utils/format';\r\n-import { Plus, FileText, Filter, CreditCard } from 'lucide-react';\r\n-import { useState, useEffect } from 'react';\r\n-\r\n-const Payments = () => {\r\n-  const { can } = usePermissions();\r\n-  \r\n-  // Fetch payments from the database\r\n-  const [payments, setPayments] = useState([\r\n-    { id: 1, school: 'Global International School', amount: 250_000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\r\n-    { id: 2, school: 'New Age Academy', amount: 180_000, date: '2024-01-14', status: 'pending', method: 'check' },\r\n-    { id: 3, school: 'Future Kids School', amount: 320_000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\r\n-  ]);\r\n-  \r\n-  const [loading, setLoading] = useState(false);\r\n-  \r\n-  useEffect(() => {\r\n-    // Example function to fetch payments from database\r\n-    const fetchPayments = async () => {\r\n-      setLoading(true);\r\n-      try {\r\n-        // Replace with actual API call\r\n-        // const response = await fetch('/api/payments');\r\n-        // const data = await response.json();\r\n-        // setPayments(data);\r\n-      } catch (error) {\r\n-        console.error('Error fetching payments:', error);\r\n-      } finally {\r\n-        setLoading(false);\r\n-      }\r\n-    };\r\n-    \r\n-    // Uncomment to enable actual API fetching\r\n-    // fetchPayments();\r\n-  }, []);\r\n-\r\n-  if (!can('staff')) {\r\n-    return (\r\n-      <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n-        <h3 className=\"text-lg font-medium text-red-800\">Access Denied</h3>\r\n-        <p className=\"mt-2 text-sm text-red-600\">\r\n-          You do not have permission to access payment records.\r\n-        </p>\r\n-      </div>\r\n-    );\r\n-  }\r\n-\r\n-  return (\r\n-    <div className=\"space-y-6\">\r\n-      <div className=\"flex justify-between items-center\">\r\n-        <h1 className=\"text-2xl font-semibold text-gray-900\">Payment Records</h1>\r\n-        <div className=\"flex space-x-4\">\r\n-          <button \r\n-            title=\"Filter\"\r\n-            type=\"button\"\r\n-            className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\">\r\n-            <Filter className=\"h-4 w-4 mr-2\" />\r\n-            Filter\r\n-          </button>\r\n-          <button \r\n-            title=\"Record Payment\"\r\n-            type=\"button\"\r\n-            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\r\n-          >\r\n-            <Plus className=\"h-4 w-4 mr-2\" />\r\n-            Record Payment\r\n-          </button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Payments List */}\r\n-      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\r\n-        <table className=\"min-w-full divide-y divide-gray-200\">\r\n-          <thead>\r\n-            <tr>\r\n-              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                School\r\n-              </th>\r\n-              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Amount\r\n-              </th>\r\n-              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Date\r\n-              </th>\r\n-              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Method\r\n-              </th>\r\n-              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Status\r\n-              </th>\r\n-              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n-                Actions\r\n-              </th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n-            {payments.map((payment) => (\r\n-              <tr key={payment.id}>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n-                  {payment.school}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                  {formatCurrency(payment.amount)}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                  {new Date(payment.date).toLocaleDateString()}\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                  <span className=\"inline-flex items-center\">\r\n-                    <CreditCard className=\"h-4 w-4 mr-1\" />\r\n-                    {payment.method.replace('_', ' ').charAt(0).toUpperCase() + payment.method.slice(1)}\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n-                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n-                    payment.status === 'completed' \r\n-                      ? 'bg-green-100 text-green-800'\r\n-                      : 'bg-yellow-100 text-yellow-800'\r\n-                  }`}>\r\n-                    {payment.status.charAt(0).toUpperCase() + payment.status.slice(1)}\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n-                  <button \r\n-                    title=\"View Invoice\"\r\n-                    type=\"button\"\r\n-                    className=\"text-indigo-600 hover:text-indigo-900\"\r\n-                  >\r\n-                    <FileText className=\"h-4 w-4\" />\r\n-                  </button>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Payments;\r\n-\r\n+//import React from 'react';\n+import { usePermissions } from '../../hooks/usePermissions';\n+import { formatCurrency } from '../../lib/utils/format';\n+import { Plus, FileText, Filter, CreditCard } from 'lucide-react';\n+\n+const Payments = () => {\n+  const { can } = usePermissions();\n+\n+  if (!can('staff')) {\n+    return (\n+      <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n+        <h3 className=\"text-lg font-medium text-red-800\">Access Denied</h3>\n+        <p className=\"mt-2 text-sm text-red-600\">\n+          You do not have permission to access payment records.\n+        </p>\n+      </div>\n+    );\n+  }\n+\n+  // Mock payment data\n+  // const payments = [\n+  //   { id: 1, school: 'Global International School', amount: 250000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\n+  //   { id: 2, school: 'New Age Academy', amount: 180000, date: '2024-01-14', status: 'pending', method: 'check' },\n+  //   { id: 3, school: 'Future Kids School', amount: 320000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\n+  // ];\n+\n+  return (\n+    <div className=\"space-y-6\">\n+      <div className=\"flex justify-between items-center\">\n+        <h1 className=\"text-2xl font-semibold text-gray-900\">Payment Records</h1>\n+        <div className=\"flex space-x-4\">\n+          <button \n+            title=\"Filter\"\n+            type=\"button\"\n+            className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\">\n+            <Filter className=\"h-4 w-4 mr-2\" />\n+            Filter\n+          </button>\n+          <button \n+            title=\"Record Payment\"\n+            type=\"button\"\n+            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\n+          >\n+            <Plus className=\"h-4 w-4 mr-2\" />\n+            Record Payment\n+          </button>\n+        </div>\n+      </div>\n+\n+      {/* Payments List */}\n+      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n+        <table className=\"min-w-full divide-y divide-gray-200\">\n+          <thead>\n+            <tr>\n+              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n+                School\n+              </th>\n+              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n+                Amount\n+              </th>\n+              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n+                Date\n+              </th>\n+              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n+                Method\n+              </th>\n+              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n+                Status\n+              </th>\n+              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n+                Actions\n+              </th>\n+            </tr>\n+          </thead>\n+          <tbody className=\"bg-white divide-y divide-gray-200\">\n+            {payments.map((payment) => (\n+              <tr key={payment.id}>\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n+                  {payment.school}\n+                </td>\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n+                  {formatCurrency(payment.amount)}\n+                </td>\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n+                  {new Date(payment.date).toLocaleDateString()}\n+                </td>\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n+                  <span className=\"inline-flex items-center\">\n+                    <CreditCard className=\"h-4 w-4 mr-1\" />\n+                    {payment.method.replace('_', ' ').charAt(0).toUpperCase() + payment.method.slice(1)}\n+                  </span>\n+                </td>\n+                <td className=\"px-6 py-4 whitespace-nowrap\">\n+                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n+                    payment.status === 'completed' \n+                      ? 'bg-green-100 text-green-800'\n+                      : 'bg-yellow-100 text-yellow-800'\n+                  }`}>\n+                    {payment.status.charAt(0).toUpperCase() + payment.status.slice(1)}\n+                  </span>\n+                </td>\n+                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n+                  <button \n+                    title=\"View Invoice\"\n+                    type=\"button\"\n+                    className=\"text-indigo-600 hover:text-indigo-900\"\n+                  >\n+                    <FileText className=\"h-4 w-4\" />\n+                  </button>\n+                </td>\n+              </tr>\n+            ))}\n+          </tbody>\n+        </table>\n+      </div>\n+    </div>\n+  );\n+};\n+\n+export default Payments;\n+\n"
                },
                {
                    "date": 1740927987672,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,54 @@\n //import React from 'react';\n import { usePermissions } from '../../hooks/usePermissions';\n import { formatCurrency } from '../../lib/utils/format';\n import { Plus, FileText, Filter, CreditCard } from 'lucide-react';\n+import { useQuery } from '@tanstack/react-query';\n+import { supabase } from '../../lib/supabase';\n+import { useState } from 'react';\n \n+interface Payment {\n+  id: number;\n+  school: string;\n+  amount: number;\n+  date: string;\n+  status: 'completed' | 'pending' | 'failed';\n+  method: string;\n+}\n+\n const Payments = () => {\n   const { can } = usePermissions();\n+  const [isLoading, setIsLoading] = useState(false);\n \n+  // Fetch payments from database\n+  const { data: payments = [], isError } = useQuery<Payment[]>({\n+    queryKey: ['payments'],\n+    queryFn: async () => {\n+      setIsLoading(true);\n+      try {\n+        const { data, error } = await supabase\n+          .from('payments')\n+          .select('*')\n+          .order('date', { ascending: false });\n+\n+        if (error) throw error;\n+        return data || [];\n+      } finally {\n+        setIsLoading(false);\n+      }\n+    }\n+  });\n+  \n+  // Fallback data for development or when DB is empty\n+  const fallbackPayments: Payment[] = [\n+    { id: 1, school: 'Global International School', amount: 250_000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\n+    { id: 2, school: 'New Age Academy', amount: 180_000, date: '2024-01-14', status: 'pending', method: 'check' },\n+    { id: 3, school: 'Future Kids School', amount: 320_000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\n+  ];\n+  \n+  // Use fallback data if no payments or error\n+  const displayPayments = payments.length > 0 ? payments : fallbackPayments;\n+\n   if (!can('staff')) {\n     return (\n       <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n         <h3 className=\"text-lg font-medium text-red-800\">Access Denied</h3>\n@@ -16,15 +58,8 @@\n       </div>\n     );\n   }\n \n-  // Mock payment data\n-  // const payments = [\n-  //   { id: 1, school: 'Global International School', amount: 250000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\n-  //   { id: 2, school: 'New Age Academy', amount: 180000, date: '2024-01-14', status: 'pending', method: 'check' },\n-  //   { id: 3, school: 'Future Kids School', amount: 320000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\n-  // ];\n-\n   return (\n     <div className=\"space-y-6\">\n       <div className=\"flex justify-between items-center\">\n         <h1 className=\"text-2xl font-semibold text-gray-900\">Payment Records</h1>\n@@ -72,9 +107,9 @@\n               </th>\n             </tr>\n           </thead>\n           <tbody className=\"bg-white divide-y divide-gray-200\">\n-            {payments.map((payment) => (\n+            {displayPayments.map((payment) => (\n               <tr key={payment.id}>\n                 <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                   {payment.school}\n                 </td>\n"
                },
                {
                    "date": 1740928027589,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,71 +83,91 @@\n       </div>\n \n       {/* Payments List */}\n       <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n-        <table className=\"min-w-full divide-y divide-gray-200\">\n-          <thead>\n-            <tr>\n-              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n-                School\n-              </th>\n-              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n-                Amount\n-              </th>\n-              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n-                Date\n-              </th>\n-              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n-                Method\n-              </th>\n-              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n-                Status\n-              </th>\n-              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n-                Actions\n-              </th>\n-            </tr>\n-          </thead>\n-          <tbody className=\"bg-white divide-y divide-gray-200\">\n-            {displayPayments.map((payment) => (\n-              <tr key={payment.id}>\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n-                  {payment.school}\n-                </td>\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n-                  {formatCurrency(payment.amount)}\n-                </td>\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n-                  {new Date(payment.date).toLocaleDateString()}\n-                </td>\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n-                  <span className=\"inline-flex items-center\">\n-                    <CreditCard className=\"h-4 w-4 mr-1\" />\n-                    {payment.method.replace('_', ' ').charAt(0).toUpperCase() + payment.method.slice(1)}\n-                  </span>\n-                </td>\n-                <td className=\"px-6 py-4 whitespace-nowrap\">\n-                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n-                    payment.status === 'completed' \n-                      ? 'bg-green-100 text-green-800'\n-                      : 'bg-yellow-100 text-yellow-800'\n-                  }`}>\n-                    {payment.status.charAt(0).toUpperCase() + payment.status.slice(1)}\n-                  </span>\n-                </td>\n-                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n-                  <button \n-                    title=\"View Invoice\"\n-                    type=\"button\"\n-                    className=\"text-indigo-600 hover:text-indigo-900\"\n-                  >\n-                    <FileText className=\"h-4 w-4\" />\n-                  </button>\n-                </td>\n+        {isLoading ? (\n+          <div className=\"flex items-center justify-center p-8\">\n+            <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600\"></div>\n+          </div>\n+        ) : isError ? (\n+          <div className=\"p-4 bg-red-50 text-center\">\n+            <p className=\"text-red-600\">Failed to load payment data. Please try again later.</p>\n+          </div>\n+        ) : (\n+          <table className=\"min-w-full divide-y divide-gray-200\">\n+            <thead>\n+              <tr>\n+                <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n+                  School\n+                </th>\n+                <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n+                  Amount\n+                </th>\n+                <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n+                  Date\n+                </th>\n+                <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n+                  Method\n+                </th>\n+                <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n+                  Status\n+                </th>\n+                <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n+                  Actions\n+                </th>\n               </tr>\n-            ))}\n-          </tbody>\n-        </table>\n+            </thead>\n+            <tbody className=\"bg-white divide-y divide-gray-200\">\n+              {displayPayments.length === 0 ? (\n+                <tr>\n+                  <td colSpan={6} className=\"px-6 py-4 text-center text-gray-500\">\n+                    No payment records found\n+                  </td>\n+                </tr>\n+              ) : (\n+                displayPayments.map((payment) => (\n+                  <tr key={payment.id}>\n+                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n+                      {payment.school}\n+                    </td>\n+                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n+                      {formatCurrency(payment.amount)}\n+                    </td>\n+                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n+                      {new Date(payment.date).toLocaleDateString()}\n+                    </td>\n+                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n+                      <span className=\"inline-flex items-center\">\n+                        <CreditCard className=\"h-4 w-4 mr-1\" />\n+                        {payment.method.replace('_', ' ').charAt(0).toUpperCase() + payment.method.slice(1)}\n+                      </span>\n+                    </td>\n+                    <td className=\"px-6 py-4 whitespace-nowrap\">\n+                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n+                        payment.status === 'completed' \n+                          ? 'bg-green-100 text-green-800'\n+                          : payment.status === 'pending'\n+                            ? 'bg-yellow-100 text-yellow-800'\n+                            : 'bg-red-100 text-red-800'\n+                      }`}>\n+                        {payment.status.charAt(0).toUpperCase() + payment.status.slice(1)}\n+                      </span>\n+                    </td>\n+                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n+                      <button \n+                        title=\"View Invoice\"\n+                        type=\"button\"\n+                        className=\"text-indigo-600 hover:text-indigo-900\"\n+                      >\n+                        <FileText className=\"h-4 w-4\" />\n+                      </button>\n+                    </td>\n+                  </tr>\n+                ))\n+              )}\n+            </tbody>\n+          </table>\n+        )}\n       </div>\n     </div>\n   );\n };\n"
                },
                {
                    "date": 1740928043603,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,12 @@\n //import React from 'react';\n import { usePermissions } from '../../hooks/usePermissions';\n import { formatCurrency } from '../../lib/utils/format';\n import { Plus, FileText, Filter, CreditCard } from 'lucide-react';\n-import { useQuery } from '@tanstack/react-query';\n+import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\n import { supabase } from '../../lib/supabase';\n import { useState } from 'react';\n+import { useToast } from '../../hooks/useToast';\n \n interface Payment {\n   id: number;\n   school: string;\n@@ -17,8 +18,11 @@\n \n const Payments = () => {\n   const { can } = usePermissions();\n   const [isLoading, setIsLoading] = useState(false);\n+  const [isPaymentModalOpen, setIsPaymentModalOpen] = useState(false);\n+  const queryClient = useQueryClient();\n+  const { showToast } = useToast();\n \n   // Fetch payments from database\n   const { data: payments = [], isError } = useQuery<Payment[]>({\n     queryKey: ['payments'],\n@@ -47,8 +51,10 @@\n   \n   // Use fallback data if no payments or error\n   const displayPayments = payments.length > 0 ? payments : fallbackPayments;\n \n+  // Create payment mutation\n+  const createPayment = useMutation({\n   if (!can('staff')) {\n     return (\n       <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n         <h3 className=\"text-lg font-medium text-red-800\">Access Denied</h3>\n"
                },
                {
                    "date": 1740928064042,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,8 +53,41 @@\n   const displayPayments = payments.length > 0 ? payments : fallbackPayments;\n \n   // Create payment mutation\n   const createPayment = useMutation({\n+    mutationFn: async (newPayment: Omit<Payment, 'id'>) => {\n+      const { data, error } = await supabase\n+        .from('payments')\n+        .insert(newPayment)\n+        .select()\n+        .single();\n+      \n+      if (error) throw error;\n+      return data;\n+    },\n+    onSuccess: () => {\n+      queryClient.invalidateQueries({ queryKey: ['payments'] });\n+      showToast('Payment recorded successfully', { type: 'success' });\n+      setIsPaymentModalOpen(false);\n+    },\n+    onError: (error) => {\n+      console.error('Failed to create payment:', error);\n+      showToast('Failed to record payment', { type: 'error' });\n+    }\n+  });\n+\n+  const handleCreatePayment = (formData: FormData) => {\n+    const newPayment = {\n+      school: formData.get('school') as string,\n+      amount: Number(formData.get('amount')),\n+      date: new Date().toISOString().split('T')[0],\n+      status: formData.get('status') as 'completed' | 'pending' | 'failed',\n+      method: formData.get('method') as string\n+    };\n+\n+    createPayment.mutate(newPayment);\n+  };\n+\n   if (!can('staff')) {\n     return (\n       <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n         <h3 className=\"text-lg font-medium text-red-800\">Access Denied</h3>\n"
                },
                {
                    "date": 1740928082168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -112,8 +112,9 @@\n           </button>\n           <button \n             title=\"Record Payment\"\n             type=\"button\"\n+            onClick={() => setIsPaymentModalOpen(true)}\n             className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\n           >\n             <Plus className=\"h-4 w-4 mr-2\" />\n             Record Payment\n"
                },
                {
                    "date": 1740928900680,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -207,8 +207,97 @@\n             </tbody>\n           </table>\n         )}\n       </div>\n+      \n+      {/* Payment Modal */}\n+      {isPaymentModalOpen && (\n+        <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50\">\n+          <div className=\"bg-white rounded-lg max-w-md w-full p-6\">\n+            <h3 className=\"text-lg font-medium mb-4\">Record New Payment</h3>\n+            <form\n+              onSubmit={(e) => {\n+                e.preventDefault();\n+                handleCreatePayment(new FormData(e.currentTarget));\n+              }}\n+            >\n+              <div className=\"space-y-4\">\n+                <div>\n+                  <label htmlFor=\"school\" className=\"block text-sm font-medium text-gray-700\">\n+                    School\n+                  </label>\n+                  <input\n+                    type=\"text\"\n+                    id=\"school\"\n+                    name=\"school\"\n+                    className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n+                    required\n+                  />\n+                </div>\n+                <div>\n+                  <label htmlFor=\"amount\" className=\"block text-sm font-medium text-gray-700\">\n+                    Amount\n+                  </label>\n+                  <input\n+                    type=\"number\"\n+                    id=\"amount\"\n+                    name=\"amount\"\n+                    className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n+                    required\n+                  />\n+                </div>\n+                <div>\n+                  <label htmlFor=\"method\" className=\"block text-sm font-medium text-gray-700\">\n+                    Payment Method\n+                  </label>\n+                  <select\n+                    id=\"method\"\n+                    name=\"method\"\n+                    className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n+                    required\n+                  >\n+                    <option value=\"bank_transfer\">Bank Transfer</option>\n+                    <option value=\"check\">Check</option>\n+                    <option value=\"cash\">Cash</option>\n+                    <option value=\"credit_card\">Credit Card</option>\n+                  </select>\n+                </div>\n+                <div>\n+                  <label htmlFor=\"status\" className=\"block text-sm font-medium text-gray-700\">\n+                    Status\n+                  </label>\n+                  <select\n+                    id=\"status\"\n+                    name=\"status\"\n+                    className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n+                    required\n+                  >\n+                    <option value=\"completed\">Completed</option>\n+                    <option value=\"pending\">Pending</option>\n+                    <option value=\"failed\">Failed</option>\n+                  </select>\n+                </div>\n+              </div>\n+              <div className=\"mt-6 flex justify-end space-x-3\">\n+                <button\n+                  type=\"button\"\n+                  className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50\"\n+                  onClick={() => setIsPaymentModalOpen(false)}\n+                >\n+                  Cancel\n+                </button>\n+                <button\n+                  type=\"submit\"\n+                  className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\n+                  disabled={createPayment.isPending}\n+                >\n+                  {createPayment.isPending ? 'Saving...' : 'Save Payment'}\n+                </button>\n+              </div>\n+            </form>\n+          </div>\n+        </div>\n+      )}\n     </div>\n   );\n };\n \n"
                }
            ],
            "date": 1740927548105,
            "name": "Commit-0",
            "content": "import React from 'react';\r\nimport { usePermissions } from '../../hooks/usePermissions';\r\nimport { formatCurrency } from '../../lib/utils/format';\r\nimport { Plus, FileText, Filter, CreditCard } from 'lucide-react';\r\n\r\nconst Payments = () => {\r\n  const { can } = usePermissions();\r\n\r\n  if (!can('staff')) {\r\n    return (\r\n      <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n        <h3 className=\"text-lg font-medium text-red-800\">Access Denied</h3>\r\n        <p className=\"mt-2 text-sm text-red-600\">\r\n          You do not have permission to access payment records.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Mock payment data\r\n  const payments = [\r\n    { id: 1, school: 'Global International School', amount: 250000, date: '2024-01-15', status: 'completed', method: 'bank_transfer' },\r\n    { id: 2, school: 'New Age Academy', amount: 180000, date: '2024-01-14', status: 'pending', method: 'check' },\r\n    { id: 3, school: 'Future Kids School', amount: 320000, date: '2024-01-13', status: 'completed', method: 'bank_transfer' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Payment Records</h1>\r\n        <div className=\"flex space-x-4\">\r\n          <button className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\">\r\n            <Filter className=\"h-4 w-4 mr-2\" />\r\n            Filter\r\n          </button>\r\n          <button className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\">\r\n            <Plus className=\"h-4 w-4 mr-2\" />\r\n            Record Payment\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Payments List */}\r\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\r\n        <table className=\"min-w-full divide-y divide-gray-200\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                School\r\n              </th>\r\n              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Amount\r\n              </th>\r\n              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Date\r\n              </th>\r\n              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Method\r\n              </th>\r\n              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Status\r\n              </th>\r\n              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Actions\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n            {payments.map((payment) => (\r\n              <tr key={payment.id}>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                  {payment.school}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {formatCurrency(payment.amount)}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {new Date(payment.date).toLocaleDateString()}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  <span className=\"inline-flex items-center\">\r\n                    <CreditCard className=\"h-4 w-4 mr-1\" />\r\n                    {payment.method.replace('_', ' ').charAt(0).toUpperCase() + payment.method.slice(1)}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                    payment.status === 'completed' \r\n                      ? 'bg-green-100 text-green-800'\r\n                      : 'bg-yellow-100 text-yellow-800'\r\n                  }`}>\r\n                    {payment.status.charAt(0).toUpperCase() + payment.status.slice(1)}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  <button className=\"text-indigo-600 hover:text-indigo-900\">\r\n                    <FileText className=\"h-4 w-4\" />\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payments;"
        }
    ]
}