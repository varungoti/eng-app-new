{
    "sourceFile": "src/pages/Settings.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1739012836048,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1739014930548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,289 +1,206 @@\n-import React, { useState } from 'react';\r\n-import { Settings as SettingsIcon, Shield, Bell, Globe, Clock, LayoutDashboard, Mic2, Volume2 } from 'lucide-react';\r\n-import RoleManagement from '../components/RoleManagement';\r\n-import DashboardCustomization from '../components/DashboardCustomization';\r\n-import { VoiceManagement } from '../components/admin/VoiceManagement';\r\n-import { VoiceTesting } from '@/components/admin/VoiceTesting';\r\n-import {\r\n-  Accordion,\r\n-  AccordionContent,\r\n-  AccordionItem,\r\n-  AccordionTrigger,\r\n-} from '../components/ui/accordion';\r\n-import { useUser } from '../hooks/useUser';\r\n-\r\n-const Settings = () => {\r\n-  const { user } = useUser();\r\n-  const [settings, setSettings] = useState({\r\n-    notifications: true,\r\n-    emailReports: false,\r\n-    language: 'en',\r\n-    timezone: 'UTC',\r\n-  });\r\n-\r\n-  const [isDashboardCustomizationOpen, setIsDashboardCustomizationOpen] = useState(false);\r\n-\r\n-  const handleSettingChange = (setting: string, value: any) => {\r\n-    setSettings((prev) => ({ ...prev, [setting]: value }));\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-7xl mx-auto\">\r\n-      <div className=\"flex items-center justify-between mb-6\">\r\n-        <div>\r\n-          <h1 className=\"text-2xl font-semibold text-gray-900\">Settings</h1>\r\n-          <p className=\"mt-1 text-sm text-gray-500\">\r\n-            Manage your application settings and preferences\r\n-          </p>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"space-y-6\">\r\n-        {/* Role Management */}\r\n-        <section aria-labelledby=\"role-management\">\r\n-          <RoleManagement />\r\n-        </section>\r\n-\r\n-        {/* Voice Management */}\r\n-        <section aria-labelledby=\"voice-management\">\r\n-          <Accordion type=\"single\" collapsible>\r\n-            <AccordionItem value=\"voice-settings\">\r\n-              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\r\n-                <div className=\"flex items-center\">\r\n-                  <Mic2 className=\"h-6 w-6 text-indigo-600 mr-3\" />\r\n-                  <div>\r\n-                    <h3 className=\"text-lg font-medium text-gray-900\">\r\n-                      Voice Management\r\n-                    </h3>\r\n-                    <p className=\"text-sm text-gray-500\">\r\n-                      Manage text-to-speech voices and settings\r\n-                    </p>\r\n-                  </div>\r\n-                </div>\r\n-              </AccordionTrigger>\r\n-              <AccordionContent>\r\n-                <div className=\"px-4 py-5 bg-white space-y-4\">\r\n-                  {user?.schoolId ? (\r\n-                    <VoiceManagement \r\n-                      schoolId={user.schoolId} \r\n-                      userRole={user.role as 'SCHOOL_LEADER' | 'SCHOOL_PRINCIPAL'} \r\n-                    />\r\n-                  ) : (\r\n-                    <p className=\"text-sm text-gray-500\">\r\n-                      You need to be associated with a school to manage voices.\r\n-                    </p>\r\n-                  )}\r\n-                </div>\r\n-              </AccordionContent>\r\n-            </AccordionItem>\r\n-\r\n-            <AccordionItem value=\"voice-testing\" className=\"mt-6\">\r\n-              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\r\n-                <div className=\"flex items-center\">\r\n-                  <Volume2 className=\"h-6 w-6 text-indigo-600 mr-3\" />\r\n-                  <div>\r\n-                    <h3 className=\"text-lg font-medium text-gray-900\">\r\n-                      Voice Testing\r\n-                    </h3>\r\n-                    <p className=\"text-sm text-gray-500\">\r\n-                      Test and preview available voices\r\n-                    </p>\r\n-                  </div>\r\n-                </div>\r\n-              </AccordionTrigger>\r\n-              <AccordionContent>\r\n-                <div className=\"px-4 py-5 bg-white space-y-4\">\r\n-                  {user?.schoolId ? (\r\n-                    <VoiceTesting schoolId={user.schoolId} />\r\n-                  ) : (\r\n-                    <p className=\"text-sm text-gray-500\">\r\n-                      You need to be associated with a school to test voices.\r\n-                    </p>\r\n-                  )}\r\n-                </div>\r\n-              </AccordionContent>\r\n-            </AccordionItem>\r\n-          </Accordion>\r\n-        </section>\r\n-\r\n-        {/* Dashboard Customization */}\r\n-        <section aria-labelledby=\"dashboard-customization\">\r\n-          <div className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\r\n-            <div className=\"flex items-center justify-between\">\r\n-              <div className=\"flex items-center\">\r\n-                <LayoutDashboard className=\"h-6 w-6 text-indigo-600 mr-3\" />\r\n-                <div>\r\n-                  <h3 className=\"text-lg font-medium text-gray-900\">\r\n-                    Dashboard Customization\r\n-                  </h3>\r\n-                  <p className=\"text-sm text-gray-500\">\r\n-                    Customize your dashboard layout and widgets\r\n-                  </p>\r\n-                </div>\r\n-              </div>\r\n-              <button\r\n-                onClick={() => setIsDashboardCustomizationOpen(true)}\r\n-                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700\"\r\n-              >\r\n-                Customize Dashboard\r\n-              </button>\r\n-            </div>\r\n-          </div>\r\n-        </section>\r\n-\r\n-        {/* Notifications */}\r\n-        <section aria-labelledby=\"notifications-settings\">\r\n-          <Accordion type=\"single\" collapsible>\r\n-            <AccordionItem value=\"notifications\">\r\n-              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\r\n-                <div className=\"flex items-center\">\r\n-                  <Bell className=\"h-6 w-6 text-indigo-600 mr-3\" />\r\n-                  <div>\r\n-                    <h3 className=\"text-lg font-medium text-gray-900\">\r\n-                      Notifications\r\n-                    </h3>\r\n-                    <p className=\"text-sm text-gray-500\">\r\n-                      Manage your notification preferences\r\n-                    </p>\r\n-                  </div>\r\n-                </div>\r\n-              </AccordionTrigger>\r\n-              <AccordionContent>\r\n-                <div className=\"px-4 py-5 bg-white space-y-4\">\r\n-                  <div className=\"flex items-center justify-between\">\r\n-                    <div>\r\n-                      <h4 className=\"text-sm font-medium text-gray-900\">\r\n-                        Push Notifications\r\n-                      </h4>\r\n-                      <p className=\"text-sm text-gray-500\">\r\n-                        Receive real-time updates\r\n-                      </p>\r\n-                    </div>\r\n-                    <label className=\"relative inline-flex items-center cursor-pointer\">\r\n-                      <input\r\n-                        type=\"checkbox\"\r\n-                        checked={settings.notifications}\r\n-                        onChange={(e) =>\r\n-                          handleSettingChange('notifications', e.target.checked)\r\n-                        }\r\n-                        className=\"sr-only peer\"\r\n-                        aria-label=\"Enable push notifications\"\r\n-                      />\r\n-                      <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n-                    </label>\r\n-                  </div>\r\n-                  <div className=\"flex items-center justify-between\">\r\n-                    <div>\r\n-                      <h4 className=\"text-sm font-medium text-gray-900\">\r\n-                        Email Reports\r\n-                      </h4>\r\n-                      <p className=\"text-sm text-gray-500\">\r\n-                        Receive weekly summary reports\r\n-                      </p>\r\n-                    </div>\r\n-                    <label className=\"relative inline-flex items-center cursor-pointer\">\r\n-                      <input\r\n-                        type=\"checkbox\"\r\n-                        checked={settings.emailReports}\r\n-                        onChange={(e) =>\r\n-                          handleSettingChange('emailReports', e.target.checked)\r\n-                        }\r\n-                        className=\"sr-only peer\"\r\n-                        aria-label=\"Enable email reports\"\r\n-                      />\r\n-                      <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n-                    </label>\r\n-                  </div>\r\n-                </div>\r\n-              </AccordionContent>\r\n-            </AccordionItem>\r\n-          </Accordion>\r\n-        </section>\r\n-\r\n-        {/* Other Settings */}\r\n-        <section aria-labelledby=\"general-settings\">\r\n-          <Accordion type=\"single\" collapsible>\r\n-            <AccordionItem value=\"localization\" className=\"mt-6\">\r\n-              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\r\n-                <div className=\"flex items-center\">\r\n-                  <Globe className=\"h-6 w-6 text-indigo-600 mr-3\" />\r\n-                  <div>\r\n-                    <h3 className=\"text-lg font-medium text-gray-900\">\r\n-                      Localization\r\n-                    </h3>\r\n-                    <p className=\"text-sm text-gray-500\">\r\n-                      Language and regional settings\r\n-                    </p>\r\n-                  </div>\r\n-                </div>\r\n-              </AccordionTrigger>\r\n-              <AccordionContent>\r\n-                <div className=\"px-4 py-5 bg-white space-y-4\">\r\n-                  <div>\r\n-                    <label className=\"block text-sm font-medium text-gray-700\">\r\n-                      Language\r\n-                    </label>\r\n-                    <select\r\n-                      id=\"language-select\"\r\n-                      value={settings.language}\r\n-                      onChange={(e) => handleSettingChange('language', e.target.value)}\r\n-                      className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\r\n-                      aria-label=\"Select language\"\r\n-                    >\r\n-                      <option value=\"en\">English</option>\r\n-                      <option value=\"es\">Spanish</option>\r\n-                      <option value=\"fr\">French</option>\r\n-                    </select>\r\n-                  </div>\r\n-                </div>\r\n-              </AccordionContent>\r\n-            </AccordionItem>\r\n-\r\n-            <AccordionItem value=\"timezone\" className=\"mt-6\">\r\n-              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\r\n-                <div className=\"flex items-center\">\r\n-                  <Clock className=\"h-6 w-6 text-indigo-600 mr-3\" />\r\n-                  <div>\r\n-                    <h3 className=\"text-lg font-medium text-gray-900\">\r\n-                      Time Zone\r\n-                    </h3>\r\n-                    <p className=\"text-sm text-gray-500\">\r\n-                      Configure your time zone settings\r\n-                    </p>\r\n-                  </div>\r\n-                </div>\r\n-              </AccordionTrigger>\r\n-              <AccordionContent>\r\n-                <div className=\"px-4 py-5 bg-white space-y-4\">\r\n-                  <div>\r\n-                    <label className=\"block text-sm font-medium text-gray-700\">\r\n-                      Time Zone\r\n-                    </label>\r\n-                    <select\r\n-                      id=\"timezone-select\"\r\n-                      value={settings.timezone}\r\n-                      onChange={(e) => handleSettingChange('timezone', e.target.value)}\r\n-                      className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\r\n-                      aria-label=\"Select timezone\"\r\n-                    >\r\n-                      <option value=\"UTC\">UTC</option>\r\n-                      <option value=\"EST\">Eastern Time</option>\r\n-                      <option value=\"CST\">Central Time</option>\r\n-                      <option value=\"PST\">Pacific Time</option>\r\n-                    </select>\r\n-                  </div>\r\n-                </div>\r\n-              </AccordionContent>\r\n-            </AccordionItem>\r\n-          </Accordion>\r\n-        </section>\r\n-      </div>\r\n-      \r\n-      {isDashboardCustomizationOpen && (\r\n-        <DashboardCustomization onClose={() => setIsDashboardCustomizationOpen(false)} />\r\n-      )}\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n+import React, { useState } from 'react';\n+import { Settings as SettingsIcon, Shield, Bell, Globe, Clock, LayoutDashboard } from 'lucide-react';\n+import RoleManagement from '../components/RoleManagement';\n+import DashboardCustomization from '../components/DashboardCustomization';\n+import {\n+  Accordion,\n+  AccordionContent,\n+  AccordionItem,\n+  AccordionTrigger,\n+} from '../components/ui/accordion';\n+\n+const Settings = () => {\n+  const [settings, setSettings] = useState({\n+    notifications: true,\n+    emailReports: false,\n+    language: 'en',\n+    timezone: 'UTC',\n+  });\n+\n+  const [isDashboardCustomizationOpen, setIsDashboardCustomizationOpen] = useState(false);\n+\n+  const handleSettingChange = (setting: string, value: any) => {\n+    setSettings((prev) => ({ ...prev, [setting]: value }));\n+  };\n+\n+  return (\n+    <div className=\"max-w-7xl mx-auto\">\n+      <div className=\"flex items-center justify-between mb-6\">\n+        <div>\n+          <h1 className=\"text-2xl font-semibold text-gray-900\">Settings</h1>\n+          <p className=\"mt-1 text-sm text-gray-500\">\n+            Manage your application settings and preferences\n+          </p>\n+        </div>\n+      </div>\n+\n+      <div className=\"space-y-6\">\n+        {/* Role Management */}\n+        <section aria-labelledby=\"role-management\">\n+          <RoleManagement />\n+        </section>\n+\n+        {/* Dashboard Customization */}\n+        <section aria-labelledby=\"dashboard-customization\">\n+          <div className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n+            <div className=\"flex items-center justify-between\">\n+              <div className=\"flex items-center\">\n+                <LayoutDashboard className=\"h-6 w-6 text-indigo-600 mr-3\" />\n+                <div>\n+                  <h3 className=\"text-lg font-medium text-gray-900\">\n+                    Dashboard Customization\n+                  </h3>\n+                  <p className=\"text-sm text-gray-500\">\n+                    Customize your dashboard layout and widgets\n+                  </p>\n+                </div>\n+              </div>\n+              <button\n+                onClick={() => setIsDashboardCustomizationOpen(true)}\n+                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700\"\n+              >\n+                Customize Dashboard\n+              </button>\n+            </div>\n+          </div>\n+        </section>\n+\n+        {/* Other Settings */}\n+        <section aria-labelledby=\"general-settings\">\n+          <Accordion type=\"single\" collapsible>\n+            <AccordionItem value=\"notifications\">\n+              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n+                <div className=\"flex items-center\">\n+                  <Bell className=\"h-6 w-6 text-indigo-600 mr-3\" />\n+                  <div>\n+                    <h3 className=\"text-lg font-medium text-gray-900\">\n+                      Notifications\n+                    </h3>\n+                    <p className=\"text-sm text-gray-500\">\n+                      Manage your notification preferences\n+                    </p>\n+                  </div>\n+                </div>\n+              </AccordionTrigger>\n+              <AccordionContent>\n+                <div className=\"px-4 py-5 bg-white space-y-4\">\n+                  <div className=\"flex items-center justify-between\">\n+                    <div>\n+                      <h4 className=\"text-sm font-medium text-gray-900\">\n+                        Push Notifications\n+                      </h4>\n+                      <p className=\"text-sm text-gray-500\">\n+                        Receive real-time updates\n+                      </p>\n+                    </div>\n+                    <input\n+                      type=\"checkbox\"\n+                      checked={settings.notifications}\n+                      onChange={(e) =>\n+                        handleSettingChange('notifications', e.target.checked)\n+                      }\n+                      className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n+                    />\n+                  </div>\n+                  <div className=\"flex items-center justify-between\">\n+                    <div>\n+                      <h4 className=\"text-sm font-medium text-gray-900\">\n+                        Email Reports\n+                      </h4>\n+                      <p className=\"text-sm text-gray-500\">\n+                        Receive weekly summary reports\n+                      </p>\n+                    </div>\n+                    <input\n+                      type=\"checkbox\"\n+                      checked={settings.emailReports}\n+                      onChange={(e) =>\n+                        handleSettingChange('emailReports', e.target.checked)\n+                      }\n+                      className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n+                    />\n+                  </div>\n+                </div>\n+              </AccordionContent>\n+            </AccordionItem>\n+\n+            <AccordionItem value=\"localization\" className=\"mt-6\">\n+              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n+                <div className=\"flex items-center\">\n+                  <Globe className=\"h-6 w-6 text-indigo-600 mr-3\" />\n+                  <div>\n+                    <h3 className=\"text-lg font-medium text-gray-900\">\n+                      Localization\n+                    </h3>\n+                    <p className=\"text-sm text-gray-500\">\n+                      Language and regional settings\n+                    </p>\n+                  </div>\n+                </div>\n+              </AccordionTrigger>\n+              <AccordionContent>\n+                <div className=\"px-4 py-5 bg-white space-y-4\">\n+                  <div>\n+                    <label className=\"block text-sm font-medium text-gray-700\">\n+                      Language\n+                    </label>\n+                    <select\n+                      value={settings.language}\n+                      onChange={(e) => handleSettingChange('language', e.target.value)}\n+                      className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\n+                    >\n+                      <option value=\"en\">English</option>\n+                      <option value=\"es\">Spanish</option>\n+                      <option value=\"fr\">French</option>\n+                    </select>\n+                  </div>\n+                </div>\n+              </AccordionContent>\n+            </AccordionItem>\n+\n+            <AccordionItem value=\"timezone\" className=\"mt-6\">\n+              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n+                <div className=\"flex items-center\">\n+                  <Clock className=\"h-6 w-6 text-indigo-600 mr-3\" />\n+                  <div>\n+                    <h3 className=\"text-lg font-medium text-gray-900\">\n+                      Time Zone\n+                    </h3>\n+                    <p className=\"text-sm text-gray-500\">\n+                      Configure your time zone settings\n+                    </p>\n+                  </div>\n+                </div>\n+              </AccordionTrigger>\n+              <AccordionContent>\n+                <div className=\"px-4 py-5 bg-white space-y-4\">\n+                  <div>\n+                    <label className=\"block text-sm font-medium text-gray-700\">\n+                      Time Zone\n+                    </label>\n+                    <select\n+                      value={settings.timezone}\n+                      onChange={(e) => handleSettingChange('timezone', e.target.value)}\n+                      className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\n+                    >\n+                      <option value=\"UTC\">UTC</option>\n+                      <option value=\"EST\">Eastern Time</option>\n+                      <option value=\"CST\">Central Time</option>\n+                      <option value=\"PST\">Pacific Time</option>\n+                    </select>\n+                  </div>\n+                </div>\n+              </AccordionContent>\n+            </AccordionItem>\n+          </Accordion>\n+        </section>\n+      </div>\n+      \n+      {isDashboardCustomizationOpen && (\n+        <DashboardCustomization onClose={() => setIsDashboardCustomizationOpen(false)} />\n+      )}\n+    </div>\n+  );\n+};\n+\n export default Settings;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1739014980626,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,20 @@\n import React, { useState } from 'react';\n-import { Settings as SettingsIcon, Shield, Bell, Globe, Clock, LayoutDashboard } from 'lucide-react';\n+import { Settings as SettingsIcon, Shield, Bell, Globe, Clock, LayoutDashboard, Mic2, Volume2 } from 'lucide-react';\n import RoleManagement from '../components/RoleManagement';\n import DashboardCustomization from '../components/DashboardCustomization';\n+import { VoiceManagement } from '../components/admin/VoiceManagement';\n+import { VoiceTesting } from '@/components/admin/VoiceTesting';\n import {\n   Accordion,\n   AccordionContent,\n   AccordionItem,\n   AccordionTrigger,\n } from '../components/ui/accordion';\n+import { useUser } from '../hooks/useUser';\n \n const Settings = () => {\n+  const { user } = useUser();\n   const [settings, setSettings] = useState({\n     notifications: true,\n     emailReports: false,\n     language: 'en',\n@@ -39,8 +43,70 @@\n         <section aria-labelledby=\"role-management\">\n           <RoleManagement />\n         </section>\n \n+        {/* Voice Management */}\n+        <section aria-labelledby=\"voice-management\">\n+          <Accordion type=\"single\" collapsible>\n+            <AccordionItem value=\"voice-settings\">\n+              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n+                <div className=\"flex items-center\">\n+                  <Mic2 className=\"h-6 w-6 text-indigo-600 mr-3\" />\n+                  <div>\n+                    <h3 className=\"text-lg font-medium text-gray-900\">\n+                      Voice Management\n+                    </h3>\n+                    <p className=\"text-sm text-gray-500\">\n+                      Manage text-to-speech voices and settings\n+                    </p>\n+                  </div>\n+                </div>\n+              </AccordionTrigger>\n+              <AccordionContent>\n+                <div className=\"px-4 py-5 bg-white space-y-4\">\n+                  {user?.schoolId ? (\n+                    <VoiceManagement \n+                      schoolId={user.schoolId} \n+                      userRole={user.role as 'SCHOOL_LEADER' | 'SCHOOL_PRINCIPAL'} \n+                    />\n+                  ) : (\n+                    <p className=\"text-sm text-gray-500\">\n+                      You need to be associated with a school to manage voices.\n+                    </p>\n+                  )}\n+                </div>\n+              </AccordionContent>\n+            </AccordionItem>\n+\n+            <AccordionItem value=\"voice-testing\" className=\"mt-6\">\n+              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n+                <div className=\"flex items-center\">\n+                  <Volume2 className=\"h-6 w-6 text-indigo-600 mr-3\" />\n+                  <div>\n+                    <h3 className=\"text-lg font-medium text-gray-900\">\n+                      Voice Testing\n+                    </h3>\n+                    <p className=\"text-sm text-gray-500\">\n+                      Test and preview available voices\n+                    </p>\n+                  </div>\n+                </div>\n+              </AccordionTrigger>\n+              <AccordionContent>\n+                <div className=\"px-4 py-5 bg-white space-y-4\">\n+                  {user?.schoolId ? (\n+                    <VoiceTesting schoolId={user.schoolId} />\n+                  ) : (\n+                    <p className=\"text-sm text-gray-500\">\n+                      You need to be associated with a school to test voices.\n+                    </p>\n+                  )}\n+                </div>\n+              </AccordionContent>\n+            </AccordionItem>\n+          </Accordion>\n+        </section>\n+\n         {/* Dashboard Customization */}\n         <section aria-labelledby=\"dashboard-customization\">\n           <div className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n             <div className=\"flex items-center justify-between\">\n@@ -64,10 +130,10 @@\n             </div>\n           </div>\n         </section>\n \n-        {/* Other Settings */}\n-        <section aria-labelledby=\"general-settings\">\n+        {/* Notifications */}\n+        <section aria-labelledby=\"notifications-settings\">\n           <Accordion type=\"single\" collapsible>\n             <AccordionItem value=\"notifications\">\n               <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n                 <div className=\"flex items-center\">\n@@ -92,16 +158,20 @@\n                       <p className=\"text-sm text-gray-500\">\n                         Receive real-time updates\n                       </p>\n                     </div>\n-                    <input\n-                      type=\"checkbox\"\n-                      checked={settings.notifications}\n-                      onChange={(e) =>\n-                        handleSettingChange('notifications', e.target.checked)\n-                      }\n-                      className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n-                    />\n+                    <label className=\"relative inline-flex items-center cursor-pointer\">\n+                      <input\n+                        type=\"checkbox\"\n+                        checked={settings.notifications}\n+                        onChange={(e) =>\n+                          handleSettingChange('notifications', e.target.checked)\n+                        }\n+                        className=\"sr-only peer\"\n+                        aria-label=\"Enable push notifications\"\n+                      />\n+                      <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\n+                    </label>\n                   </div>\n                   <div className=\"flex items-center justify-between\">\n                     <div>\n                       <h4 className=\"text-sm font-medium text-gray-900\">\n@@ -110,21 +180,30 @@\n                       <p className=\"text-sm text-gray-500\">\n                         Receive weekly summary reports\n                       </p>\n                     </div>\n-                    <input\n-                      type=\"checkbox\"\n-                      checked={settings.emailReports}\n-                      onChange={(e) =>\n-                        handleSettingChange('emailReports', e.target.checked)\n-                      }\n-                      className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n-                    />\n+                    <label className=\"relative inline-flex items-center cursor-pointer\">\n+                      <input\n+                        type=\"checkbox\"\n+                        checked={settings.emailReports}\n+                        onChange={(e) =>\n+                          handleSettingChange('emailReports', e.target.checked)\n+                        }\n+                        className=\"sr-only peer\"\n+                        aria-label=\"Enable email reports\"\n+                      />\n+                      <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\n+                    </label>\n                   </div>\n                 </div>\n               </AccordionContent>\n             </AccordionItem>\n+          </Accordion>\n+        </section>\n \n+        {/* Other Settings */}\n+        <section aria-labelledby=\"general-settings\">\n+          <Accordion type=\"single\" collapsible>\n             <AccordionItem value=\"localization\" className=\"mt-6\">\n               <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n                 <div className=\"flex items-center\">\n                   <Globe className=\"h-6 w-6 text-indigo-600 mr-3\" />\n@@ -144,11 +223,13 @@\n                     <label className=\"block text-sm font-medium text-gray-700\">\n                       Language\n                     </label>\n                     <select\n+                      id=\"language-select\"\n                       value={settings.language}\n                       onChange={(e) => handleSettingChange('language', e.target.value)}\n                       className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\n+                      aria-label=\"Select language\"\n                     >\n                       <option value=\"en\">English</option>\n                       <option value=\"es\">Spanish</option>\n                       <option value=\"fr\">French</option>\n@@ -178,11 +259,13 @@\n                     <label className=\"block text-sm font-medium text-gray-700\">\n                       Time Zone\n                     </label>\n                     <select\n+                      id=\"timezone-select\"\n                       value={settings.timezone}\n                       onChange={(e) => handleSettingChange('timezone', e.target.value)}\n                       className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\n+                      aria-label=\"Select timezone\"\n                     >\n                       <option value=\"UTC\">UTC</option>\n                       <option value=\"EST\">Eastern Time</option>\n                       <option value=\"CST\">Central Time</option>\n"
                },
                {
                    "date": 1739015098496,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,20 +1,16 @@\n import React, { useState } from 'react';\n-import { Settings as SettingsIcon, Shield, Bell, Globe, Clock, LayoutDashboard, Mic2, Volume2 } from 'lucide-react';\n+import { Settings as SettingsIcon, Shield, Bell, Globe, Clock, LayoutDashboard } from 'lucide-react';\n import RoleManagement from '../components/RoleManagement';\n import DashboardCustomization from '../components/DashboardCustomization';\n-import { VoiceManagement } from '../components/admin/VoiceManagement';\n-import { VoiceTesting } from '@/components/admin/VoiceTesting';\n import {\n   Accordion,\n   AccordionContent,\n   AccordionItem,\n   AccordionTrigger,\n } from '../components/ui/accordion';\n-import { useUser } from '../hooks/useUser';\n \n const Settings = () => {\n-  const { user } = useUser();\n   const [settings, setSettings] = useState({\n     notifications: true,\n     emailReports: false,\n     language: 'en',\n@@ -43,70 +39,8 @@\n         <section aria-labelledby=\"role-management\">\n           <RoleManagement />\n         </section>\n \n-        {/* Voice Management */}\n-        <section aria-labelledby=\"voice-management\">\n-          <Accordion type=\"single\" collapsible>\n-            <AccordionItem value=\"voice-settings\">\n-              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n-                <div className=\"flex items-center\">\n-                  <Mic2 className=\"h-6 w-6 text-indigo-600 mr-3\" />\n-                  <div>\n-                    <h3 className=\"text-lg font-medium text-gray-900\">\n-                      Voice Management\n-                    </h3>\n-                    <p className=\"text-sm text-gray-500\">\n-                      Manage text-to-speech voices and settings\n-                    </p>\n-                  </div>\n-                </div>\n-              </AccordionTrigger>\n-              <AccordionContent>\n-                <div className=\"px-4 py-5 bg-white space-y-4\">\n-                  {user?.schoolId ? (\n-                    <VoiceManagement \n-                      schoolId={user.schoolId} \n-                      userRole={user.role as 'SCHOOL_LEADER' | 'SCHOOL_PRINCIPAL'} \n-                    />\n-                  ) : (\n-                    <p className=\"text-sm text-gray-500\">\n-                      You need to be associated with a school to manage voices.\n-                    </p>\n-                  )}\n-                </div>\n-              </AccordionContent>\n-            </AccordionItem>\n-\n-            <AccordionItem value=\"voice-testing\" className=\"mt-6\">\n-              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n-                <div className=\"flex items-center\">\n-                  <Volume2 className=\"h-6 w-6 text-indigo-600 mr-3\" />\n-                  <div>\n-                    <h3 className=\"text-lg font-medium text-gray-900\">\n-                      Voice Testing\n-                    </h3>\n-                    <p className=\"text-sm text-gray-500\">\n-                      Test and preview available voices\n-                    </p>\n-                  </div>\n-                </div>\n-              </AccordionTrigger>\n-              <AccordionContent>\n-                <div className=\"px-4 py-5 bg-white space-y-4\">\n-                  {user?.schoolId ? (\n-                    <VoiceTesting schoolId={user.schoolId} />\n-                  ) : (\n-                    <p className=\"text-sm text-gray-500\">\n-                      You need to be associated with a school to test voices.\n-                    </p>\n-                  )}\n-                </div>\n-              </AccordionContent>\n-            </AccordionItem>\n-          </Accordion>\n-        </section>\n-\n         {/* Dashboard Customization */}\n         <section aria-labelledby=\"dashboard-customization\">\n           <div className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n             <div className=\"flex items-center justify-between\">\n@@ -130,10 +64,10 @@\n             </div>\n           </div>\n         </section>\n \n-        {/* Notifications */}\n-        <section aria-labelledby=\"notifications-settings\">\n+        {/* Other Settings */}\n+        <section aria-labelledby=\"general-settings\">\n           <Accordion type=\"single\" collapsible>\n             <AccordionItem value=\"notifications\">\n               <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n                 <div className=\"flex items-center\">\n@@ -158,20 +92,16 @@\n                       <p className=\"text-sm text-gray-500\">\n                         Receive real-time updates\n                       </p>\n                     </div>\n-                    <label className=\"relative inline-flex items-center cursor-pointer\">\n-                      <input\n-                        type=\"checkbox\"\n-                        checked={settings.notifications}\n-                        onChange={(e) =>\n-                          handleSettingChange('notifications', e.target.checked)\n-                        }\n-                        className=\"sr-only peer\"\n-                        aria-label=\"Enable push notifications\"\n-                      />\n-                      <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\n-                    </label>\n+                    <input\n+                      type=\"checkbox\"\n+                      checked={settings.notifications}\n+                      onChange={(e) =>\n+                        handleSettingChange('notifications', e.target.checked)\n+                      }\n+                      className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n+                    />\n                   </div>\n                   <div className=\"flex items-center justify-between\">\n                     <div>\n                       <h4 className=\"text-sm font-medium text-gray-900\">\n@@ -180,30 +110,21 @@\n                       <p className=\"text-sm text-gray-500\">\n                         Receive weekly summary reports\n                       </p>\n                     </div>\n-                    <label className=\"relative inline-flex items-center cursor-pointer\">\n-                      <input\n-                        type=\"checkbox\"\n-                        checked={settings.emailReports}\n-                        onChange={(e) =>\n-                          handleSettingChange('emailReports', e.target.checked)\n-                        }\n-                        className=\"sr-only peer\"\n-                        aria-label=\"Enable email reports\"\n-                      />\n-                      <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\n-                    </label>\n+                    <input\n+                      type=\"checkbox\"\n+                      checked={settings.emailReports}\n+                      onChange={(e) =>\n+                        handleSettingChange('emailReports', e.target.checked)\n+                      }\n+                      className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n+                    />\n                   </div>\n                 </div>\n               </AccordionContent>\n             </AccordionItem>\n-          </Accordion>\n-        </section>\n \n-        {/* Other Settings */}\n-        <section aria-labelledby=\"general-settings\">\n-          <Accordion type=\"single\" collapsible>\n             <AccordionItem value=\"localization\" className=\"mt-6\">\n               <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n                 <div className=\"flex items-center\">\n                   <Globe className=\"h-6 w-6 text-indigo-600 mr-3\" />\n@@ -223,13 +144,11 @@\n                     <label className=\"block text-sm font-medium text-gray-700\">\n                       Language\n                     </label>\n                     <select\n-                      id=\"language-select\"\n                       value={settings.language}\n                       onChange={(e) => handleSettingChange('language', e.target.value)}\n                       className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\n-                      aria-label=\"Select language\"\n                     >\n                       <option value=\"en\">English</option>\n                       <option value=\"es\">Spanish</option>\n                       <option value=\"fr\">French</option>\n@@ -259,13 +178,11 @@\n                     <label className=\"block text-sm font-medium text-gray-700\">\n                       Time Zone\n                     </label>\n                     <select\n-                      id=\"timezone-select\"\n                       value={settings.timezone}\n                       onChange={(e) => handleSettingChange('timezone', e.target.value)}\n                       className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\n-                      aria-label=\"Select timezone\"\n                     >\n                       <option value=\"UTC\">UTC</option>\n                       <option value=\"EST\">Eastern Time</option>\n                       <option value=\"CST\">Central Time</option>\n"
                },
                {
                    "date": 1739015242056,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,20 @@\n import React, { useState } from 'react';\n-import { Settings as SettingsIcon, Shield, Bell, Globe, Clock, LayoutDashboard } from 'lucide-react';\n+import { Settings as SettingsIcon, Shield, Bell, Globe, Clock, LayoutDashboard, Mic2, Volume2 } from 'lucide-react';\n import RoleManagement from '../components/RoleManagement';\n import DashboardCustomization from '../components/DashboardCustomization';\n+import { VoiceManagement } from '../components/admin/VoiceManagement';\n+import { VoiceTesting } from '@/components/admin/VoiceTesting';\n import {\n   Accordion,\n   AccordionContent,\n   AccordionItem,\n   AccordionTrigger,\n } from '../components/ui/accordion';\n+import { useUser } from '../hooks/useUser';\n \n const Settings = () => {\n+  const { user } = useUser();\n   const [settings, setSettings] = useState({\n     notifications: true,\n     emailReports: false,\n     language: 'en',\n@@ -39,8 +43,70 @@\n         <section aria-labelledby=\"role-management\">\n           <RoleManagement />\n         </section>\n \n+        {/* Voice Management */}\n+        <section aria-labelledby=\"voice-management\">\n+          <Accordion type=\"single\" collapsible>\n+            <AccordionItem value=\"voice-settings\">\n+              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n+                <div className=\"flex items-center\">\n+                  <Mic2 className=\"h-6 w-6 text-indigo-600 mr-3\" />\n+                  <div>\n+                    <h3 className=\"text-lg font-medium text-gray-900\">\n+                      Voice Management\n+                    </h3>\n+                    <p className=\"text-sm text-gray-500\">\n+                      Manage text-to-speech voices and settings\n+                    </p>\n+                  </div>\n+                </div>\n+              </AccordionTrigger>\n+              <AccordionContent>\n+                <div className=\"px-4 py-5 bg-white space-y-4\">\n+                  {user?.schoolId ? (\n+                    <VoiceManagement \n+                      schoolId={user.schoolId} \n+                      userRole={user.role as 'SCHOOL_LEADER' | 'SCHOOL_PRINCIPAL'} \n+                    />\n+                  ) : (\n+                    <p className=\"text-sm text-gray-500\">\n+                      You need to be associated with a school to manage voices.\n+                    </p>\n+                  )}\n+                </div>\n+              </AccordionContent>\n+            </AccordionItem>\n+\n+            <AccordionItem value=\"voice-testing\" className=\"mt-6\">\n+              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n+                <div className=\"flex items-center\">\n+                  <Volume2 className=\"h-6 w-6 text-indigo-600 mr-3\" />\n+                  <div>\n+                    <h3 className=\"text-lg font-medium text-gray-900\">\n+                      Voice Testing\n+                    </h3>\n+                    <p className=\"text-sm text-gray-500\">\n+                      Test and preview available voices\n+                    </p>\n+                  </div>\n+                </div>\n+              </AccordionTrigger>\n+              <AccordionContent>\n+                <div className=\"px-4 py-5 bg-white space-y-4\">\n+                  {user?.schoolId ? (\n+                    <VoiceTesting schoolId={user.schoolId} />\n+                  ) : (\n+                    <p className=\"text-sm text-gray-500\">\n+                      You need to be associated with a school to test voices.\n+                    </p>\n+                  )}\n+                </div>\n+              </AccordionContent>\n+            </AccordionItem>\n+          </Accordion>\n+        </section>\n+\n         {/* Dashboard Customization */}\n         <section aria-labelledby=\"dashboard-customization\">\n           <div className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n             <div className=\"flex items-center justify-between\">\n@@ -64,10 +130,10 @@\n             </div>\n           </div>\n         </section>\n \n-        {/* Other Settings */}\n-        <section aria-labelledby=\"general-settings\">\n+        {/* Notifications */}\n+        <section aria-labelledby=\"notifications-settings\">\n           <Accordion type=\"single\" collapsible>\n             <AccordionItem value=\"notifications\">\n               <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n                 <div className=\"flex items-center\">\n@@ -92,16 +158,20 @@\n                       <p className=\"text-sm text-gray-500\">\n                         Receive real-time updates\n                       </p>\n                     </div>\n-                    <input\n-                      type=\"checkbox\"\n-                      checked={settings.notifications}\n-                      onChange={(e) =>\n-                        handleSettingChange('notifications', e.target.checked)\n-                      }\n-                      className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n-                    />\n+                    <label className=\"relative inline-flex items-center cursor-pointer\">\n+                      <input\n+                        type=\"checkbox\"\n+                        checked={settings.notifications}\n+                        onChange={(e) =>\n+                          handleSettingChange('notifications', e.target.checked)\n+                        }\n+                        className=\"sr-only peer\"\n+                        aria-label=\"Enable push notifications\"\n+                      />\n+                      <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\n+                    </label>\n                   </div>\n                   <div className=\"flex items-center justify-between\">\n                     <div>\n                       <h4 className=\"text-sm font-medium text-gray-900\">\n@@ -110,21 +180,30 @@\n                       <p className=\"text-sm text-gray-500\">\n                         Receive weekly summary reports\n                       </p>\n                     </div>\n-                    <input\n-                      type=\"checkbox\"\n-                      checked={settings.emailReports}\n-                      onChange={(e) =>\n-                        handleSettingChange('emailReports', e.target.checked)\n-                      }\n-                      className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n-                    />\n+                    <label className=\"relative inline-flex items-center cursor-pointer\">\n+                      <input\n+                        type=\"checkbox\"\n+                        checked={settings.emailReports}\n+                        onChange={(e) =>\n+                          handleSettingChange('emailReports', e.target.checked)\n+                        }\n+                        className=\"sr-only peer\"\n+                        aria-label=\"Enable email reports\"\n+                      />\n+                      <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\n+                    </label>\n                   </div>\n                 </div>\n               </AccordionContent>\n             </AccordionItem>\n+          </Accordion>\n+        </section>\n \n+        {/* Other Settings */}\n+        <section aria-labelledby=\"general-settings\">\n+          <Accordion type=\"single\" collapsible>\n             <AccordionItem value=\"localization\" className=\"mt-6\">\n               <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\n                 <div className=\"flex items-center\">\n                   <Globe className=\"h-6 w-6 text-indigo-600 mr-3\" />\n@@ -144,11 +223,13 @@\n                     <label className=\"block text-sm font-medium text-gray-700\">\n                       Language\n                     </label>\n                     <select\n+                      id=\"language-select\"\n                       value={settings.language}\n                       onChange={(e) => handleSettingChange('language', e.target.value)}\n                       className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\n+                      aria-label=\"Select language\"\n                     >\n                       <option value=\"en\">English</option>\n                       <option value=\"es\">Spanish</option>\n                       <option value=\"fr\">French</option>\n@@ -178,11 +259,13 @@\n                     <label className=\"block text-sm font-medium text-gray-700\">\n                       Time Zone\n                     </label>\n                     <select\n+                      id=\"timezone-select\"\n                       value={settings.timezone}\n                       onChange={(e) => handleSettingChange('timezone', e.target.value)}\n                       className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\n+                      aria-label=\"Select timezone\"\n                     >\n                       <option value=\"UTC\">UTC</option>\n                       <option value=\"EST\">Eastern Time</option>\n                       <option value=\"CST\">Central Time</option>\n"
                },
                {
                    "date": 1739044352438,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,12 +9,12 @@\n   AccordionContent,\n   AccordionItem,\n   AccordionTrigger,\n } from '../components/ui/accordion';\n-import { useUser } from '../hooks/useUser';\n \n+\n const Settings = () => {\n-  const { user } = useUser();\n+  \n   const [settings, setSettings] = useState({\n     notifications: true,\n     emailReports: false,\n     language: 'en',\n"
                },
                {
                    "date": 1739044415733,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,19 +2,20 @@\n import { Settings as SettingsIcon, Shield, Bell, Globe, Clock, LayoutDashboard, Mic2, Volume2 } from 'lucide-react';\n import RoleManagement from '../components/RoleManagement';\n import DashboardCustomization from '../components/DashboardCustomization';\n import { VoiceManagement } from '../components/admin/VoiceManagement';\n-import { VoiceTesting } from '@/components/admin/VoiceTesting';\n+import { VoiceTesting } from '../components/admin/VoiceTesting';\n import {\n   Accordion,\n   AccordionContent,\n   AccordionItem,\n   AccordionTrigger,\n } from '../components/ui/accordion';\n+import { useUser } from '@/hooks/useUser';\n \n \n const Settings = () => {\n-  \n+  const { user } = useUser();\n   const [settings, setSettings] = useState({\n     notifications: true,\n     emailReports: false,\n     language: 'en',\n"
                }
            ],
            "date": 1739012836048,
            "name": "Commit-0",
            "content": "import React, { useState } from 'react';\r\nimport { Settings as SettingsIcon, Shield, Bell, Globe, Clock, LayoutDashboard, Mic2, Volume2 } from 'lucide-react';\r\nimport RoleManagement from '../components/RoleManagement';\r\nimport DashboardCustomization from '../components/DashboardCustomization';\r\nimport { VoiceManagement } from '../components/admin/VoiceManagement';\r\nimport { VoiceTesting } from '@/components/admin/VoiceTesting';\r\nimport {\r\n  Accordion,\r\n  AccordionContent,\r\n  AccordionItem,\r\n  AccordionTrigger,\r\n} from '../components/ui/accordion';\r\nimport { useUser } from '../hooks/useUser';\r\n\r\nconst Settings = () => {\r\n  const { user } = useUser();\r\n  const [settings, setSettings] = useState({\r\n    notifications: true,\r\n    emailReports: false,\r\n    language: 'en',\r\n    timezone: 'UTC',\r\n  });\r\n\r\n  const [isDashboardCustomizationOpen, setIsDashboardCustomizationOpen] = useState(false);\r\n\r\n  const handleSettingChange = (setting: string, value: any) => {\r\n    setSettings((prev) => ({ ...prev, [setting]: value }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-semibold text-gray-900\">Settings</h1>\r\n          <p className=\"mt-1 text-sm text-gray-500\">\r\n            Manage your application settings and preferences\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-6\">\r\n        {/* Role Management */}\r\n        <section aria-labelledby=\"role-management\">\r\n          <RoleManagement />\r\n        </section>\r\n\r\n        {/* Voice Management */}\r\n        <section aria-labelledby=\"voice-management\">\r\n          <Accordion type=\"single\" collapsible>\r\n            <AccordionItem value=\"voice-settings\">\r\n              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\r\n                <div className=\"flex items-center\">\r\n                  <Mic2 className=\"h-6 w-6 text-indigo-600 mr-3\" />\r\n                  <div>\r\n                    <h3 className=\"text-lg font-medium text-gray-900\">\r\n                      Voice Management\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      Manage text-to-speech voices and settings\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </AccordionTrigger>\r\n              <AccordionContent>\r\n                <div className=\"px-4 py-5 bg-white space-y-4\">\r\n                  {user?.schoolId ? (\r\n                    <VoiceManagement \r\n                      schoolId={user.schoolId} \r\n                      userRole={user.role as 'SCHOOL_LEADER' | 'SCHOOL_PRINCIPAL'} \r\n                    />\r\n                  ) : (\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      You need to be associated with a school to manage voices.\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </AccordionContent>\r\n            </AccordionItem>\r\n\r\n            <AccordionItem value=\"voice-testing\" className=\"mt-6\">\r\n              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\r\n                <div className=\"flex items-center\">\r\n                  <Volume2 className=\"h-6 w-6 text-indigo-600 mr-3\" />\r\n                  <div>\r\n                    <h3 className=\"text-lg font-medium text-gray-900\">\r\n                      Voice Testing\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      Test and preview available voices\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </AccordionTrigger>\r\n              <AccordionContent>\r\n                <div className=\"px-4 py-5 bg-white space-y-4\">\r\n                  {user?.schoolId ? (\r\n                    <VoiceTesting schoolId={user.schoolId} />\r\n                  ) : (\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      You need to be associated with a school to test voices.\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </AccordionContent>\r\n            </AccordionItem>\r\n          </Accordion>\r\n        </section>\r\n\r\n        {/* Dashboard Customization */}\r\n        <section aria-labelledby=\"dashboard-customization\">\r\n          <div className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center\">\r\n                <LayoutDashboard className=\"h-6 w-6 text-indigo-600 mr-3\" />\r\n                <div>\r\n                  <h3 className=\"text-lg font-medium text-gray-900\">\r\n                    Dashboard Customization\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    Customize your dashboard layout and widgets\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={() => setIsDashboardCustomizationOpen(true)}\r\n                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700\"\r\n              >\r\n                Customize Dashboard\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Notifications */}\r\n        <section aria-labelledby=\"notifications-settings\">\r\n          <Accordion type=\"single\" collapsible>\r\n            <AccordionItem value=\"notifications\">\r\n              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\r\n                <div className=\"flex items-center\">\r\n                  <Bell className=\"h-6 w-6 text-indigo-600 mr-3\" />\r\n                  <div>\r\n                    <h3 className=\"text-lg font-medium text-gray-900\">\r\n                      Notifications\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      Manage your notification preferences\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </AccordionTrigger>\r\n              <AccordionContent>\r\n                <div className=\"px-4 py-5 bg-white space-y-4\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <h4 className=\"text-sm font-medium text-gray-900\">\r\n                        Push Notifications\r\n                      </h4>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        Receive real-time updates\r\n                      </p>\r\n                    </div>\r\n                    <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={settings.notifications}\r\n                        onChange={(e) =>\r\n                          handleSettingChange('notifications', e.target.checked)\r\n                        }\r\n                        className=\"sr-only peer\"\r\n                        aria-label=\"Enable push notifications\"\r\n                      />\r\n                      <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <h4 className=\"text-sm font-medium text-gray-900\">\r\n                        Email Reports\r\n                      </h4>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        Receive weekly summary reports\r\n                      </p>\r\n                    </div>\r\n                    <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={settings.emailReports}\r\n                        onChange={(e) =>\r\n                          handleSettingChange('emailReports', e.target.checked)\r\n                        }\r\n                        className=\"sr-only peer\"\r\n                        aria-label=\"Enable email reports\"\r\n                      />\r\n                      <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </AccordionContent>\r\n            </AccordionItem>\r\n          </Accordion>\r\n        </section>\r\n\r\n        {/* Other Settings */}\r\n        <section aria-labelledby=\"general-settings\">\r\n          <Accordion type=\"single\" collapsible>\r\n            <AccordionItem value=\"localization\" className=\"mt-6\">\r\n              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\r\n                <div className=\"flex items-center\">\r\n                  <Globe className=\"h-6 w-6 text-indigo-600 mr-3\" />\r\n                  <div>\r\n                    <h3 className=\"text-lg font-medium text-gray-900\">\r\n                      Localization\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      Language and regional settings\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </AccordionTrigger>\r\n              <AccordionContent>\r\n                <div className=\"px-4 py-5 bg-white space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">\r\n                      Language\r\n                    </label>\r\n                    <select\r\n                      id=\"language-select\"\r\n                      value={settings.language}\r\n                      onChange={(e) => handleSettingChange('language', e.target.value)}\r\n                      className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\r\n                      aria-label=\"Select language\"\r\n                    >\r\n                      <option value=\"en\">English</option>\r\n                      <option value=\"es\">Spanish</option>\r\n                      <option value=\"fr\">French</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </AccordionContent>\r\n            </AccordionItem>\r\n\r\n            <AccordionItem value=\"timezone\" className=\"mt-6\">\r\n              <AccordionTrigger className=\"bg-white px-4 py-5 shadow sm:rounded-lg hover:bg-gray-50\">\r\n                <div className=\"flex items-center\">\r\n                  <Clock className=\"h-6 w-6 text-indigo-600 mr-3\" />\r\n                  <div>\r\n                    <h3 className=\"text-lg font-medium text-gray-900\">\r\n                      Time Zone\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      Configure your time zone settings\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </AccordionTrigger>\r\n              <AccordionContent>\r\n                <div className=\"px-4 py-5 bg-white space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">\r\n                      Time Zone\r\n                    </label>\r\n                    <select\r\n                      id=\"timezone-select\"\r\n                      value={settings.timezone}\r\n                      onChange={(e) => handleSettingChange('timezone', e.target.value)}\r\n                      className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\r\n                      aria-label=\"Select timezone\"\r\n                    >\r\n                      <option value=\"UTC\">UTC</option>\r\n                      <option value=\"EST\">Eastern Time</option>\r\n                      <option value=\"CST\">Central Time</option>\r\n                      <option value=\"PST\">Pacific Time</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </AccordionContent>\r\n            </AccordionItem>\r\n          </Accordion>\r\n        </section>\r\n      </div>\r\n      \r\n      {isDashboardCustomizationOpen && (\r\n        <DashboardCustomization onClose={() => setIsDashboardCustomizationOpen(false)} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;"
        }
    ]
}